<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project - Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fira+Code:wght@400;500&family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function EE(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var l=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(i,n,l.get?l:{enumerable:!0,get:function(){return s[n]}})}),i}var rd={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function TE(){if(py)return ol;py=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,l,o){var h=null;if(o!==void 0&&(h=""+o),l.key!==void 0&&(h=""+l.key),"key"in l){o={};for(var c in l)c!=="key"&&(o[c]=l[c])}else o=l;return l=o.ref,{$$typeof:s,type:n,key:h,ref:l!==void 0?l:null,props:o}}return ol.Fragment=t,ol.jsx=i,ol.jsxs=i,ol}var my;function SE(){return my||(my=1,rd.exports=TE()),rd.exports}var j=SE(),nd={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function AE(){if(gy)return Lt;gy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function I(w,O,L){this.props=w,this.context=O,this.refs=S,this.updater=L||x}I.prototype.isReactComponent={},I.prototype.setState=function(w,O){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,O,"setState")},I.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function B(){}B.prototype=I.prototype;function M(w,O,L){this.props=w,this.context=O,this.refs=S,this.updater=L||x}var k=M.prototype=new B;k.constructor=M,b(k,I.prototype),k.isPureReactComponent=!0;var N=Array.isArray;function H(){}var T={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function q(w,O,L){var X=L.ref;return{$$typeof:s,type:w,key:O,ref:X!==void 0?X:null,props:L}}function it(w,O){return q(w.type,O,w.props)}function K(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function V(w){var O={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(L){return O[L]})}var W=/\/+/g;function Y(w,O){return typeof w=="object"&&w!==null&&w.key!=null?V(""+w.key):O.toString(36)}function ft(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(H,H):(w.status="pending",w.then(function(O){w.status==="pending"&&(w.status="fulfilled",w.value=O)},function(O){w.status==="pending"&&(w.status="rejected",w.reason=O)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function A(w,O,L,X,Q){var st=typeof w;(st==="undefined"||st==="boolean")&&(w=null);var ht=!1;if(w===null)ht=!0;else switch(st){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(w.$$typeof){case s:case t:ht=!0;break;case g:return ht=w._init,A(ht(w._payload),O,L,X,Q)}}if(ht)return Q=Q(w),ht=X===""?"."+Y(w,0):X,N(Q)?(L="",ht!=null&&(L=ht.replace(W,"$&/")+"/"),A(Q,O,L,"",function(lt){return lt})):Q!=null&&(K(Q)&&(Q=it(Q,L+(Q.key==null||w&&w.key===Q.key?"":(""+Q.key).replace(W,"$&/")+"/")+ht)),O.push(Q)),1;ht=0;var dt=X===""?".":X+":";if(N(w))for(var ut=0;ut<w.length;ut++)X=w[ut],st=dt+Y(X,ut),ht+=A(X,O,L,st,Q);else if(ut=E(w),typeof ut=="function")for(w=ut.call(w),ut=0;!(X=w.next()).done;)X=X.value,st=dt+Y(X,ut++),ht+=A(X,O,L,st,Q);else if(st==="object"){if(typeof w.then=="function")return A(ft(w),O,L,X,Q);throw O=String(w),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ht}function D(w,O,L){if(w==null)return w;var X=[],Q=0;return A(w,X,"","",function(st){return O.call(L,st,Q++)}),X}function C(w){if(w._status===-1){var O=w._result;O=O(),O.then(function(L){(w._status===0||w._status===-1)&&(w._status=1,w._result=L)},function(L){(w._status===0||w._status===-1)&&(w._status=2,w._result=L)}),w._status===-1&&(w._status=0,w._result=O)}if(w._status===1)return w._result.default;throw w._result}var G=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},U={map:D,forEach:function(w,O,L){D(w,function(){O.apply(this,arguments)},L)},count:function(w){var O=0;return D(w,function(){O++}),O},toArray:function(w){return D(w,function(O){return O})||[]},only:function(w){if(!K(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Lt.Activity=y,Lt.Children=U,Lt.Component=I,Lt.Fragment=i,Lt.Profiler=l,Lt.PureComponent=M,Lt.StrictMode=n,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return T.H.useMemoCache(w)}},Lt.cache=function(w){return function(){return w.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(w,O,L){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=b({},w.props),Q=w.key;if(O!=null)for(st in O.key!==void 0&&(Q=""+O.key),O)!P.call(O,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&O.ref===void 0||(X[st]=O[st]);var st=arguments.length-2;if(st===1)X.children=L;else if(1<st){for(var ht=Array(st),dt=0;dt<st;dt++)ht[dt]=arguments[dt+2];X.children=ht}return q(w.type,Q,X)},Lt.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},Lt.createElement=function(w,O,L){var X,Q={},st=null;if(O!=null)for(X in O.key!==void 0&&(st=""+O.key),O)P.call(O,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=O[X]);var ht=arguments.length-2;if(ht===1)Q.children=L;else if(1<ht){for(var dt=Array(ht),ut=0;ut<ht;ut++)dt[ut]=arguments[ut+2];Q.children=dt}if(w&&w.defaultProps)for(X in ht=w.defaultProps,ht)Q[X]===void 0&&(Q[X]=ht[X]);return q(w,st,Q)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(w){return{$$typeof:c,render:w}},Lt.isValidElement=K,Lt.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:C}},Lt.memo=function(w,O){return{$$typeof:m,type:w,compare:O===void 0?null:O}},Lt.startTransition=function(w){var O=T.T,L={};T.T=L;try{var X=w(),Q=T.S;Q!==null&&Q(L,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(H,G)}catch(st){G(st)}finally{O!==null&&L.types!==null&&(O.types=L.types),T.T=O}},Lt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Lt.use=function(w){return T.H.use(w)},Lt.useActionState=function(w,O,L){return T.H.useActionState(w,O,L)},Lt.useCallback=function(w,O){return T.H.useCallback(w,O)},Lt.useContext=function(w){return T.H.useContext(w)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(w,O){return T.H.useDeferredValue(w,O)},Lt.useEffect=function(w,O){return T.H.useEffect(w,O)},Lt.useEffectEvent=function(w){return T.H.useEffectEvent(w)},Lt.useId=function(){return T.H.useId()},Lt.useImperativeHandle=function(w,O,L){return T.H.useImperativeHandle(w,O,L)},Lt.useInsertionEffect=function(w,O){return T.H.useInsertionEffect(w,O)},Lt.useLayoutEffect=function(w,O){return T.H.useLayoutEffect(w,O)},Lt.useMemo=function(w,O){return T.H.useMemo(w,O)},Lt.useOptimistic=function(w,O){return T.H.useOptimistic(w,O)},Lt.useReducer=function(w,O,L){return T.H.useReducer(w,O,L)},Lt.useRef=function(w){return T.H.useRef(w)},Lt.useState=function(w){return T.H.useState(w)},Lt.useSyncExternalStore=function(w,O,L){return T.H.useSyncExternalStore(w,O,L)},Lt.useTransition=function(){return T.H.useTransition()},Lt.version="19.2.4",Lt}var yy;function fp(){return yy||(yy=1,nd.exports=AE()),nd.exports}var St=fp(),sd={exports:{}},ul={},ad={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function wE(){return vy||(vy=1,(function(s){function t(A,D){var C=A.length;A.push(D);t:for(;0<C;){var G=C-1>>>1,U=A[G];if(0<l(U,D))A[G]=D,A[C]=U,C=G;else break t}}function i(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var D=A[0],C=A.pop();if(C!==D){A[0]=C;t:for(var G=0,U=A.length,w=U>>>1;G<w;){var O=2*(G+1)-1,L=A[O],X=O+1,Q=A[X];if(0>l(L,C))X<U&&0>l(Q,L)?(A[G]=Q,A[X]=C,G=X):(A[G]=L,A[O]=C,G=O);else if(X<U&&0>l(Q,C))A[G]=Q,A[X]=C,G=X;else break t}}return D}function l(A,D){var C=A.sortIndex-D.sortIndex;return C!==0?C:A.id-D.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();s.unstable_now=function(){return h.now()-c}}var p=[],m=[],g=1,y=null,_=3,E=!1,x=!1,b=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function k(A){for(var D=i(m);D!==null;){if(D.callback===null)n(m);else if(D.startTime<=A)n(m),D.sortIndex=D.expirationTime,t(p,D);else break;D=i(m)}}function N(A){if(b=!1,k(A),!x)if(i(p)!==null)x=!0,H||(H=!0,V());else{var D=i(m);D!==null&&ft(N,D.startTime-A)}}var H=!1,T=-1,P=5,q=-1;function it(){return S?!0:!(s.unstable_now()-q<P)}function K(){if(S=!1,H){var A=s.unstable_now();q=A;var D=!0;try{t:{x=!1,b&&(b=!1,B(T),T=-1),E=!0;var C=_;try{e:{for(k(A),y=i(p);y!==null&&!(y.expirationTime>A&&it());){var G=y.callback;if(typeof G=="function"){y.callback=null,_=y.priorityLevel;var U=G(y.expirationTime<=A);if(A=s.unstable_now(),typeof U=="function"){y.callback=U,k(A),D=!0;break e}y===i(p)&&n(p),k(A)}else n(p);y=i(p)}if(y!==null)D=!0;else{var w=i(m);w!==null&&ft(N,w.startTime-A),D=!1}}break t}finally{y=null,_=C,E=!1}D=void 0}}finally{D?V():H=!1}}}var V;if(typeof M=="function")V=function(){M(K)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=K,V=function(){Y.postMessage(null)}}else V=function(){I(K,0)};function ft(A,D){T=I(function(){A(s.unstable_now())},D)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(A){switch(_){case 1:case 2:case 3:var D=3;break;default:D=_}var C=_;_=D;try{return A()}finally{_=C}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var C=_;_=A;try{return D()}finally{_=C}},s.unstable_scheduleCallback=function(A,D,C){var G=s.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?G+C:G):C=G,A){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=C+U,A={id:g++,callback:D,priorityLevel:A,startTime:C,expirationTime:U,sortIndex:-1},C>G?(A.sortIndex=C,t(m,A),i(p)===null&&A===i(m)&&(b?(B(T),T=-1):b=!0,ft(N,C-G))):(A.sortIndex=U,t(p,A),x||E||(x=!0,H||(H=!0,V()))),A},s.unstable_shouldYield=it,s.unstable_wrapCallback=function(A){var D=_;return function(){var C=_;_=D;try{return A.apply(this,arguments)}finally{_=C}}}})(ld)),ld}var _y;function CE(){return _y||(_y=1,ad.exports=wE()),ad.exports}var od={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function RE(){if(xy)return $e;xy=1;var s=fp();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$e.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(p,m,null,g)},$e.flushSync=function(p){var m=h.T,g=n.p;try{if(h.T=null,n.p=2,p)return p()}finally{h.T=m,n.p=g,n.d.f()}},$e.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(p,m))},$e.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},$e.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=c(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:E}):g==="script"&&n.d.X(p,{crossOrigin:y,integrity:_,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},$e.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=c(m.as,m.crossOrigin);n.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(p)},$e.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=c(g,m.crossOrigin);n.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},$e.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=c(m.as,m.crossOrigin);n.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(p)},$e.requestFormReset=function(p){n.d.r(p)},$e.unstable_batchedUpdates=function(p,m){return p(m)},$e.useFormState=function(p,m,g){return h.H.useFormState(p,m,g)},$e.useFormStatus=function(){return h.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var by;function ME(){if(by)return od.exports;by=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),od.exports=RE(),od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function DE(){if(Ey)return ul;Ey=1;var s=CE(),t=fp(),i=ME();function n(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function c(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(o(e)!==e)throw Error(n(188))}function m(e){var r=e.alternate;if(!r){if(r=o(e),r===null)throw Error(n(188));return r!==e?null:e}for(var a=e,u=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),e;if(f===u)return p(d),r;f=f.sibling}throw Error(n(188))}if(a.return!==u.return)a=d,u=f;else{for(var v=!1,R=d.child;R;){if(R===a){v=!0,a=d,u=f;break}if(R===u){v=!0,u=d,a=f;break}R=R.sibling}if(!v){for(R=f.child;R;){if(R===a){v=!0,a=f,u=d;break}if(R===u){v=!0,u=f,a=d;break}R=R.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),M=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),it=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case H:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case M:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case k:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T:return r=e.displayName||null,r!==null?r:Y(e.type)||"Memo";case P:r=e._payload,e=e._init;try{return Y(e(r))}catch{}}return null}var ft=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C={pending:!1,data:null,method:null,action:null},G=[],U=-1;function w(e){return{current:e}}function O(e){0>U||(e.current=G[U],G[U]=null,U--)}function L(e,r){U++,G[U]=e.current,e.current=r}var X=w(null),Q=w(null),st=w(null),ht=w(null);function dt(e,r){switch(L(st,r),L(Q,e),L(X,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?P0(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=P0(r),e=F0(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(X),L(X,e)}function ut(){O(X),O(Q),O(st)}function lt(e){e.memoizedState!==null&&L(ht,e);var r=X.current,a=F0(r,e.type);r!==a&&(L(Q,e),L(X,a))}function gt(e){Q.current===e&&(O(X),O(Q)),ht.current===e&&(O(ht),nl._currentValue=C)}var yt,xt;function At(e){if(yt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);yt=r&&r[1]||"",xt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+e+xt}var vt=!1;function pt(e,r){if(!e||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(nt){var et=nt}Reflect.construct(e,[],ct)}else{try{ct.call()}catch(nt){et=nt}e.call(ct.prototype)}}else{try{throw Error()}catch(nt){et=nt}(ct=e())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(nt){if(nt&&et&&typeof nt.stack=="string")return[nt.stack,et.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=u.DetermineComponentFrameRoot(),v=f[0],R=f[1];if(v&&R){var F=v.split(`
`),tt=R.split(`
`);for(d=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;d<tt.length&&!tt[d].includes("DetermineComponentFrameRoot");)d++;if(u===F.length||d===tt.length)for(u=F.length-1,d=tt.length-1;1<=u&&0<=d&&F[u]!==tt[d];)d--;for(;1<=u&&0<=d;u--,d--)if(F[u]!==tt[d]){if(u!==1||d!==1)do if(u--,d--,0>d||F[u]!==tt[d]){var at=`
`+F[u].replace(" at new "," at ");return e.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",e.displayName)),at}while(1<=u&&0<=d);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?At(a):""}function It(e,r){switch(e.tag){case 26:case 27:case 5:return At(e.type);case 16:return At("Lazy");case 13:return e.child!==r&&r!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return At("Activity");default:return""}}function Ht(e){try{var r="",a=null;do r+=It(e,a),a=e,e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var we=Object.prototype.hasOwnProperty,ge=s.unstable_scheduleCallback,zt=s.unstable_cancelCallback,Yt=s.unstable_shouldYield,se=s.unstable_requestPaint,jt=s.unstable_now,Wi=s.unstable_getCurrentPriorityLevel,fr=s.unstable_ImmediatePriority,bi=s.unstable_UserBlockingPriority,ti=s.unstable_NormalPriority,ke=s.unstable_LowPriority,ui=s.unstable_IdlePriority,he=s.log,$u=s.unstable_setDisableYieldValue,Cn=null,Ge=null;function hi(e){if(typeof he=="function"&&$u(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Cn,e)}catch{}}var Z=Math.clz32?Math.clz32:ae,rt=Math.log,Qt=Math.LN2;function ae(e){return e>>>=0,e===0?32:31-(rt(e)/Qt|0)|0}var ie=256,Ut=262144,ci=4194304;function We(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,r,a){var u=e.pendingLanes;if(u===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var R=u&134217727;return R!==0?(u=R&~f,u!==0?d=We(u):(v&=R,v!==0?d=We(v):a||(a=R&~e,a!==0&&(d=We(a))))):(R=u&~f,R!==0?d=We(R):v!==0?d=We(v):a||(a=u&~e,a!==0&&(d=We(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function ei(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function ma(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(){var e=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),e}function Ze(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function jr(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ml(e,r,a,u,d,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var R=e.entanglements,F=e.expirationTimes,tt=e.hiddenUpdates;for(a=v&~a;0<a;){var at=31-Z(a),ct=1<<at;R[at]=0,F[at]=-1;var et=tt[at];if(et!==null)for(tt[at]=null,at=0;at<et.length;at++){var nt=et[at];nt!==null&&(nt.lane&=-536870913)}a&=~ct}u!==0&&ga(e,u,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~r))}function ga(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var u=31-Z(r);e.entangledLanes|=r,e.entanglements[u]=e.entanglements[u]|1073741824|a&261930}function Xr(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var u=31-Z(a),d=1<<u;d&r|e[u]&r&&(e[u]|=r),a&=~d}}function cs(e,r){var a=r&-r;return a=(a&42)!==0?1:Vr(a),(a&(e.suspendedLanes|r))!==0?0:a}function Vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ds(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:ly(e.type))}function ya(e,r){var a=D.p;try{return D.p=e,r()}finally{D.p=a}}var Li=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Li,ze="__reactProps$"+Li,Zi="__reactContainer$"+Li,fs="__reactEvents$"+Li,Wu="__reactListeners$"+Li,va="__reactHandles$"+Li,mr="__reactResources$"+Li,Ki="__reactMarker$"+Li;function _a(e){delete e[Ee],delete e[ze],delete e[fs],delete e[Wu],delete e[va]}function gr(e){var r=e[Ee];if(r)return r;for(var a=e.parentNode;a;){if(r=a[Zi]||a[Ee]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=V0(e);e!==null;){if(a=e[Ee])return a;e=V0(e)}return r}e=a,a=e.parentNode}return null}function ps(e){if(e=e[Ee]||e[Zi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function xa(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(n(33))}function ms(e){var r=e[mr];return r||(r=e[mr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(e){e[Ki]=!0}var Ap=new Set,wp={};function Mn(e,r){gs(e,r),gs(e+"Capture",r)}function gs(e,r){for(wp[e]=r,e=0;e<r.length;e++)Ap.add(r[e])}var fb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cp={},Rp={};function pb(e){return we.call(Rp,e)?!0:we.call(Cp,e)?!1:fb.test(e)?Rp[e]=!0:(Cp[e]=!0,!1)}function Dl(e,r,a){if(pb(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function Ol(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function yr(e,r,a,u){if(u===null)e.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+u)}}function Ei(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mp(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mb(e,r,a){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,f=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Zu(e){if(!e._valueTracker){var r=Mp(e)?"checked":"value";e._valueTracker=mb(e,r,""+e[r])}}function Dp(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return e&&(u=Mp(e)?e.checked?"true":"false":e.value),e=u,e!==a?(r.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gb=/[\n"\\]/g;function Ti(e){return e.replace(gb,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ku(e,r,a,u,d,f,v,R){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Ei(r)):e.value!==""+Ei(r)&&(e.value=""+Ei(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?Qu(e,v,Ei(r)):a!=null?Qu(e,v,Ei(a)):u!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Ei(R):e.removeAttribute("name")}function Op(e,r,a,u,d,f,v,R){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Zu(e);return}a=a!=null?""+Ei(a):"",r=r!=null?""+Ei(r):a,R||r===e.value||(e.value=r),e.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=R?e.checked:!!u,e.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Zu(e)}function Qu(e,r,a){r==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ys(e,r,a,u){if(e=e.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=r.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&u&&(e[a].defaultSelected=!0)}else{for(a=""+Ei(a),r=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,u&&(e[d].defaultSelected=!0);return}r!==null||e[d].disabled||(r=e[d])}r!==null&&(r.selected=!0)}}function Bp(e,r,a){if(r!=null&&(r=""+Ei(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Ei(a):""}function Np(e,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(n(92));if(ft(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=Ei(r),e.defaultValue=a,u=e.textContent,u===a&&u!==""&&u!==null&&(e.value=u),Zu(e)}function vs(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var yb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ip(e,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":u?e.setProperty(r,a):typeof a!="number"||a===0||yb.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Up(e,r,a){if(r!=null&&typeof r!="object")throw Error(n(62));if(e=e.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&a[d]!==u&&Ip(e,d,u)}else for(var f in r)r.hasOwnProperty(f)&&Ip(e,f,r[f])}function Ju(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_b=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return _b.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vr(){}var th=null;function eh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,xs=null;function Lp(e){var r=ps(e);if(r&&(e=r.stateNode)){var a=e[ze]||null;t:switch(e=r.stateNode,r.type){case"input":if(Ku(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ti(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==e&&u.form===e.form){var d=u[ze]||null;if(!d)throw Error(n(90));Ku(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===e.form&&Dp(u)}break t;case"textarea":Bp(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&ys(e,!!a.multiple,r,!1)}}}var ih=!1;function Pp(e,r,a){if(ih)return e(r,a);ih=!0;try{var u=e(r);return u}finally{if(ih=!1,(_s!==null||xs!==null)&&(bo(),_s&&(r=_s,e=xs,xs=_s=null,Lp(r),e)))for(r=0;r<e.length;r++)Lp(e[r])}}function ba(e,r){var a=e.stateNode;if(a===null)return null;var u=a[ze]||null;if(u===null)return null;a=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=!1;if(_r)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){rh=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{rh=!1}var qr=null,nh=null,Il=null;function Fp(){if(Il)return Il;var e,r=nh,a=r.length,u,d="value"in qr?qr.value:qr.textContent,f=d.length;for(e=0;e<a&&r[e]===d[e];e++);var v=a-e;for(u=1;u<=v&&r[a-u]===d[f-u];u++);return Il=d.slice(e,1<u?1-u:void 0)}function Ul(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function kp(){return!1}function ii(e){function r(a,u,d,f,v){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(f):f[R]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ll:kp,this.isPropagationStopped=kp,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),r}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=ii(Dn),Ta=y({},Dn,{view:0,detail:0}),xb=ii(Ta),sh,ah,Sa,Fl=y({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(sh=e.screenX-Sa.screenX,ah=e.screenY-Sa.screenY):ah=sh=0,Sa=e),sh)},movementY:function(e){return"movementY"in e?e.movementY:ah}}),Gp=ii(Fl),bb=y({},Fl,{dataTransfer:0}),Eb=ii(bb),Tb=y({},Ta,{relatedTarget:0}),lh=ii(Tb),Sb=y({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ab=ii(Sb),wb=y({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cb=ii(wb),Rb=y({},Dn,{data:0}),zp=ii(Rb),Mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bb(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Ob[e])?!!r[e]:!1}function oh(){return Bb}var Nb=y({},Ta,{key:function(e){if(e.key){var r=Mb[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ib=ii(Nb),Ub=y({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=ii(Ub),Lb=y({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),Pb=ii(Lb),Fb=y({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kb=ii(Fb),Gb=y({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zb=ii(Gb),Hb=y({},Dn,{newState:0,oldState:0}),jb=ii(Hb),Xb=[9,13,27,32],uh=_r&&"CompositionEvent"in window,Aa=null;_r&&"documentMode"in document&&(Aa=document.documentMode);var Vb=_r&&"TextEvent"in window&&!Aa,jp=_r&&(!uh||Aa&&8<Aa&&11>=Aa),Xp=" ",Vp=!1;function qp(e,r){switch(e){case"keyup":return Xb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function qb(e,r){switch(e){case"compositionend":return Yp(r);case"keypress":return r.which!==32?null:(Vp=!0,Xp);case"textInput":return e=r.data,e===Xp&&Vp?null:e;default:return null}}function Yb(e,r){if(bs)return e==="compositionend"||!uh&&qp(e,r)?(e=Fp(),Il=nh=qr=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jp&&r.locale!=="ko"?null:r.data;default:return null}}var $b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $p(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!$b[e.type]:r==="textarea"}function Wp(e,r,a,u){_s?xs?xs.push(u):xs=[u]:_s=u,r=Ro(r,"onChange"),0<r.length&&(a=new Pl("onChange","change",null,a,u),e.push({event:a,listeners:r}))}var wa=null,Ca=null;function Wb(e){O0(e,0)}function kl(e){var r=xa(e);if(Dp(r))return e}function Zp(e,r){if(e==="change")return r}var Kp=!1;if(_r){var hh;if(_r){var ch="oninput"in document;if(!ch){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),ch=typeof Qp.oninput=="function"}hh=ch}else hh=!1;Kp=hh&&(!document.documentMode||9<document.documentMode)}function Jp(){wa&&(wa.detachEvent("onpropertychange",tm),Ca=wa=null)}function tm(e){if(e.propertyName==="value"&&kl(Ca)){var r=[];Wp(r,Ca,e,eh(e)),Pp(Wb,r)}}function Zb(e,r,a){e==="focusin"?(Jp(),wa=r,Ca=a,wa.attachEvent("onpropertychange",tm)):e==="focusout"&&Jp()}function Kb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(Ca)}function Qb(e,r){if(e==="click")return kl(r)}function Jb(e,r){if(e==="input"||e==="change")return kl(r)}function t1(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var di=typeof Object.is=="function"?Object.is:t1;function Ra(e,r){if(di(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!we.call(r,d)||!di(e[d],r[d]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function im(e,r){var a=em(e);e=0;for(var u;a;){if(a.nodeType===3){if(u=e+a.textContent.length,e<=r&&u>=r)return{node:a,offset:r-e};e=u}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=em(a)}}function rm(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?rm(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=Bl(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=Bl(e.document)}return r}function dh(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var e1=_r&&"documentMode"in document&&11>=document.documentMode,Es=null,fh=null,Ma=null,ph=!1;function sm(e,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ph||Es==null||Es!==Bl(u)||(u=Es,"selectionStart"in u&&dh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ma&&Ra(Ma,u)||(Ma=u,u=Ro(fh,"onSelect"),0<u.length&&(r=new Pl("onSelect","select",null,r,a),e.push({event:r,listeners:u}),r.target=Es)))}function On(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var Ts={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionrun:On("Transition","TransitionRun"),transitionstart:On("Transition","TransitionStart"),transitioncancel:On("Transition","TransitionCancel"),transitionend:On("Transition","TransitionEnd")},mh={},am={};_r&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Bn(e){if(mh[e])return mh[e];if(!Ts[e])return e;var r=Ts[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in am)return mh[e]=r[a];return e}var lm=Bn("animationend"),om=Bn("animationiteration"),um=Bn("animationstart"),i1=Bn("transitionrun"),r1=Bn("transitionstart"),n1=Bn("transitioncancel"),hm=Bn("transitionend"),cm=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function Pi(e,r){cm.set(e,r),Mn(r,[e])}var Gl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Si=[],Ss=0,yh=0;function zl(){for(var e=Ss,r=yh=Ss=0;r<e;){var a=Si[r];Si[r++]=null;var u=Si[r];Si[r++]=null;var d=Si[r];Si[r++]=null;var f=Si[r];if(Si[r++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}f!==0&&dm(a,d,f)}}function Hl(e,r,a,u){Si[Ss++]=e,Si[Ss++]=r,Si[Ss++]=a,Si[Ss++]=u,yh|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function vh(e,r,a,u){return Hl(e,r,a,u),jl(e)}function Nn(e,r){return Hl(e,null,null,r),jl(e)}function dm(e,r,a){e.lanes|=a;var u=e.alternate;u!==null&&(u.lanes|=a);for(var d=!1,f=e.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&r!==null&&(d=31-Z(a),e=f.hiddenUpdates,u=e[d],u===null?e[d]=[r]:u.push(r),r.lane=a|536870912),f):null}function jl(e){if(50<Ka)throw Ka=0,Cc=null,Error(n(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var As={};function s1(e,r,a,u){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,r,a,u){return new s1(e,r,a,u)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xr(e,r){var a=e.alternate;return a===null?(a=fi(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fm(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Xl(e,r,a,u,d,f){var v=0;if(u=e,typeof e=="function")_h(e)&&(v=1);else if(typeof e=="string")v=hE(e,a,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case q:return e=fi(31,a,r,d),e.elementType=q,e.lanes=f,e;case b:return In(a.children,d,f,r);case S:v=8,d|=24;break;case I:return e=fi(12,a,r,d|2),e.elementType=I,e.lanes=f,e;case N:return e=fi(13,a,r,d),e.elementType=N,e.lanes=f,e;case H:return e=fi(19,a,r,d),e.elementType=H,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:v=10;break t;case B:v=9;break t;case k:v=11;break t;case T:v=14;break t;case P:v=16,u=null;break t}v=29,a=Error(n(130,e===null?"null":typeof e,"")),u=null}return r=fi(v,a,r,d),r.elementType=e,r.type=u,r.lanes=f,r}function In(e,r,a,u){return e=fi(7,e,u,r),e.lanes=a,e}function xh(e,r,a){return e=fi(6,e,null,r),e.lanes=a,e}function pm(e){var r=fi(18,null,null,0);return r.stateNode=e,r}function bh(e,r,a){return r=fi(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var mm=new WeakMap;function Ai(e,r){if(typeof e=="object"&&e!==null){var a=mm.get(e);return a!==void 0?a:(r={value:e,source:r,stack:Ht(r)},mm.set(e,r),r)}return{value:e,source:r,stack:Ht(r)}}var ws=[],Cs=0,Vl=null,Da=0,wi=[],Ci=0,Yr=null,Qi=1,Ji="";function br(e,r){ws[Cs++]=Da,ws[Cs++]=Vl,Vl=e,Da=r}function gm(e,r,a){wi[Ci++]=Qi,wi[Ci++]=Ji,wi[Ci++]=Yr,Yr=e;var u=Qi;e=Ji;var d=32-Z(u)-1;u&=~(1<<d),a+=1;var f=32-Z(r)+d;if(30<f){var v=d-d%5;f=(u&(1<<v)-1).toString(32),u>>=v,d-=v,Qi=1<<32-Z(r)+d|a<<d|u,Ji=f+e}else Qi=1<<f|a<<d|u,Ji=e}function Eh(e){e.return!==null&&(br(e,1),gm(e,1,0))}function Th(e){for(;e===Vl;)Vl=ws[--Cs],ws[Cs]=null,Da=ws[--Cs],ws[Cs]=null;for(;e===Yr;)Yr=wi[--Ci],wi[Ci]=null,Ji=wi[--Ci],wi[Ci]=null,Qi=wi[--Ci],wi[Ci]=null}function ym(e,r){wi[Ci++]=Qi,wi[Ci++]=Ji,wi[Ci++]=Yr,Qi=r.id,Ji=r.overflow,Yr=e}var He=null,de=null,Zt=!1,$r=null,Ri=!1,Sh=Error(n(519));function Wr(e){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(Ai(r,e)),Sh}function vm(e){var r=e.stateNode,a=e.type,u=e.memoizedProps;switch(r[Ee]=e,r[ze]=u,a){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(a=0;a<Ja.length;a++)Vt(Ja[a],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),Op(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),Np(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||U0(r.textContent,a)?(u.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),u.onScroll!=null&&Vt("scroll",r),u.onScrollEnd!=null&&Vt("scrollend",r),u.onClick!=null&&(r.onclick=vr),r=!0):r=!1,r||Wr(e,!0)}function _m(e){for(He=e.return;He;)switch(He.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:He=He.return}}function Rs(e){if(e!==He)return!1;if(!Zt)return _m(e),Zt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hc(e.type,e.memoizedProps)),a=!a),a&&de&&Wr(e),_m(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));de=X0(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));de=X0(e)}else r===27?(r=de,hn(e.type)?(e=Yc,Yc=null,de=e):de=r):de=He?Di(e.stateNode.nextSibling):null;return!0}function Un(){de=He=null,Zt=!1}function Ah(){var e=$r;return e!==null&&(ai===null?ai=e:ai.push.apply(ai,e),$r=null),e}function Oa(e){$r===null?$r=[e]:$r.push(e)}var wh=w(null),Ln=null,Er=null;function Zr(e,r,a){L(wh,r._currentValue),r._currentValue=a}function Tr(e){e._currentValue=wh.current,O(wh)}function Ch(e,r,a){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),e===a)break;e=e.return}}function Rh(e,r,a,u){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;t:for(;f!==null;){var R=f;f=d;for(var F=0;F<r.length;F++)if(R.context===r[F]){f.lanes|=a,R=f.alternate,R!==null&&(R.lanes|=a),Ch(f.return,a,e),u||(v=null);break t}f=R.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(n(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Ch(v,a,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ms(e,r,a,u){e=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(n(387));if(v=v.memoizedProps,v!==null){var R=d.type;di(d.pendingProps.value,v.value)||(e!==null?e.push(R):e=[R])}}else if(d===ht.current){if(v=d.alternate,v===null)throw Error(n(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}d=d.return}e!==null&&Rh(r,e,a,u),r.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!di(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pn(e){Ln=e,Er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return xm(Ln,e)}function Yl(e,r){return Ln===null&&Pn(e),xm(e,r)}function xm(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Er===null){if(e===null)throw Error(n(308));Er=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Er=Er.next=r;return a}var a1=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,u){e.push(u)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},l1=s.unstable_scheduleCallback,o1=s.unstable_NormalPriority,Ce={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mh(){return{controller:new a1,data:new Map,refCount:0}}function Ba(e){e.refCount--,e.refCount===0&&l1(o1,function(){e.controller.abort()})}var Na=null,Dh=0,Ds=0,Os=null;function u1(e,r){if(Na===null){var a=Na=[];Dh=0,Ds=Nc(),Os={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Dh++,r.then(bm,bm),r}function bm(){if(--Dh===0&&Na!==null){Os!==null&&(Os.status="fulfilled");var e=Na;Na=null,Ds=0,Os=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function h1(e,r){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var Em=A.S;A.S=function(e,r){s0=jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&u1(e,r),Em!==null&&Em(e,r)};var Fn=w(null);function Oh(){var e=Fn.current;return e!==null?e:ce.pooledCache}function $l(e,r){r===null?L(Fn,Fn.current):L(Fn,r.pool)}function Tm(){var e=Oh();return e===null?null:{parent:Ce._currentValue,pool:e}}var Bs=Error(n(460)),Bh=Error(n(474)),Wl=Error(n(542)),Zl={then:function(){}};function Sm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Am(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(vr,vr),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Cm(e),e;default:if(typeof r.status=="string")r.then(vr,vr);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(n(482));e=r,e.status="pending",e.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Cm(e),e}throw Gn=r,Bs}}function kn(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gn=a,Bs):a}}var Gn=null;function wm(){if(Gn===null)throw Error(n(459));var e=Gn;return Gn=null,e}function Cm(e){if(e===Bs||e===Wl)throw Error(n(483))}var Ns=null,Ia=0;function Kl(e){var r=Ia;return Ia+=1,Ns===null&&(Ns=[]),Am(Ns,e,r)}function Ua(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Ql(e,r){throw r.$$typeof===_?Error(n(525)):(e=Object.prototype.toString.call(r),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function Rm(e){function r($,z){if(e){var J=$.deletions;J===null?($.deletions=[z],$.flags|=16):J.push(z)}}function a($,z){if(!e)return null;for(;z!==null;)r($,z),z=z.sibling;return null}function u($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function d($,z){return $=xr($,z),$.index=0,$.sibling=null,$}function f($,z,J){return $.index=J,e?(J=$.alternate,J!==null?(J=J.index,J<z?($.flags|=67108866,z):J):($.flags|=67108866,z)):($.flags|=1048576,z)}function v($){return e&&$.alternate===null&&($.flags|=67108866),$}function R($,z,J,ot){return z===null||z.tag!==6?(z=xh(J,$.mode,ot),z.return=$,z):(z=d(z,J),z.return=$,z)}function F($,z,J,ot){var Ot=J.type;return Ot===b?at($,z,J.props.children,ot,J.key):z!==null&&(z.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&kn(Ot)===z.type)?(z=d(z,J.props),Ua(z,J),z.return=$,z):(z=Xl(J.type,J.key,J.props,null,$.mode,ot),Ua(z,J),z.return=$,z)}function tt($,z,J,ot){return z===null||z.tag!==4||z.stateNode.containerInfo!==J.containerInfo||z.stateNode.implementation!==J.implementation?(z=bh(J,$.mode,ot),z.return=$,z):(z=d(z,J.children||[]),z.return=$,z)}function at($,z,J,ot,Ot){return z===null||z.tag!==7?(z=In(J,$.mode,ot,Ot),z.return=$,z):(z=d(z,J),z.return=$,z)}function ct($,z,J){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=xh(""+z,$.mode,J),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return J=Xl(z.type,z.key,z.props,null,$.mode,J),Ua(J,z),J.return=$,J;case x:return z=bh(z,$.mode,J),z.return=$,z;case P:return z=kn(z),ct($,z,J)}if(ft(z)||V(z))return z=In(z,$.mode,J,null),z.return=$,z;if(typeof z.then=="function")return ct($,Kl(z),J);if(z.$$typeof===M)return ct($,Yl($,z),J);Ql($,z)}return null}function et($,z,J,ot){var Ot=z!==null?z.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ot!==null?null:R($,z,""+J,ot);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return J.key===Ot?F($,z,J,ot):null;case x:return J.key===Ot?tt($,z,J,ot):null;case P:return J=kn(J),et($,z,J,ot)}if(ft(J)||V(J))return Ot!==null?null:at($,z,J,ot,null);if(typeof J.then=="function")return et($,z,Kl(J),ot);if(J.$$typeof===M)return et($,z,Yl($,J),ot);Ql($,J)}return null}function nt($,z,J,ot,Ot){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return $=$.get(J)||null,R(z,$,""+ot,Ot);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case E:return $=$.get(ot.key===null?J:ot.key)||null,F(z,$,ot,Ot);case x:return $=$.get(ot.key===null?J:ot.key)||null,tt(z,$,ot,Ot);case P:return ot=kn(ot),nt($,z,J,ot,Ot)}if(ft(ot)||V(ot))return $=$.get(J)||null,at(z,$,ot,Ot,null);if(typeof ot.then=="function")return nt($,z,J,Kl(ot),Ot);if(ot.$$typeof===M)return nt($,z,J,Yl(z,ot),Ot);Ql(z,ot)}return null}function Tt($,z,J,ot){for(var Ot=null,Jt=null,wt=z,Gt=z=0,Wt=null;wt!==null&&Gt<J.length;Gt++){wt.index>Gt?(Wt=wt,wt=null):Wt=wt.sibling;var te=et($,wt,J[Gt],ot);if(te===null){wt===null&&(wt=Wt);break}e&&wt&&te.alternate===null&&r($,wt),z=f(te,z,Gt),Jt===null?Ot=te:Jt.sibling=te,Jt=te,wt=Wt}if(Gt===J.length)return a($,wt),Zt&&br($,Gt),Ot;if(wt===null){for(;Gt<J.length;Gt++)wt=ct($,J[Gt],ot),wt!==null&&(z=f(wt,z,Gt),Jt===null?Ot=wt:Jt.sibling=wt,Jt=wt);return Zt&&br($,Gt),Ot}for(wt=u(wt);Gt<J.length;Gt++)Wt=nt(wt,$,Gt,J[Gt],ot),Wt!==null&&(e&&Wt.alternate!==null&&wt.delete(Wt.key===null?Gt:Wt.key),z=f(Wt,z,Gt),Jt===null?Ot=Wt:Jt.sibling=Wt,Jt=Wt);return e&&wt.forEach(function(mn){return r($,mn)}),Zt&&br($,Gt),Ot}function Bt($,z,J,ot){if(J==null)throw Error(n(151));for(var Ot=null,Jt=null,wt=z,Gt=z=0,Wt=null,te=J.next();wt!==null&&!te.done;Gt++,te=J.next()){wt.index>Gt?(Wt=wt,wt=null):Wt=wt.sibling;var mn=et($,wt,te.value,ot);if(mn===null){wt===null&&(wt=Wt);break}e&&wt&&mn.alternate===null&&r($,wt),z=f(mn,z,Gt),Jt===null?Ot=mn:Jt.sibling=mn,Jt=mn,wt=Wt}if(te.done)return a($,wt),Zt&&br($,Gt),Ot;if(wt===null){for(;!te.done;Gt++,te=J.next())te=ct($,te.value,ot),te!==null&&(z=f(te,z,Gt),Jt===null?Ot=te:Jt.sibling=te,Jt=te);return Zt&&br($,Gt),Ot}for(wt=u(wt);!te.done;Gt++,te=J.next())te=nt(wt,$,Gt,te.value,ot),te!==null&&(e&&te.alternate!==null&&wt.delete(te.key===null?Gt:te.key),z=f(te,z,Gt),Jt===null?Ot=te:Jt.sibling=te,Jt=te);return e&&wt.forEach(function(bE){return r($,bE)}),Zt&&br($,Gt),Ot}function ue($,z,J,ot){if(typeof J=="object"&&J!==null&&J.type===b&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case E:t:{for(var Ot=J.key;z!==null;){if(z.key===Ot){if(Ot=J.type,Ot===b){if(z.tag===7){a($,z.sibling),ot=d(z,J.props.children),ot.return=$,$=ot;break t}}else if(z.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===P&&kn(Ot)===z.type){a($,z.sibling),ot=d(z,J.props),Ua(ot,J),ot.return=$,$=ot;break t}a($,z);break}else r($,z);z=z.sibling}J.type===b?(ot=In(J.props.children,$.mode,ot,J.key),ot.return=$,$=ot):(ot=Xl(J.type,J.key,J.props,null,$.mode,ot),Ua(ot,J),ot.return=$,$=ot)}return v($);case x:t:{for(Ot=J.key;z!==null;){if(z.key===Ot)if(z.tag===4&&z.stateNode.containerInfo===J.containerInfo&&z.stateNode.implementation===J.implementation){a($,z.sibling),ot=d(z,J.children||[]),ot.return=$,$=ot;break t}else{a($,z);break}else r($,z);z=z.sibling}ot=bh(J,$.mode,ot),ot.return=$,$=ot}return v($);case P:return J=kn(J),ue($,z,J,ot)}if(ft(J))return Tt($,z,J,ot);if(V(J)){if(Ot=V(J),typeof Ot!="function")throw Error(n(150));return J=Ot.call(J),Bt($,z,J,ot)}if(typeof J.then=="function")return ue($,z,Kl(J),ot);if(J.$$typeof===M)return ue($,z,Yl($,J),ot);Ql($,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,z!==null&&z.tag===6?(a($,z.sibling),ot=d(z,J),ot.return=$,$=ot):(a($,z),ot=xh(J,$.mode,ot),ot.return=$,$=ot),v($)):a($,z)}return function($,z,J,ot){try{Ia=0;var Ot=ue($,z,J,ot);return Ns=null,Ot}catch(wt){if(wt===Bs||wt===Wl)throw wt;var Jt=fi(29,wt,null,$.mode);return Jt.lanes=ot,Jt.return=$,Jt}finally{}}}var zn=Rm(!0),Mm=Rm(!1),Kr=!1;function Nh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Jr(e,r,a){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(ee&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=jl(e),dm(e,null,a),r}return Hl(e,u,r,a),jl(e)}function La(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,Xr(e,a)}}function Uh(e,r){var a=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Lh=!1;function Pa(){if(Lh){var e=Os;if(e!==null)throw e}}function Fa(e,r,a,u){Lh=!1;var d=e.updateQueue;Kr=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var F=R,tt=F.next;F.next=null,v===null?f=tt:v.next=tt,v=F;var at=e.alternate;at!==null&&(at=at.updateQueue,R=at.lastBaseUpdate,R!==v&&(R===null?at.firstBaseUpdate=tt:R.next=tt,at.lastBaseUpdate=F))}if(f!==null){var ct=d.baseState;v=0,at=tt=F=null,R=f;do{var et=R.lane&-536870913,nt=et!==R.lane;if(nt?($t&et)===et:(u&et)===et){et!==0&&et===Ds&&(Lh=!0),at!==null&&(at=at.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Tt=e,Bt=R;et=r;var ue=a;switch(Bt.tag){case 1:if(Tt=Bt.payload,typeof Tt=="function"){ct=Tt.call(ue,ct,et);break t}ct=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Bt.payload,et=typeof Tt=="function"?Tt.call(ue,ct,et):Tt,et==null)break t;ct=y({},ct,et);break t;case 2:Kr=!0}}et=R.callback,et!==null&&(e.flags|=64,nt&&(e.flags|=8192),nt=d.callbacks,nt===null?d.callbacks=[et]:nt.push(et))}else nt={lane:et,tag:R.tag,payload:R.payload,callback:R.callback,next:null},at===null?(tt=at=nt,F=ct):at=at.next=nt,v|=et;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;nt=R,R=nt.next,nt.next=null,d.lastBaseUpdate=nt,d.shared.pending=null}}while(!0);at===null&&(F=ct),d.baseState=F,d.firstBaseUpdate=tt,d.lastBaseUpdate=at,f===null&&(d.shared.lanes=0),sn|=v,e.lanes=v,e.memoizedState=ct}}function Dm(e,r){if(typeof e!="function")throw Error(n(191,e));e.call(r)}function Om(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dm(a[e],r)}var Is=w(null),Jl=w(0);function Bm(e,r){e=Br,L(Jl,e),L(Is,r),Br=e|r.baseLanes}function Ph(){L(Jl,Br),L(Is,Is.current)}function Fh(){Br=Jl.current,O(Is),O(Jl)}var pi=w(null),Mi=null;function tn(e){var r=e.alternate;L(Te,Te.current&1),L(pi,e),Mi===null&&(r===null||Is.current!==null||r.memoizedState!==null)&&(Mi=e)}function kh(e){L(Te,Te.current),L(pi,e),Mi===null&&(Mi=e)}function Nm(e){e.tag===22?(L(Te,Te.current),L(pi,e),Mi===null&&(Mi=e)):en()}function en(){L(Te,Te.current),L(pi,pi.current)}function mi(e){O(pi),Mi===e&&(Mi=null),O(Te)}var Te=w(0);function to(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vc(a)||qc(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Sr=0,Ft=null,le=null,Re=null,eo=!1,Us=!1,Hn=!1,io=0,ka=0,Ls=null,c1=0;function xe(){throw Error(n(321))}function Gh(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!di(e[a],r[a]))return!1;return!0}function zh(e,r,a,u,d,f){return Sr=f,Ft=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=e===null||e.memoizedState===null?gg:ic,Hn=!1,f=a(u,d),Hn=!1,Us&&(f=Um(r,a,u,d)),Im(e),f}function Im(e){A.H=Ha;var r=le!==null&&le.next!==null;if(Sr=0,Re=le=Ft=null,eo=!1,ka=0,Ls=null,r)throw Error(n(300));e===null||Me||(e=e.dependencies,e!==null&&ql(e)&&(Me=!0))}function Um(e,r,a,u){Ft=e;var d=0;do{if(Us&&(Ls=null),ka=0,Us=!1,25<=d)throw Error(n(301));if(d+=1,Re=le=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=yg,f=r(a,u)}while(Us);return f}function d1(){var e=A.H,r=e.useState()[0];return r=typeof r.then=="function"?Ga(r):r,e=e.useState()[0],(le!==null?le.memoizedState:null)!==e&&(Ft.flags|=1024),r}function Hh(){var e=io!==0;return io=0,e}function jh(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function Xh(e){if(eo){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}eo=!1}Sr=0,Re=le=Ft=null,Us=!1,ka=io=0,Ls=null}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ft.memoizedState=Re=e:Re=Re.next=e,Re}function Se(){if(le===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var r=Re===null?Ft.memoizedState:Re.next;if(r!==null)Re=r,le=e;else{if(e===null)throw Ft.alternate===null?Error(n(467)):Error(n(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Re===null?Ft.memoizedState=Re=e:Re=Re.next=e}return Re}function ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ga(e){var r=ka;return ka+=1,Ls===null&&(Ls=[]),e=Am(Ls,e,r),r=Ft,(Re===null?r.memoizedState:Re.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?gg:ic),e}function no(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ga(e);if(e.$$typeof===M)return je(e)}throw Error(n(438,String(e)))}function Vh(e){var r=null,a=Ft.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ft.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ro(),Ft.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),u=0;u<e;u++)a[u]=it;return r.index++,a}function Ar(e,r){return typeof r=="function"?r(e):r}function so(e){var r=Se();return qh(r,le,e)}function qh(e,r,a){var u=e.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var d=e.baseQueue,f=u.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}r.baseQueue=d=f,u.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{r=d.next;var R=v=null,F=null,tt=r,at=!1;do{var ct=tt.lane&-536870913;if(ct!==tt.lane?($t&ct)===ct:(Sr&ct)===ct){var et=tt.revertLane;if(et===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),ct===Ds&&(at=!0);else if((Sr&et)===et){tt=tt.next,et===Ds&&(at=!0);continue}else ct={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},F===null?(R=F=ct,v=f):F=F.next=ct,Ft.lanes|=et,sn|=et;ct=tt.action,Hn&&a(f,ct),f=tt.hasEagerState?tt.eagerState:a(f,ct)}else et={lane:ct,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},F===null?(R=F=et,v=f):F=F.next=et,Ft.lanes|=ct,sn|=ct;tt=tt.next}while(tt!==null&&tt!==r);if(F===null?v=f:F.next=R,!di(f,e.memoizedState)&&(Me=!0,at&&(a=Os,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=F,u.lastRenderedState=f}return d===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function Yh(e){var r=Se(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var u=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);di(f,r.memoizedState)||(Me=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function Lm(e,r,a){var u=Ft,d=Se(),f=Zt;if(f){if(a===void 0)throw Error(n(407));a=a()}else a=r();var v=!di((le||d).memoizedState,a);if(v&&(d.memoizedState=a,Me=!0),d=d.queue,Zh(km.bind(null,u,d,e),[e]),d.getSnapshot!==r||v||Re!==null&&Re.memoizedState.tag&1){if(u.flags|=2048,Ps(9,{destroy:void 0},Fm.bind(null,u,d,a,r),null),ce===null)throw Error(n(349));f||(Sr&127)!==0||Pm(u,r,a)}return a}function Pm(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ft.updateQueue,r===null?(r=ro(),Ft.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function Fm(e,r,a,u){r.value=a,r.getSnapshot=u,Gm(r)&&zm(e)}function km(e,r,a){return a(function(){Gm(r)&&zm(e)})}function Gm(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!di(e,a)}catch{return!0}}function zm(e){var r=Nn(e,2);r!==null&&li(r,e,2)}function $h(e){var r=Ke();if(typeof e=="function"){var a=e;if(e=a(),Hn){hi(!0);try{a()}finally{hi(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:e},r}function Hm(e,r,a,u){return e.baseState=a,qh(e,le,typeof u=="function"?u:Ar)}function f1(e,r,a,u,d){if(oo(e))throw Error(n(485));if(e=r.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};A.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,jm(r,f)):(f.next=a.next,r.pending=a.next=f)}}function jm(e,r){var a=r.action,u=r.payload,d=e.state;if(r.isTransition){var f=A.T,v={};A.T=v;try{var R=a(d,u),F=A.S;F!==null&&F(v,R),Xm(e,r,R)}catch(tt){Wh(e,r,tt)}finally{f!==null&&v.types!==null&&(f.types=v.types),A.T=f}}else try{f=a(d,u),Xm(e,r,f)}catch(tt){Wh(e,r,tt)}}function Xm(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Vm(e,r,u)},function(u){return Wh(e,r,u)}):Vm(e,r,a)}function Vm(e,r,a){r.status="fulfilled",r.value=a,qm(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,jm(e,a)))}function Wh(e,r,a){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,qm(r),r=r.next;while(r!==u)}e.action=null}function qm(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Ym(e,r){return r}function $m(e,r){if(Zt){var a=ce.formState;if(a!==null){t:{var u=Ft;if(Zt){if(de){e:{for(var d=de,f=Ri;d.nodeType!==8;){if(!f){d=null;break e}if(d=Di(d.nextSibling),d===null){d=null;break e}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){de=Di(d.nextSibling),u=d.data==="F!";break t}}Wr(u)}u=!1}u&&(r=a[0])}}return a=Ke(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:r},a.queue=u,a=fg.bind(null,Ft,u),u.dispatch=a,u=$h(!1),f=ec.bind(null,Ft,!1,u.queue),u=Ke(),d={state:r,dispatch:null,action:e,pending:null},u.queue=d,a=f1.bind(null,Ft,d,f,a),d.dispatch=a,u.memoizedState=e,[r,a,!1]}function Wm(e){var r=Se();return Zm(r,le,e)}function Zm(e,r,a){if(r=qh(e,r,Ym)[0],e=so(Ar)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ga(r)}catch(v){throw v===Bs?Wl:v}else u=r;r=Se();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(Ft.flags|=2048,Ps(9,{destroy:void 0},p1.bind(null,d,a),null)),[u,f,e]}function p1(e,r){e.action=r}function Km(e){var r=Se(),a=le;if(a!==null)return Zm(r,a,e);Se(),r=r.memoizedState,a=Se();var u=a.queue.dispatch;return a.memoizedState=e,[r,u,!1]}function Ps(e,r,a,u){return e={tag:e,create:a,deps:u,inst:r,next:null},r=Ft.updateQueue,r===null&&(r=ro(),Ft.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(u=a.next,a.next=e,e.next=u,r.lastEffect=e),e}function Qm(){return Se().memoizedState}function ao(e,r,a,u){var d=Ke();Ft.flags|=e,d.memoizedState=Ps(1|r,{destroy:void 0},a,u===void 0?null:u)}function lo(e,r,a,u){var d=Se();u=u===void 0?null:u;var f=d.memoizedState.inst;le!==null&&u!==null&&Gh(u,le.memoizedState.deps)?d.memoizedState=Ps(r,f,a,u):(Ft.flags|=e,d.memoizedState=Ps(1|r,f,a,u))}function Jm(e,r){ao(8390656,8,e,r)}function Zh(e,r){lo(2048,8,e,r)}function m1(e){Ft.flags|=4;var r=Ft.updateQueue;if(r===null)r=ro(),Ft.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function tg(e){var r=Se().memoizedState;return m1({ref:r,nextImpl:e}),function(){if((ee&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function eg(e,r){return lo(4,2,e,r)}function ig(e,r){return lo(4,4,e,r)}function rg(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ng(e,r,a){a=a!=null?a.concat([e]):null,lo(4,4,rg.bind(null,r,e),a)}function Kh(){}function sg(e,r){var a=Se();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Gh(r,u[1])?u[0]:(a.memoizedState=[e,r],e)}function ag(e,r){var a=Se();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Gh(r,u[1]))return u[0];if(u=e(),Hn){hi(!0);try{e()}finally{hi(!1)}}return a.memoizedState=[u,r],u}function Qh(e,r,a){return a===void 0||(Sr&1073741824)!==0&&($t&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=l0(),Ft.lanes|=e,sn|=e,a)}function lg(e,r,a,u){return di(a,r)?a:Is.current!==null?(e=Qh(e,a,u),di(e,r)||(Me=!0),e):(Sr&42)===0||(Sr&1073741824)!==0&&($t&261930)===0?(Me=!0,e.memoizedState=a):(e=l0(),Ft.lanes|=e,sn|=e,r)}function og(e,r,a,u,d){var f=D.p;D.p=f!==0&&8>f?f:8;var v=A.T,R={};A.T=R,ec(e,!1,r,a);try{var F=d(),tt=A.S;if(tt!==null&&tt(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var at=h1(F,u);za(e,r,at,vi(e))}else za(e,r,u,vi(e))}catch(ct){za(e,r,{then:function(){},status:"rejected",reason:ct},vi())}finally{D.p=f,v!==null&&R.types!==null&&(v.types=R.types),A.T=v}}function g1(){}function Jh(e,r,a,u){if(e.tag!==5)throw Error(n(476));var d=ug(e).queue;og(e,d,r,C,a===null?g1:function(){return hg(e),a(u)})}function ug(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:C},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function hg(e){var r=ug(e);r.next===null&&(r=e.alternate.memoizedState),za(e,r.next.queue,{},vi())}function tc(){return je(nl)}function cg(){return Se().memoizedState}function dg(){return Se().memoizedState}function y1(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=vi();e=Qr(a);var u=Jr(r,e,a);u!==null&&(li(u,r,a),La(u,r,a)),r={cache:Mh()},e.payload=r;return}r=r.return}}function v1(e,r,a){var u=vi();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(e)?pg(r,a):(a=vh(e,r,a,u),a!==null&&(li(a,e,u),mg(a,r,u)))}function fg(e,r,a){var u=vi();za(e,r,a,u)}function za(e,r,a,u){var d={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oo(e))pg(r,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,R=f(v,a);if(d.hasEagerState=!0,d.eagerState=R,di(R,v))return Hl(e,r,d,0),ce===null&&zl(),!1}catch{}finally{}if(a=vh(e,r,d,u),a!==null)return li(a,e,u),mg(a,r,u),!0}return!1}function ec(e,r,a,u){if(u={lane:2,revertLane:Nc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},oo(e)){if(r)throw Error(n(479))}else r=vh(e,a,u,2),r!==null&&li(r,e,2)}function oo(e){var r=e.alternate;return e===Ft||r!==null&&r===Ft}function pg(e,r){Us=eo=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function mg(e,r,a){if((a&4194048)!==0){var u=r.lanes;u&=e.pendingLanes,a|=u,r.lanes=a,Xr(e,a)}}var Ha={readContext:je,use:no,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Ha.useEffectEvent=xe;var gg={readContext:je,use:no,useCallback:function(e,r){return Ke().memoizedState=[e,r===void 0?null:r],e},useContext:je,useEffect:Jm,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,ao(4194308,4,rg.bind(null,r,e),a)},useLayoutEffect:function(e,r){return ao(4194308,4,e,r)},useInsertionEffect:function(e,r){ao(4,2,e,r)},useMemo:function(e,r){var a=Ke();r=r===void 0?null:r;var u=e();if(Hn){hi(!0);try{e()}finally{hi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(e,r,a){var u=Ke();if(a!==void 0){var d=a(r);if(Hn){hi(!0);try{a(r)}finally{hi(!1)}}}else d=r;return u.memoizedState=u.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},u.queue=e,e=e.dispatch=v1.bind(null,Ft,e),[u.memoizedState,e]},useRef:function(e){var r=Ke();return e={current:e},r.memoizedState=e},useState:function(e){e=$h(e);var r=e.queue,a=fg.bind(null,Ft,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:Kh,useDeferredValue:function(e,r){var a=Ke();return Qh(a,e,r)},useTransition:function(){var e=$h(!1);return e=og.bind(null,Ft,e.queue,!0,!1),Ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var u=Ft,d=Ke();if(Zt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),ce===null)throw Error(n(349));($t&127)!==0||Pm(u,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,Jm(km.bind(null,u,f,e),[e]),u.flags|=2048,Ps(9,{destroy:void 0},Fm.bind(null,u,f,a,r),null),a},useId:function(){var e=Ke(),r=ce.identifierPrefix;if(Zt){var a=Ji,u=Qi;a=(u&~(1<<32-Z(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=io++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=c1++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:tc,useFormState:$m,useActionState:$m,useOptimistic:function(e){var r=Ke();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ec.bind(null,Ft,!0,a),a.dispatch=r,[e,r]},useMemoCache:Vh,useCacheRefresh:function(){return Ke().memoizedState=y1.bind(null,Ft)},useEffectEvent:function(e){var r=Ke(),a={impl:e};return r.memoizedState=a,function(){if((ee&2)!==0)throw Error(n(440));return a.impl.apply(void 0,arguments)}}},ic={readContext:je,use:no,useCallback:sg,useContext:je,useEffect:Zh,useImperativeHandle:ng,useInsertionEffect:eg,useLayoutEffect:ig,useMemo:ag,useReducer:so,useRef:Qm,useState:function(){return so(Ar)},useDebugValue:Kh,useDeferredValue:function(e,r){var a=Se();return lg(a,le.memoizedState,e,r)},useTransition:function(){var e=so(Ar)[0],r=Se().memoizedState;return[typeof e=="boolean"?e:Ga(e),r]},useSyncExternalStore:Lm,useId:cg,useHostTransitionStatus:tc,useFormState:Wm,useActionState:Wm,useOptimistic:function(e,r){var a=Se();return Hm(a,le,e,r)},useMemoCache:Vh,useCacheRefresh:dg};ic.useEffectEvent=tg;var yg={readContext:je,use:no,useCallback:sg,useContext:je,useEffect:Zh,useImperativeHandle:ng,useInsertionEffect:eg,useLayoutEffect:ig,useMemo:ag,useReducer:Yh,useRef:Qm,useState:function(){return Yh(Ar)},useDebugValue:Kh,useDeferredValue:function(e,r){var a=Se();return le===null?Qh(a,e,r):lg(a,le.memoizedState,e,r)},useTransition:function(){var e=Yh(Ar)[0],r=Se().memoizedState;return[typeof e=="boolean"?e:Ga(e),r]},useSyncExternalStore:Lm,useId:cg,useHostTransitionStatus:tc,useFormState:Km,useActionState:Km,useOptimistic:function(e,r){var a=Se();return le!==null?Hm(a,le,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vh,useCacheRefresh:dg};yg.useEffectEvent=tg;function rc(e,r,a,u){r=e.memoizedState,a=a(u,r),a=a==null?r:y({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nc={enqueueSetState:function(e,r,a){e=e._reactInternals;var u=vi(),d=Qr(u);d.payload=r,a!=null&&(d.callback=a),r=Jr(e,d,u),r!==null&&(li(r,e,u),La(r,e,u))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var u=vi(),d=Qr(u);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=Jr(e,d,u),r!==null&&(li(r,e,u),La(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=vi(),u=Qr(a);u.tag=2,r!=null&&(u.callback=r),r=Jr(e,u,a),r!==null&&(li(r,e,a),La(r,e,a))}};function vg(e,r,a,u,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,f,v):r.prototype&&r.prototype.isPureReactComponent?!Ra(a,u)||!Ra(d,f):!0}function _g(e,r,a,u){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==e&&nc.enqueueReplaceState(r,r.state,null)}function jn(e,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(e=e.defaultProps){a===r&&(a=y({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}function xg(e){Gl(e)}function bg(e){console.error(e)}function Eg(e){Gl(e)}function uo(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Tg(e,r,a){try{var u=e.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function sc(e,r,a){return a=Qr(a),a.tag=3,a.payload={element:null},a.callback=function(){uo(e,r)},a}function Sg(e){return e=Qr(e),e.tag=3,e}function Ag(e,r,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=u.value;e.payload=function(){return d(f)},e.callback=function(){Tg(r,a,u)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Tg(r,a,u),typeof d!="function"&&(an===null?an=new Set([this]):an.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function _1(e,r,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Ms(r,a,d,!0),a=pi.current,a!==null){switch(a.tag){case 31:case 13:return Mi===null?Eo():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===Zl?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Dc(e,u,d)),!1;case 22:return a.flags|=65536,u===Zl?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Dc(e,u,d)),!1}throw Error(n(435,a.tag))}return Dc(e,u,d),Eo(),!1}if(Zt)return r=pi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==Sh&&(e=Error(n(422),{cause:u}),Oa(Ai(e,a)))):(u!==Sh&&(r=Error(n(423),{cause:u}),Oa(Ai(r,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,u=Ai(u,a),d=sc(e.stateNode,u,d),Uh(e,d),be!==4&&(be=2)),!1;var f=Error(n(520),{cause:u});if(f=Ai(f,a),Za===null?Za=[f]:Za.push(f),be!==4&&(be=2),r===null)return!0;u=Ai(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=sc(a.stateNode,u,e),Uh(a,e),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(an===null||!an.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Sg(d),Ag(d,e,a,u),Uh(a,d),!1}a=a.return}while(a!==null);return!1}var ac=Error(n(461)),Me=!1;function Xe(e,r,a,u){r.child=e===null?Mm(r,null,a,u):zn(r,e.child,a,u)}function wg(e,r,a,u,d){a=a.render;var f=r.ref;if("ref"in u){var v={};for(var R in u)R!=="ref"&&(v[R]=u[R])}else v=u;return Pn(r),u=zh(e,r,a,v,f,d),R=Hh(),e!==null&&!Me?(jh(e,r,d),wr(e,r,d)):(Zt&&R&&Eh(r),r.flags|=1,Xe(e,r,u,d),r.child)}function Cg(e,r,a,u,d){if(e===null){var f=a.type;return typeof f=="function"&&!_h(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Rg(e,r,f,u,d)):(e=Xl(a.type,null,u,r,r.mode,d),e.ref=r.ref,e.return=r,r.child=e)}if(f=e.child,!pc(e,d)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ra,a(v,u)&&e.ref===r.ref)return wr(e,r,d)}return r.flags|=1,e=xr(f,u),e.ref=r.ref,e.return=r,r.child=e}function Rg(e,r,a,u,d){if(e!==null){var f=e.memoizedProps;if(Ra(f,u)&&e.ref===r.ref)if(Me=!1,r.pendingProps=u=f,pc(e,d))(e.flags&131072)!==0&&(Me=!0);else return r.lanes=e.lanes,wr(e,r,d)}return lc(e,r,a,u,d)}function Mg(e,r,a,u){var d=u.children,f=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(u=r.child=e.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~f}else u=0,r.child=null;return Dg(e,r,f,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&$l(r,f!==null?f.cachePool:null),f!==null?Bm(r,f):Ph(),Nm(r);else return u=r.lanes=536870912,Dg(e,r,f!==null?f.baseLanes|a:a,a,u)}else f!==null?($l(r,f.cachePool),Bm(r,f),en(),r.memoizedState=null):(e!==null&&$l(r,null),Ph(),en());return Xe(e,r,d,a),r.child}function ja(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Dg(e,r,a,u,d){var f=Oh();return f=f===null?null:{parent:Ce._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},e!==null&&$l(r,null),Ph(),Nm(r),e!==null&&Ms(e,r,u,!0),r.childLanes=d,null}function ho(e,r){return r=fo({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function Og(e,r,a){return zn(r,e.child,null,a),e=ho(r,r.pendingProps),e.flags|=2,mi(r),r.memoizedState=null,e}function x1(e,r,a){var u=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Zt){if(u.mode==="hidden")return e=ho(r,u),r.lanes=536870912,ja(null,e);if(kh(r),(e=de)?(e=j0(e,Ri),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:Qi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=pm(e),a.return=r,r.child=a,He=r,de=null)):e=null,e===null)throw Wr(r);return r.lanes=536870912,null}return ho(r,u)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(kh(r),d)if(r.flags&256)r.flags&=-257,r=Og(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(n(558));else if(Me||Ms(e,r,a,!1),d=(a&e.childLanes)!==0,Me||d){if(u=ce,u!==null&&(v=cs(u,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Nn(e,v),li(u,e,v),ac;Eo(),r=Og(e,r,a)}else e=f.treeContext,de=Di(v.nextSibling),He=r,Zt=!0,$r=null,Ri=!1,e!==null&&ym(r,e),r=ho(r,u),r.flags|=4096;return r}return e=xr(e.child,{mode:u.mode,children:u.children}),e.ref=r.ref,r.child=e,e.return=r,e}function co(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function lc(e,r,a,u,d){return Pn(r),a=zh(e,r,a,u,void 0,d),u=Hh(),e!==null&&!Me?(jh(e,r,d),wr(e,r,d)):(Zt&&u&&Eh(r),r.flags|=1,Xe(e,r,a,d),r.child)}function Bg(e,r,a,u,d,f){return Pn(r),r.updateQueue=null,a=Um(r,u,a,d),Im(e),u=Hh(),e!==null&&!Me?(jh(e,r,f),wr(e,r,f)):(Zt&&u&&Eh(r),r.flags|=1,Xe(e,r,a,f),r.child)}function Ng(e,r,a,u,d){if(Pn(r),r.stateNode===null){var f=As,v=a.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new a(u,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nc,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},Nh(r),v=a.contextType,f.context=typeof v=="object"&&v!==null?je(v):As,f.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(rc(r,a,v,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&nc.enqueueReplaceState(f,f.state,null),Fa(r,u,f,d),Pa(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(e===null){f=r.stateNode;var R=r.memoizedProps,F=jn(a,R);f.props=F;var tt=f.context,at=a.contextType;v=As,typeof at=="object"&&at!==null&&(v=je(at));var ct=a.getDerivedStateFromProps;at=typeof ct=="function"||typeof f.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,at||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(R||tt!==v)&&_g(r,f,u,v),Kr=!1;var et=r.memoizedState;f.state=et,Fa(r,u,f,d),Pa(),tt=r.memoizedState,R||et!==tt||Kr?(typeof ct=="function"&&(rc(r,a,ct,u),tt=r.memoizedState),(F=Kr||vg(r,a,F,u,et,tt,v))?(at||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=tt),f.props=u,f.state=tt,f.context=v,u=F):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{f=r.stateNode,Ih(e,r),v=r.memoizedProps,at=jn(a,v),f.props=at,ct=r.pendingProps,et=f.context,tt=a.contextType,F=As,typeof tt=="object"&&tt!==null&&(F=je(tt)),R=a.getDerivedStateFromProps,(tt=typeof R=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ct||et!==F)&&_g(r,f,u,F),Kr=!1,et=r.memoizedState,f.state=et,Fa(r,u,f,d),Pa();var nt=r.memoizedState;v!==ct||et!==nt||Kr||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof R=="function"&&(rc(r,a,R,u),nt=r.memoizedState),(at=Kr||vg(r,a,at,u,et,nt,F)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(tt||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,nt,F),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,nt,F)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&et===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&et===e.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=nt),f.props=u,f.state=nt,f.context=F,u=at):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&et===e.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&et===e.memoizedState||(r.flags|=1024),u=!1)}return f=u,co(e,r),u=(r.flags&128)!==0,f||u?(f=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,e!==null&&u?(r.child=zn(r,e.child,null,d),r.child=zn(r,null,a,d)):Xe(e,r,a,d),r.memoizedState=f.state,e=r.child):e=wr(e,r,d),e}function Ig(e,r,a,u){return Un(),r.flags|=256,Xe(e,r,a,u),r.child}var oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:Tm()}}function hc(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=yi),e}function Ug(e,r,a){var u=r.pendingProps,d=!1,f=(r.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(Zt){if(d?tn(r):en(),(e=de)?(e=j0(e,Ri),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Yr!==null?{id:Qi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},a=pm(e),a.return=r,r.child=a,He=r,de=null)):e=null,e===null)throw Wr(r);return qc(e)?r.lanes=32:r.lanes=536870912,null}var R=u.children;return u=u.fallback,d?(en(),d=r.mode,R=fo({mode:"hidden",children:R},d),u=In(u,d,a,null),R.return=r,u.return=r,R.sibling=u,r.child=R,u=r.child,u.memoizedState=uc(a),u.childLanes=hc(e,v,a),r.memoizedState=oc,ja(null,u)):(tn(r),cc(r,R))}var F=e.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(f)r.flags&256?(tn(r),r.flags&=-257,r=dc(e,r,a)):r.memoizedState!==null?(en(),r.child=e.child,r.flags|=128,r=null):(en(),R=u.fallback,d=r.mode,u=fo({mode:"visible",children:u.children},d),R=In(R,d,a,null),R.flags|=2,u.return=r,R.return=r,u.sibling=R,r.child=u,zn(r,e.child,null,a),u=r.child,u.memoizedState=uc(a),u.childLanes=hc(e,v,a),r.memoizedState=oc,r=ja(null,u));else if(tn(r),qc(R)){if(v=R.nextSibling&&R.nextSibling.dataset,v)var tt=v.dgst;v=tt,u=Error(n(419)),u.stack="",u.digest=v,Oa({value:u,source:null,stack:null}),r=dc(e,r,a)}else if(Me||Ms(e,r,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=ce,v!==null&&(u=cs(v,a),u!==0&&u!==F.retryLane))throw F.retryLane=u,Nn(e,u),li(v,e,u),ac;Vc(R)||Eo(),r=dc(e,r,a)}else Vc(R)?(r.flags|=192,r.child=e.child,r=null):(e=F.treeContext,de=Di(R.nextSibling),He=r,Zt=!0,$r=null,Ri=!1,e!==null&&ym(r,e),r=cc(r,u.children),r.flags|=4096);return r}return d?(en(),R=u.fallback,d=r.mode,F=e.child,tt=F.sibling,u=xr(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,tt!==null?R=xr(tt,R):(R=In(R,d,a,null),R.flags|=2),R.return=r,u.return=r,u.sibling=R,r.child=u,ja(null,u),u=r.child,R=e.child.memoizedState,R===null?R=uc(a):(d=R.cachePool,d!==null?(F=Ce._currentValue,d=d.parent!==F?{parent:F,pool:F}:d):d=Tm(),R={baseLanes:R.baseLanes|a,cachePool:d}),u.memoizedState=R,u.childLanes=hc(e,v,a),r.memoizedState=oc,ja(e.child,u)):(tn(r),a=e.child,e=a.sibling,a=xr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function cc(e,r){return r=fo({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function fo(e,r){return e=fi(22,e,null,r),e.lanes=0,e}function dc(e,r,a){return zn(r,e.child,null,a),e=cc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Lg(e,r,a){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),Ch(e.return,r,a)}function fc(e,r,a,u,d,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d,treeForkCount:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=d,v.treeForkCount=f)}function Pg(e,r,a){var u=r.pendingProps,d=u.revealOrder,f=u.tail;u=u.children;var v=Te.current,R=(v&2)!==0;if(R?(v=v&1|2,r.flags|=128):v&=1,L(Te,v),Xe(e,r,u,a),u=Zt?Da:0,!R&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lg(e,a,r);else if(e.tag===19)Lg(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(a=r.child,d=null;a!==null;)e=a.alternate,e!==null&&to(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),fc(r,!1,d,a,f,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(e=d.alternate,e!==null&&to(e)===null){r.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}fc(r,!0,a,null,f,u);break;case"together":fc(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function wr(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),sn|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Ms(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(n(153));if(r.child!==null){for(e=r.child,a=xr(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=xr(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function pc(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function b1(e,r,a){switch(r.tag){case 3:dt(r,r.stateNode.containerInfo),Zr(r,Ce,e.memoizedState.cache),Un();break;case 27:case 5:lt(r);break;case 4:dt(r,r.stateNode.containerInfo);break;case 10:Zr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,kh(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(tn(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Ug(e,r,a):(tn(r),e=wr(e,r,a),e!==null?e.sibling:null);tn(r);break;case 19:var d=(e.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Ms(e,r,a,!1),u=(a&r.childLanes)!==0),d){if(u)return Pg(e,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),L(Te,Te.current),u)break;return null;case 22:return r.lanes=0,Mg(e,r,a,r.pendingProps);case 24:Zr(r,Ce,e.memoizedState.cache)}return wr(e,r,a)}function Fg(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Me=!0;else{if(!pc(e,a)&&(r.flags&128)===0)return Me=!1,b1(e,r,a);Me=(e.flags&131072)!==0}else Me=!1,Zt&&(r.flags&1048576)!==0&&gm(r,Da,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(e=kn(r.elementType),r.type=e,typeof e=="function")_h(e)?(u=jn(e,u),r.tag=1,r=Ng(null,r,e,u,a)):(r.tag=0,r=lc(null,r,e,u,a));else{if(e!=null){var d=e.$$typeof;if(d===k){r.tag=11,r=wg(null,r,e,u,a);break t}else if(d===T){r.tag=14,r=Cg(null,r,e,u,a);break t}}throw r=Y(e)||e,Error(n(306,r,""))}}return r;case 0:return lc(e,r,r.type,r.pendingProps,a);case 1:return u=r.type,d=jn(u,r.pendingProps),Ng(e,r,u,d,a);case 3:t:{if(dt(r,r.stateNode.containerInfo),e===null)throw Error(n(387));u=r.pendingProps;var f=r.memoizedState;d=f.element,Ih(e,r),Fa(r,u,null,a);var v=r.memoizedState;if(u=v.cache,Zr(r,Ce,u),u!==f.cache&&Rh(r,[Ce],a,!0),Pa(),u=v.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Ig(e,r,u,a);break t}else if(u!==d){d=Ai(Error(n(424)),r),Oa(d),r=Ig(e,r,u,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=Di(e.firstChild),He=r,Zt=!0,$r=null,Ri=!0,a=Mm(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Un(),u===d){r=wr(e,r,a);break t}Xe(e,r,u,a)}r=r.child}return r;case 26:return co(e,r),e===null?(a=W0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Zt||(a=r.type,e=r.pendingProps,u=Mo(st.current).createElement(a),u[Ee]=r,u[ze]=e,Ve(u,a,e),Ue(u),r.stateNode=u):r.memoizedState=W0(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return lt(r),e===null&&Zt&&(u=r.stateNode=q0(r.type,r.pendingProps,st.current),He=r,Ri=!0,d=de,hn(r.type)?(Yc=d,de=Di(u.firstChild)):de=d),Xe(e,r,r.pendingProps.children,a),co(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Zt&&((d=u=de)&&(u=K1(u,r.type,r.pendingProps,Ri),u!==null?(r.stateNode=u,He=r,de=Di(u.firstChild),Ri=!1,d=!0):d=!1),d||Wr(r)),lt(r),d=r.type,f=r.pendingProps,v=e!==null?e.memoizedProps:null,u=f.children,Hc(d,f)?u=null:v!==null&&Hc(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=zh(e,r,d1,null,null,a),nl._currentValue=d),co(e,r),Xe(e,r,u,a),r.child;case 6:return e===null&&Zt&&((e=a=de)&&(a=Q1(a,r.pendingProps,Ri),a!==null?(r.stateNode=a,He=r,de=null,e=!0):e=!1),e||Wr(r)),null;case 13:return Ug(e,r,a);case 4:return dt(r,r.stateNode.containerInfo),u=r.pendingProps,e===null?r.child=zn(r,null,u,a):Xe(e,r,u,a),r.child;case 11:return wg(e,r,r.type,r.pendingProps,a);case 7:return Xe(e,r,r.pendingProps,a),r.child;case 8:return Xe(e,r,r.pendingProps.children,a),r.child;case 12:return Xe(e,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Zr(r,r.type,u.value),Xe(e,r,u.children,a),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Pn(r),d=je(d),u=u(d),r.flags|=1,Xe(e,r,u,a),r.child;case 14:return Cg(e,r,r.type,r.pendingProps,a);case 15:return Rg(e,r,r.type,r.pendingProps,a);case 19:return Pg(e,r,a);case 31:return x1(e,r,a);case 22:return Mg(e,r,a,r.pendingProps);case 24:return Pn(r),u=je(Ce),e===null?(d=Oh(),d===null&&(d=ce,f=Mh(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:u,cache:d},Nh(r),Zr(r,Ce,d)):((e.lanes&a)!==0&&(Ih(e,r),Fa(r,null,null,a),Pa()),d=e.memoizedState,f=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Zr(r,Ce,u)):(u=f.cache,Zr(r,Ce,u),u!==d.cache&&Rh(r,[Ce],a,!0))),Xe(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function Cr(e){e.flags|=4}function mc(e,r,a,u,d){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(c0())e.flags|=8192;else throw Gn=Zl,Bh}else e.flags&=-16777217}function kg(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ty(r))if(c0())e.flags|=8192;else throw Gn=Zl,Bh}function po(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?pr():536870912,e.lanes|=r,zs|=r)}function Xa(e,r){if(!Zt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function fe(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,u=0;if(r)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=u,e.childLanes=a,r}function E1(e,r,a){var u=r.pendingProps;switch(Th(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(r),null;case 1:return fe(r),null;case 3:return a=r.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Tr(Ce),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Rs(r)?Cr(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ah())),fe(r),null;case 26:var d=r.type,f=r.memoizedState;return e===null?(Cr(r),f!==null?(fe(r),kg(r,f)):(fe(r),mc(r,d,null,u,a))):f?f!==e.memoizedState?(Cr(r),fe(r),kg(r,f)):(fe(r),r.flags&=-16777217):(e=e.memoizedProps,e!==u&&Cr(r),fe(r),mc(r,d,e,u,a)),null;case 27:if(gt(r),a=st.current,d=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&Cr(r);else{if(!u){if(r.stateNode===null)throw Error(n(166));return fe(r),null}e=X.current,Rs(r)?vm(r):(e=q0(d,u,a),r.stateNode=e,Cr(r))}return fe(r),null;case 5:if(gt(r),d=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==u&&Cr(r);else{if(!u){if(r.stateNode===null)throw Error(n(166));return fe(r),null}if(f=X.current,Rs(r))vm(r);else{var v=Mo(st.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?f.multiple=!0:u.size&&(f.size=u.size);break;default:f=typeof u.is=="string"?v.createElement(d,{is:u.is}):v.createElement(d)}}f[Ee]=r,f[ze]=u;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=f;t:switch(Ve(f,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Cr(r)}}return fe(r),mc(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==u&&Cr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(e=st.current,Rs(r)){if(e=r.stateNode,a=r.memoizedProps,u=null,d=He,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}e[Ee]=r,e=!!(e.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||U0(e.nodeValue,a)),e||Wr(r,!0)}else e=Mo(e).createTextNode(u),e[Ee]=r,r.stateNode=e}return fe(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(u=Rs(r),a!==null){if(e===null){if(!u)throw Error(n(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(557));e[Ee]=r}else Un(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),e=!1}else a=Ah(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(mi(r),r):(mi(r),null);if((r.flags&128)!==0)throw Error(n(558))}return fe(r),null;case 13:if(u=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Rs(r),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(n(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[Ee]=r}else Un(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;fe(r),d=!1}else d=Ah(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(mi(r),r):(mi(r),null)}return mi(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,e=e!==null&&e.memoizedState!==null,a&&(u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),f=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==d&&(u.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),po(r,r.updateQueue),fe(r),null);case 4:return ut(),e===null&&Pc(r.stateNode.containerInfo),fe(r),null;case 10:return Tr(r.type),fe(r),null;case 19:if(O(Te),u=r.memoizedState,u===null)return fe(r),null;if(d=(r.flags&128)!==0,f=u.rendering,f===null)if(d)Xa(u,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(f=to(e),f!==null){for(r.flags|=128,Xa(u,!1),e=f.updateQueue,r.updateQueue=e,po(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)fm(a,e),a=a.sibling;return L(Te,Te.current&1|2),Zt&&br(r,u.treeForkCount),r.child}e=e.sibling}u.tail!==null&&jt()>_o&&(r.flags|=128,d=!0,Xa(u,!1),r.lanes=4194304)}else{if(!d)if(e=to(f),e!==null){if(r.flags|=128,d=!0,e=e.updateQueue,r.updateQueue=e,po(r,e),Xa(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Zt)return fe(r),null}else 2*jt()-u.renderingStartTime>_o&&a!==536870912&&(r.flags|=128,d=!0,Xa(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(e=u.last,e!==null?e.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=jt(),e.sibling=null,a=Te.current,L(Te,d?a&1|2:a&1),Zt&&br(r,u.treeForkCount),e):(fe(r),null);case 22:case 23:return mi(r),Fh(),u=r.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(fe(r),r.subtreeFlags&6&&(r.flags|=8192)):fe(r),a=r.updateQueue,a!==null&&po(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),e!==null&&O(Fn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Tr(Ce),fe(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function T1(e,r){switch(Th(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Tr(Ce),ut(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return gt(r),null;case 31:if(r.memoizedState!==null){if(mi(r),r.alternate===null)throw Error(n(340));Un()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(mi(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Un()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return O(Te),null;case 4:return ut(),null;case 10:return Tr(r.type),null;case 22:case 23:return mi(r),Fh(),e!==null&&O(Fn),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Tr(Ce),null;case 25:return null;default:return null}}function Gg(e,r){switch(Th(r),r.tag){case 3:Tr(Ce),ut();break;case 26:case 27:case 5:gt(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&mi(r);break;case 13:mi(r);break;case 19:O(Te);break;case 10:Tr(r.type);break;case 22:case 23:mi(r),Fh(),e!==null&&O(Fn);break;case 24:Tr(Ce)}}function Va(e,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&e)===e){u=void 0;var f=a.create,v=a.inst;u=f(),v.destroy=u}a=a.next}while(a!==d)}}catch(R){ne(r,r.return,R)}}function rn(e,r,a){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var f=d.next;u=f;do{if((u.tag&e)===e){var v=u.inst,R=v.destroy;if(R!==void 0){v.destroy=void 0,d=r;var F=a,tt=R;try{tt()}catch(at){ne(d,F,at)}}}u=u.next}while(u!==f)}}catch(at){ne(r,r.return,at)}}function zg(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Om(r,a)}catch(u){ne(e,e.return,u)}}}function Hg(e,r,a){a.props=jn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(u){ne(e,r,u)}}function qa(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof a=="function"?e.refCleanup=a(u):a.current=u}}catch(d){ne(e,r,d)}}function tr(e,r){var a=e.ref,u=e.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){ne(e,r,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ne(e,r,d)}else a.current=null}function jg(e){var r=e.type,a=e.memoizedProps,u=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break t;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){ne(e,e.return,d)}}function gc(e,r,a){try{var u=e.stateNode;V1(u,e.type,a,r),u[ze]=r}catch(d){ne(e,e.return,d)}}function Xg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hn(e.type)||e.tag===4}function yc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vc(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=vr));else if(u!==4&&(u===27&&hn(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(vc(e,r,a),e=e.sibling;e!==null;)vc(e,r,a),e=e.sibling}function mo(e,r,a){var u=e.tag;if(u===5||u===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(u!==4&&(u===27&&hn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(mo(e,r,a),e=e.sibling;e!==null;)mo(e,r,a),e=e.sibling}function Vg(e){var r=e.stateNode,a=e.memoizedProps;try{for(var u=e.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ve(r,u,a),r[Ee]=e,r[ze]=a}catch(f){ne(e,e.return,f)}}var Rr=!1,De=!1,_c=!1,qg=typeof WeakSet=="function"?WeakSet:Set,Le=null;function S1(e,r){if(e=e.containerInfo,Gc=Lo,e=nm(e),dh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,R=-1,F=-1,tt=0,at=0,ct=e,et=null;e:for(;;){for(var nt;ct!==a||d!==0&&ct.nodeType!==3||(R=v+d),ct!==f||u!==0&&ct.nodeType!==3||(F=v+u),ct.nodeType===3&&(v+=ct.nodeValue.length),(nt=ct.firstChild)!==null;)et=ct,ct=nt;for(;;){if(ct===e)break e;if(et===a&&++tt===d&&(R=v),et===f&&++at===u&&(F=v),(nt=ct.nextSibling)!==null)break;ct=et,et=ct.parentNode}ct=nt}a=R===-1||F===-1?null:{start:R,end:F}}else a=null}a=a||{start:0,end:0}}else a=null;for(zc={focusedElem:e,selectionRange:a},Lo=!1,Le=r;Le!==null;)if(r=Le,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Le=e;else for(;Le!==null;){switch(r=Le,f=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)d=e[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,u=a.stateNode;try{var Tt=jn(a.type,d);e=u.getSnapshotBeforeUpdate(Tt,f),u.__reactInternalSnapshotBeforeUpdate=e}catch(Bt){ne(a,a.return,Bt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)Xc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(n(163))}if(e=r.sibling,e!==null){e.return=r.return,Le=e;break}Le=r.return}}function Yg(e,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Dr(e,a),u&4&&Va(5,a);break;case 1:if(Dr(e,a),u&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){ne(a,a.return,v)}else{var d=jn(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(d,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ne(a,a.return,v)}}u&64&&zg(a),u&512&&qa(a,a.return);break;case 3:if(Dr(e,a),u&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Om(e,r)}catch(v){ne(a,a.return,v)}}break;case 27:r===null&&u&4&&Vg(a);case 26:case 5:Dr(e,a),r===null&&u&4&&jg(a),u&512&&qa(a,a.return);break;case 12:Dr(e,a);break;case 31:Dr(e,a),u&4&&Zg(e,a);break;case 13:Dr(e,a),u&4&&Kg(e,a),u&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=N1.bind(null,a),J1(e,a))));break;case 22:if(u=a.memoizedState!==null||Rr,!u){r=r!==null&&r.memoizedState!==null||De,d=Rr;var f=De;Rr=u,(De=r)&&!f?Or(e,a,(a.subtreeFlags&8772)!==0):Dr(e,a),Rr=d,De=f}break;case 30:break;default:Dr(e,a)}}function $g(e){var r=e.alternate;r!==null&&(e.alternate=null,$g(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&_a(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,ri=!1;function Mr(e,r,a){for(a=a.child;a!==null;)Wg(e,r,a),a=a.sibling}function Wg(e,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Cn,a)}catch{}switch(a.tag){case 26:De||tr(a,r),Mr(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||tr(a,r);var u=ye,d=ri;hn(a.type)&&(ye=a.stateNode,ri=!1),Mr(e,r,a),el(a.stateNode),ye=u,ri=d;break;case 5:De||tr(a,r);case 6:if(u=ye,d=ri,ye=null,Mr(e,r,a),ye=u,ri=d,ye!==null)if(ri)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(a.stateNode)}catch(f){ne(a,r,f)}else try{ye.removeChild(a.stateNode)}catch(f){ne(a,r,f)}break;case 18:ye!==null&&(ri?(e=ye,z0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ws(e)):z0(ye,a.stateNode));break;case 4:u=ye,d=ri,ye=a.stateNode.containerInfo,ri=!0,Mr(e,r,a),ye=u,ri=d;break;case 0:case 11:case 14:case 15:rn(2,a,r),De||rn(4,a,r),Mr(e,r,a);break;case 1:De||(tr(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Hg(a,r,u)),Mr(e,r,a);break;case 21:Mr(e,r,a);break;case 22:De=(u=De)||a.memoizedState!==null,Mr(e,r,a),De=u;break;default:Mr(e,r,a)}}function Zg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ws(e)}catch(a){ne(r,r.return,a)}}}function Kg(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ws(e)}catch(a){ne(r,r.return,a)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new qg),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new qg),r;default:throw Error(n(435,e.tag))}}function go(e,r){var a=A1(e);r.forEach(function(u){if(!a.has(u)){a.add(u);var d=I1.bind(null,e,u);u.then(d,d)}})}function ni(e,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],f=e,v=r,R=v;t:for(;R!==null;){switch(R.tag){case 27:if(hn(R.type)){ye=R.stateNode,ri=!1;break t}break;case 5:ye=R.stateNode,ri=!1;break t;case 3:case 4:ye=R.stateNode.containerInfo,ri=!0;break t}R=R.return}if(ye===null)throw Error(n(160));Wg(f,v,d),ye=null,ri=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Qg(r,e),r=r.sibling}var Fi=null;function Qg(e,r){var a=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ni(r,e),si(e),u&4&&(rn(3,e,e.return),Va(3,e),rn(5,e,e.return));break;case 1:ni(r,e),si(e),u&512&&(De||a===null||tr(a,a.return)),u&64&&Rr&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=Fi;if(ni(r,e),si(e),u&512&&(De||a===null||tr(a,a.return)),u&4){var f=a!==null?a.memoizedState:null;if(u=e.memoizedState,a===null)if(u===null)if(e.stateNode===null){t:{u=e.type,a=e.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Ki]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(u),d.head.insertBefore(f,d.querySelector("head > title"))),Ve(f,u,a),f[Ee]=e,Ue(f),u=f;break t;case"link":var v=Q0("link","href",d).get(u+(a.href||""));if(v){for(var R=0;R<v.length;R++)if(f=v[R],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(R,1);break e}}f=d.createElement(u),Ve(f,u,a),d.head.appendChild(f);break;case"meta":if(v=Q0("meta","content",d).get(u+(a.content||""))){for(R=0;R<v.length;R++)if(f=v[R],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(R,1);break e}}f=d.createElement(u),Ve(f,u,a),d.head.appendChild(f);break;default:throw Error(n(468,u))}f[Ee]=e,Ue(f),u=f}e.stateNode=u}else J0(d,e.type,e.stateNode);else e.stateNode=K0(d,u,e.memoizedProps);else f!==u?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,u===null?J0(d,e.type,e.stateNode):K0(d,u,e.memoizedProps)):u===null&&e.stateNode!==null&&gc(e,e.memoizedProps,a.memoizedProps)}break;case 27:ni(r,e),si(e),u&512&&(De||a===null||tr(a,a.return)),a!==null&&u&4&&gc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ni(r,e),si(e),u&512&&(De||a===null||tr(a,a.return)),e.flags&32){d=e.stateNode;try{vs(d,"")}catch(Tt){ne(e,e.return,Tt)}}u&4&&e.stateNode!=null&&(d=e.memoizedProps,gc(e,d,a!==null?a.memoizedProps:d)),u&1024&&(_c=!0);break;case 6:if(ni(r,e),si(e),u&4){if(e.stateNode===null)throw Error(n(162));u=e.memoizedProps,a=e.stateNode;try{a.nodeValue=u}catch(Tt){ne(e,e.return,Tt)}}break;case 3:if(Bo=null,d=Fi,Fi=Do(r.containerInfo),ni(r,e),Fi=d,si(e),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Ws(r.containerInfo)}catch(Tt){ne(e,e.return,Tt)}_c&&(_c=!1,Jg(e));break;case 4:u=Fi,Fi=Do(e.stateNode.containerInfo),ni(r,e),si(e),Fi=u;break;case 12:ni(r,e),si(e);break;case 31:ni(r,e),si(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,go(e,u)));break;case 13:ni(r,e),si(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vo=jt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,go(e,u)));break;case 22:d=e.memoizedState!==null;var F=a!==null&&a.memoizedState!==null,tt=Rr,at=De;if(Rr=tt||d,De=at||F,ni(r,e),De=at,Rr=tt,si(e),u&8192)t:for(r=e.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||F||Rr||De||Xn(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){F=a=r;try{if(f=F.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{R=F.stateNode;var ct=F.memoizedProps.style,et=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;R.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(Tt){ne(F,F.return,Tt)}}}else if(r.tag===6){if(a===null){F=r;try{F.stateNode.nodeValue=d?"":F.memoizedProps}catch(Tt){ne(F,F.return,Tt)}}}else if(r.tag===18){if(a===null){F=r;try{var nt=F.stateNode;d?H0(nt,!0):H0(F.stateNode,!1)}catch(Tt){ne(F,F.return,Tt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=e.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,go(e,a))));break;case 19:ni(r,e),si(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,go(e,u)));break;case 30:break;case 21:break;default:ni(r,e),si(e)}}function si(e){var r=e.flags;if(r&2){try{for(var a,u=e.return;u!==null;){if(Xg(u)){a=u;break}u=u.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var d=a.stateNode,f=yc(e);mo(e,f,d);break;case 5:var v=a.stateNode;a.flags&32&&(vs(v,""),a.flags&=-33);var R=yc(e);mo(e,R,v);break;case 3:case 4:var F=a.stateNode.containerInfo,tt=yc(e);vc(e,tt,F);break;default:throw Error(n(161))}}catch(at){ne(e,e.return,at)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Jg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Jg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function Dr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yg(e,r.alternate,r),r=r.sibling}function Xn(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:rn(4,r,r.return),Xn(r);break;case 1:tr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Hg(r,r.return,a),Xn(r);break;case 27:el(r.stateNode);case 26:case 5:tr(r,r.return),Xn(r);break;case 22:r.memoizedState===null&&Xn(r);break;case 30:Xn(r);break;default:Xn(r)}e=e.sibling}}function Or(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=e,f=r,v=f.flags;switch(f.tag){case 0:case 11:case 15:Or(d,f,a),Va(4,f);break;case 1:if(Or(d,f,a),u=f,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(tt){ne(u,u.return,tt)}if(u=f,d=u.updateQueue,d!==null){var R=u.stateNode;try{var F=d.shared.hiddenCallbacks;if(F!==null)for(d.shared.hiddenCallbacks=null,d=0;d<F.length;d++)Dm(F[d],R)}catch(tt){ne(u,u.return,tt)}}a&&v&64&&zg(f),qa(f,f.return);break;case 27:Vg(f);case 26:case 5:Or(d,f,a),a&&u===null&&v&4&&jg(f),qa(f,f.return);break;case 12:Or(d,f,a);break;case 31:Or(d,f,a),a&&v&4&&Zg(d,f);break;case 13:Or(d,f,a),a&&v&4&&Kg(d,f);break;case 22:f.memoizedState===null&&Or(d,f,a),qa(f,f.return);break;case 30:break;default:Or(d,f,a)}r=r.sibling}}function xc(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ba(a))}function bc(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Ba(e))}function ki(e,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)t0(e,r,a,u),r=r.sibling}function t0(e,r,a,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:ki(e,r,a,u),d&2048&&Va(9,r);break;case 1:ki(e,r,a,u);break;case 3:ki(e,r,a,u),d&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&Ba(e)));break;case 12:if(d&2048){ki(e,r,a,u),e=r.stateNode;try{var f=r.memoizedProps,v=f.id,R=f.onPostCommit;typeof R=="function"&&R(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(F){ne(r,r.return,F)}}else ki(e,r,a,u);break;case 31:ki(e,r,a,u);break;case 13:ki(e,r,a,u);break;case 23:break;case 22:f=r.stateNode,v=r.alternate,r.memoizedState!==null?f._visibility&2?ki(e,r,a,u):Ya(e,r):f._visibility&2?ki(e,r,a,u):(f._visibility|=2,Fs(e,r,a,u,(r.subtreeFlags&10256)!==0||!1)),d&2048&&xc(v,r);break;case 24:ki(e,r,a,u),d&2048&&bc(r.alternate,r);break;default:ki(e,r,a,u)}}function Fs(e,r,a,u,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=e,v=r,R=a,F=u,tt=v.flags;switch(v.tag){case 0:case 11:case 15:Fs(f,v,R,F,d),Va(8,v);break;case 23:break;case 22:var at=v.stateNode;v.memoizedState!==null?at._visibility&2?Fs(f,v,R,F,d):Ya(f,v):(at._visibility|=2,Fs(f,v,R,F,d)),d&&tt&2048&&xc(v.alternate,v);break;case 24:Fs(f,v,R,F,d),d&&tt&2048&&bc(v.alternate,v);break;default:Fs(f,v,R,F,d)}r=r.sibling}}function Ya(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,u=r,d=u.flags;switch(u.tag){case 22:Ya(a,u),d&2048&&xc(u.alternate,u);break;case 24:Ya(a,u),d&2048&&bc(u.alternate,u);break;default:Ya(a,u)}r=r.sibling}}var $a=8192;function ks(e,r,a){if(e.subtreeFlags&$a)for(e=e.child;e!==null;)e0(e,r,a),e=e.sibling}function e0(e,r,a){switch(e.tag){case 26:ks(e,r,a),e.flags&$a&&e.memoizedState!==null&&cE(a,Fi,e.memoizedState,e.memoizedProps);break;case 5:ks(e,r,a);break;case 3:case 4:var u=Fi;Fi=Do(e.stateNode.containerInfo),ks(e,r,a),Fi=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=$a,$a=16777216,ks(e,r,a),$a=u):ks(e,r,a));break;default:ks(e,r,a)}}function i0(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Wa(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Le=u,n0(u,e)}i0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)r0(e),e=e.sibling}function r0(e){switch(e.tag){case 0:case 11:case 15:Wa(e),e.flags&2048&&rn(9,e,e.return);break;case 3:Wa(e);break;case 12:Wa(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,yo(e)):Wa(e);break;default:Wa(e)}}function yo(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Le=u,n0(u,e)}i0(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:rn(8,r,r.return),yo(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,yo(r));break;default:yo(r)}e=e.sibling}}function n0(e,r){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:rn(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ba(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Le=u;else t:for(a=e;Le!==null;){u=Le;var d=u.sibling,f=u.return;if($g(u),u===a){Le=null;break t}if(d!==null){d.return=f,Le=d;break t}Le=f}}}var w1={getCacheForType:function(e){var r=je(Ce),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return je(Ce).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,ee=0,ce=null,Xt=null,$t=0,re=0,gi=null,nn=!1,Gs=!1,Ec=!1,Br=0,be=0,sn=0,Vn=0,Tc=0,yi=0,zs=0,Za=null,ai=null,Sc=!1,vo=0,s0=0,_o=1/0,xo=null,an=null,Be=0,ln=null,Hs=null,Nr=0,Ac=0,wc=null,a0=null,Ka=0,Cc=null;function vi(){return(ee&2)!==0&&$t!==0?$t&-$t:A.T!==null?Nc():ds()}function l0(){if(yi===0)if(($t&536870912)===0||Zt){var e=Ut;Ut<<=1,(Ut&3932160)===0&&(Ut=262144),yi=e}else yi=536870912;return e=pi.current,e!==null&&(e.flags|=32),yi}function li(e,r,a){(e===ce&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(js(e,0),on(e,$t,yi,!1)),jr(e,a),((ee&2)===0||e!==ce)&&(e===ce&&((ee&2)===0&&(Vn|=a),be===4&&on(e,$t,yi,!1)),er(e))}function o0(e,r,a){if((ee&6)!==0)throw Error(n(327));var u=!a&&(r&127)===0&&(r&e.expiredLanes)===0||ei(e,r),d=u?D1(e,r):Mc(e,r,!0),f=u;do{if(d===0){Gs&&!u&&on(e,r,0,!1);break}else{if(a=e.current.alternate,f&&!R1(a)){d=Mc(e,r,!1),f=!1;continue}if(d===2){if(f=r,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var R=e;d=Za;var F=R.current.memoizedState.isDehydrated;if(F&&(js(R,v).flags|=256),v=Mc(R,v,!1),v!==2){if(Ec&&!F){R.errorRecoveryDisabledLanes|=f,Vn|=f,d=4;break t}f=ai,ai=d,f!==null&&(ai===null?ai=f:ai.push.apply(ai,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){js(e,0),on(e,r,0,!0);break}t:{switch(u=e,f=d,f){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:on(u,r,yi,!nn);break t;case 2:ai=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(d=vo+300-jt(),10<d)){if(on(u,r,yi,!nn),Ie(u,0,!0)!==0)break t;Nr=r,u.timeoutHandle=k0(u0.bind(null,u,a,ai,xo,Sc,r,yi,Vn,zs,nn,f,"Throttled",-0,0),d);break t}u0(u,a,ai,xo,Sc,r,yi,Vn,zs,nn,f,null,-0,0)}}break}while(!0);er(e)}function u0(e,r,a,u,d,f,v,R,F,tt,at,ct,et,nt){if(e.timeoutHandle=-1,ct=r.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vr},e0(r,f,ct);var Tt=(f&62914560)===f?vo-jt():(f&4194048)===f?s0-jt():0;if(Tt=dE(ct,Tt),Tt!==null){Nr=f,e.cancelPendingCommit=Tt(y0.bind(null,e,r,f,a,u,d,v,R,F,at,ct,null,et,nt)),on(e,f,v,!tt);return}}y0(e,r,f,a,u,d,v,R,F)}function R1(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],f=d.getSnapshot;d=d.value;try{if(!di(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function on(e,r,a,u){r&=~Tc,r&=~Vn,e.suspendedLanes|=r,e.pingedLanes&=~r,u&&(e.warmLanes|=r),u=e.expirationTimes;for(var d=r;0<d;){var f=31-Z(d),v=1<<f;u[f]=-1,d&=~v}a!==0&&ga(e,a,r)}function bo(){return(ee&6)===0?(Qa(0),!1):!0}function Rc(){if(Xt!==null){if(re===0)var e=Xt.return;else e=Xt,Er=Ln=null,Xh(e),Ns=null,Ia=0,e=Xt;for(;e!==null;)Gg(e.alternate,e),e=e.return;Xt=null}}function js(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Nr=0,Rc(),ce=e,Xt=a=xr(e.current,null),$t=r,re=0,gi=null,nn=!1,Gs=ei(e,r),Ec=!1,zs=yi=Tc=Vn=sn=be=0,ai=Za=null,Sc=!1,(r&8)!==0&&(r|=r&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=r;0<u;){var d=31-Z(u),f=1<<d;r|=e[d],u&=~f}return Br=r,zl(),a}function h0(e,r){Ft=null,A.H=Ha,r===Bs||r===Wl?(r=wm(),re=3):r===Bh?(r=wm(),re=4):re=r===ac?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gi=r,Xt===null&&(be=1,uo(e,Ai(r,e.current)))}function c0(){var e=pi.current;return e===null?!0:($t&4194048)===$t?Mi===null:($t&62914560)===$t||($t&536870912)!==0?e===Mi:!1}function d0(){var e=A.H;return A.H=Ha,e===null?Ha:e}function f0(){var e=A.A;return A.A=w1,e}function Eo(){be=4,nn||($t&4194048)!==$t&&pi.current!==null||(Gs=!0),(sn&134217727)===0&&(Vn&134217727)===0||ce===null||on(ce,$t,yi,!1)}function Mc(e,r,a){var u=ee;ee|=2;var d=d0(),f=f0();(ce!==e||$t!==r)&&(xo=null,js(e,r)),r=!1;var v=be;t:do try{if(re!==0&&Xt!==null){var R=Xt,F=gi;switch(re){case 8:Rc(),v=6;break t;case 3:case 2:case 9:case 6:pi.current===null&&(r=!0);var tt=re;if(re=0,gi=null,Xs(e,R,F,tt),a&&Gs){v=0;break t}break;default:tt=re,re=0,gi=null,Xs(e,R,F,tt)}}M1(),v=be;break}catch(at){h0(e,at)}while(!0);return r&&e.shellSuspendCounter++,Er=Ln=null,ee=u,A.H=d,A.A=f,Xt===null&&(ce=null,$t=0,zl()),v}function M1(){for(;Xt!==null;)p0(Xt)}function D1(e,r){var a=ee;ee|=2;var u=d0(),d=f0();ce!==e||$t!==r?(xo=null,_o=jt()+500,js(e,r)):Gs=ei(e,r);t:do try{if(re!==0&&Xt!==null){r=Xt;var f=gi;e:switch(re){case 1:re=0,gi=null,Xs(e,r,f,1);break;case 2:case 9:if(Sm(f)){re=0,gi=null,m0(r);break}r=function(){re!==2&&re!==9||ce!==e||(re=7),er(e)},f.then(r,r);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:Sm(f)?(re=0,gi=null,m0(r)):(re=0,gi=null,Xs(e,r,f,7));break;case 5:var v=null;switch(Xt.tag){case 26:v=Xt.memoizedState;case 5:case 27:var R=Xt;if(v?ty(v):R.stateNode.complete){re=0,gi=null;var F=R.sibling;if(F!==null)Xt=F;else{var tt=R.return;tt!==null?(Xt=tt,To(tt)):Xt=null}break e}}re=0,gi=null,Xs(e,r,f,5);break;case 6:re=0,gi=null,Xs(e,r,f,6);break;case 8:Rc(),be=6;break t;default:throw Error(n(462))}}O1();break}catch(at){h0(e,at)}while(!0);return Er=Ln=null,A.H=u,A.A=d,ee=a,Xt!==null?0:(ce=null,$t=0,zl(),be)}function O1(){for(;Xt!==null&&!Yt();)p0(Xt)}function p0(e){var r=Fg(e.alternate,e,Br);e.memoizedProps=e.pendingProps,r===null?To(e):Xt=r}function m0(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Bg(a,r,r.pendingProps,r.type,void 0,$t);break;case 11:r=Bg(a,r,r.pendingProps,r.type.render,r.ref,$t);break;case 5:Xh(r);default:Gg(a,r),r=Xt=fm(r,Br),r=Fg(a,r,Br)}e.memoizedProps=e.pendingProps,r===null?To(e):Xt=r}function Xs(e,r,a,u){Er=Ln=null,Xh(r),Ns=null,Ia=0;var d=r.return;try{if(_1(e,d,r,a,$t)){be=1,uo(e,Ai(a,e.current)),Xt=null;return}}catch(f){if(d!==null)throw Xt=d,f;be=1,uo(e,Ai(a,e.current)),Xt=null;return}r.flags&32768?(Zt||u===1?e=!0:Gs||($t&536870912)!==0?e=!1:(nn=e=!0,(u===2||u===9||u===3||u===6)&&(u=pi.current,u!==null&&u.tag===13&&(u.flags|=16384))),g0(r,e)):To(r)}function To(e){var r=e;do{if((r.flags&32768)!==0){g0(r,nn);return}e=r.return;var a=E1(r.alternate,r,Br);if(a!==null){Xt=a;return}if(r=r.sibling,r!==null){Xt=r;return}Xt=r=e}while(r!==null);be===0&&(be=5)}function g0(e,r){do{var a=T1(e.alternate,e);if(a!==null){a.flags&=32767,Xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Xt=e;return}Xt=e=a}while(e!==null);be=6,Xt=null}function y0(e,r,a,u,d,f,v,R,F){e.cancelPendingCommit=null;do So();while(Be!==0);if((ee&6)!==0)throw Error(n(327));if(r!==null){if(r===e.current)throw Error(n(177));if(f=r.lanes|r.childLanes,f|=yh,Ml(e,a,f,v,R,F),e===ce&&(Xt=ce=null,$t=0),Hs=r,ln=e,Nr=a,Ac=f,wc=d,a0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U1(ti,function(){return E0(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=A.T,A.T=null,d=D.p,D.p=2,v=ee,ee|=4;try{S1(e,r,a)}finally{ee=v,D.p=d,A.T=u}}Be=1,v0(),_0(),x0()}}function v0(){if(Be===1){Be=0;var e=ln,r=Hs,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var u=D.p;D.p=2;var d=ee;ee|=4;try{Qg(r,e);var f=zc,v=nm(e.containerInfo),R=f.focusedElem,F=f.selectionRange;if(v!==R&&R&&R.ownerDocument&&rm(R.ownerDocument.documentElement,R)){if(F!==null&&dh(R)){var tt=F.start,at=F.end;if(at===void 0&&(at=tt),"selectionStart"in R)R.selectionStart=tt,R.selectionEnd=Math.min(at,R.value.length);else{var ct=R.ownerDocument||document,et=ct&&ct.defaultView||window;if(et.getSelection){var nt=et.getSelection(),Tt=R.textContent.length,Bt=Math.min(F.start,Tt),ue=F.end===void 0?Bt:Math.min(F.end,Tt);!nt.extend&&Bt>ue&&(v=ue,ue=Bt,Bt=v);var $=im(R,Bt),z=im(R,ue);if($&&z&&(nt.rangeCount!==1||nt.anchorNode!==$.node||nt.anchorOffset!==$.offset||nt.focusNode!==z.node||nt.focusOffset!==z.offset)){var J=ct.createRange();J.setStart($.node,$.offset),nt.removeAllRanges(),Bt>ue?(nt.addRange(J),nt.extend(z.node,z.offset)):(J.setEnd(z.node,z.offset),nt.addRange(J))}}}}for(ct=[],nt=R;nt=nt.parentNode;)nt.nodeType===1&&ct.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ct.length;R++){var ot=ct[R];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Lo=!!Gc,zc=Gc=null}finally{ee=d,D.p=u,A.T=a}}e.current=r,Be=2}}function _0(){if(Be===2){Be=0;var e=ln,r=Hs,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var u=D.p;D.p=2;var d=ee;ee|=4;try{Yg(e,r.alternate,r)}finally{ee=d,D.p=u,A.T=a}}Be=3}}function x0(){if(Be===4||Be===3){Be=0,se();var e=ln,r=Hs,a=Nr,u=a0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Be=5:(Be=0,Hs=ln=null,b0(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(an=null),Rn(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Cn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=A.T,d=D.p,D.p=2,A.T=null;try{for(var f=e.onRecoverableError,v=0;v<u.length;v++){var R=u[v];f(R.value,{componentStack:R.stack})}}finally{A.T=r,D.p=d}}(Nr&3)!==0&&So(),er(e),d=e.pendingLanes,(a&261930)!==0&&(d&42)!==0?e===Cc?Ka++:(Ka=0,Cc=e):Ka=0,Qa(0)}}function b0(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,Ba(r)))}function So(){return v0(),_0(),x0(),E0()}function E0(){if(Be!==5)return!1;var e=ln,r=Ac;Ac=0;var a=Rn(Nr),u=A.T,d=D.p;try{D.p=32>a?32:a,A.T=null,a=wc,wc=null;var f=ln,v=Nr;if(Be=0,Hs=ln=null,Nr=0,(ee&6)!==0)throw Error(n(331));var R=ee;if(ee|=4,r0(f.current),t0(f,f.current,v,a),ee=R,Qa(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Cn,f)}catch{}return!0}finally{D.p=d,A.T=u,b0(e,r)}}function T0(e,r,a){r=Ai(a,r),r=sc(e.stateNode,r,2),e=Jr(e,r,2),e!==null&&(jr(e,2),er(e))}function ne(e,r,a){if(e.tag===3)T0(e,e,a);else for(;r!==null;){if(r.tag===3){T0(r,e,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(an===null||!an.has(u))){e=Ai(a,e),a=Sg(2),u=Jr(r,a,2),u!==null&&(Ag(a,u,r,e),jr(u,2),er(u));break}}r=r.return}}function Dc(e,r,a){var u=e.pingCache;if(u===null){u=e.pingCache=new C1;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(a)||(Ec=!0,d.add(a),e=B1.bind(null,e,r,a),r.then(e,e))}function B1(e,r,a){var u=e.pingCache;u!==null&&u.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&($t&a)===a&&(be===4||be===3&&($t&62914560)===$t&&300>jt()-vo?(ee&2)===0&&js(e,0):Tc|=a,zs===$t&&(zs=0)),er(e)}function S0(e,r){r===0&&(r=pr()),e=Nn(e,r),e!==null&&(jr(e,r),er(e))}function N1(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),S0(e,a)}function I1(e,r){var a=0;switch(e.tag){case 31:case 13:var u=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(r),S0(e,a)}function U1(e,r){return ge(e,r)}var Ao=null,Vs=null,Oc=!1,wo=!1,Bc=!1,un=0;function er(e){e!==Vs&&e.next===null&&(Vs===null?Ao=Vs=e:Vs=Vs.next=e),wo=!0,Oc||(Oc=!0,P1())}function Qa(e,r){if(!Bc&&wo){Bc=!0;do for(var a=!1,u=Ao;u!==null;){if(e!==0){var d=u.pendingLanes;if(d===0)var f=0;else{var v=u.suspendedLanes,R=u.pingedLanes;f=(1<<31-Z(42|e)+1)-1,f&=d&~(v&~R),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,R0(u,f))}else f=$t,f=Ie(u,u===ce?f:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(f&3)===0||ei(u,f)||(a=!0,R0(u,f));u=u.next}while(a);Bc=!1}}function L1(){A0()}function A0(){wo=Oc=!1;var e=0;un!==0&&Y1()&&(e=un);for(var r=jt(),a=null,u=Ao;u!==null;){var d=u.next,f=w0(u,r);f===0?(u.next=null,a===null?Ao=d:a.next=d,d===null&&(Vs=a)):(a=u,(e!==0||(f&3)!==0)&&(wo=!0)),u=d}Be!==0&&Be!==5||Qa(e),un!==0&&(un=0)}function w0(e,r){for(var a=e.suspendedLanes,u=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Z(f),R=1<<v,F=d[v];F===-1?((R&a)===0||(R&u)!==0)&&(d[v]=ma(R,r)):F<=r&&(e.expiredLanes|=R),f&=~R}if(r=ce,a=$t,a=Ie(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,a===0||e===r&&(re===2||re===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&zt(u),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ei(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(u!==null&&zt(u),Rn(a)){case 2:case 8:a=bi;break;case 32:a=ti;break;case 268435456:a=ui;break;default:a=ti}return u=C0.bind(null,e),a=ge(a,u),e.callbackPriority=r,e.callbackNode=a,r}return u!==null&&u!==null&&zt(u),e.callbackPriority=2,e.callbackNode=null,2}function C0(e,r){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(So()&&e.callbackNode!==a)return null;var u=$t;return u=Ie(e,e===ce?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(o0(e,u,r),w0(e,jt()),e.callbackNode!=null&&e.callbackNode===a?C0.bind(null,e):null)}function R0(e,r){if(So())return null;o0(e,r,!0)}function P1(){W1(function(){(ee&6)!==0?ge(fr,L1):A0()})}function Nc(){if(un===0){var e=Ds;e===0&&(e=ie,ie<<=1,(ie&261888)===0&&(ie=256)),un=e}return un}function M0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function D0(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function F1(e,r,a,u,d){if(r==="submit"&&a&&a.stateNode===d){var f=M0((d[ze]||null).action),v=u.submitter;v&&(r=(r=v[ze]||null)?M0(r.formAction):v.getAttribute("formAction"),r!==null&&(f=r,v=null));var R=new Pl("action","action",null,u,d);e.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(un!==0){var F=v?D0(d,v):new FormData(d);Jh(a,{pending:!0,data:F,method:d.method,action:f},null,F)}}else typeof f=="function"&&(R.preventDefault(),F=v?D0(d,v):new FormData(d),Jh(a,{pending:!0,data:F,method:d.method,action:f},f,F))},currentTarget:d}]})}}for(var Ic=0;Ic<gh.length;Ic++){var Uc=gh[Ic],k1=Uc.toLowerCase(),G1=Uc[0].toUpperCase()+Uc.slice(1);Pi(k1,"on"+G1)}Pi(lm,"onAnimationEnd"),Pi(om,"onAnimationIteration"),Pi(um,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(i1,"onTransitionRun"),Pi(r1,"onTransitionStart"),Pi(n1,"onTransitionCancel"),Pi(hm,"onTransitionEnd"),gs("onMouseEnter",["mouseout","mouseover"]),gs("onMouseLeave",["mouseout","mouseover"]),gs("onPointerEnter",["pointerout","pointerover"]),gs("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function O0(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var u=e[a],d=u.event;u=u.listeners;t:{var f=void 0;if(r)for(var v=u.length-1;0<=v;v--){var R=u[v],F=R.instance,tt=R.currentTarget;if(R=R.listener,F!==f&&d.isPropagationStopped())break t;f=R,d.currentTarget=tt;try{f(d)}catch(at){Gl(at)}d.currentTarget=null,f=F}else for(v=0;v<u.length;v++){if(R=u[v],F=R.instance,tt=R.currentTarget,R=R.listener,F!==f&&d.isPropagationStopped())break t;f=R,d.currentTarget=tt;try{f(d)}catch(at){Gl(at)}d.currentTarget=null,f=F}}}}function Vt(e,r){var a=r[fs];a===void 0&&(a=r[fs]=new Set);var u=e+"__bubble";a.has(u)||(B0(r,e,2,!1),a.add(u))}function Lc(e,r,a){var u=0;r&&(u|=4),B0(a,e,u,r)}var Co="_reactListening"+Math.random().toString(36).slice(2);function Pc(e){if(!e[Co]){e[Co]=!0,Ap.forEach(function(a){a!=="selectionchange"&&(z1.has(a)||Lc(a,!1,e),Lc(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Co]||(r[Co]=!0,Lc("selectionchange",!1,r))}}function B0(e,r,a,u){switch(ly(r)){case 2:var d=mE;break;case 8:d=gE;break;default:d=Qc}a=d.bind(null,r,a,e),d=void 0,!rh||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?e.addEventListener(r,a,{capture:!0,passive:d}):e.addEventListener(r,a,!0):d!==void 0?e.addEventListener(r,a,{passive:d}):e.addEventListener(r,a,!1)}function Fc(e,r,a,u,d){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var R=u.stateNode.containerInfo;if(R===d)break;if(v===4)for(v=u.return;v!==null;){var F=v.tag;if((F===3||F===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;R!==null;){if(v=gr(R),v===null)return;if(F=v.tag,F===5||F===6||F===26||F===27){u=f=v;continue t}R=R.parentNode}}u=u.return}Pp(function(){var tt=f,at=eh(a),ct=[];t:{var et=cm.get(e);if(et!==void 0){var nt=Pl,Tt=e;switch(e){case"keypress":if(Ul(a)===0)break t;case"keydown":case"keyup":nt=Ib;break;case"focusin":Tt="focus",nt=lh;break;case"focusout":Tt="blur",nt=lh;break;case"beforeblur":case"afterblur":nt=lh;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Pb;break;case lm:case om:case um:nt=Ab;break;case hm:nt=kb;break;case"scroll":case"scrollend":nt=xb;break;case"wheel":nt=zb;break;case"copy":case"cut":case"paste":nt=Cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=Hp;break;case"toggle":case"beforetoggle":nt=jb}var Bt=(r&4)!==0,ue=!Bt&&(e==="scroll"||e==="scrollend"),$=Bt?et!==null?et+"Capture":null:et;Bt=[];for(var z=tt,J;z!==null;){var ot=z;if(J=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||J===null||$===null||(ot=ba(z,$),ot!=null&&Bt.push(tl(z,ot,J))),ue)break;z=z.return}0<Bt.length&&(et=new nt(et,Tt,null,a,at),ct.push({event:et,listeners:Bt}))}}if((r&7)===0){t:{if(et=e==="mouseover"||e==="pointerover",nt=e==="mouseout"||e==="pointerout",et&&a!==th&&(Tt=a.relatedTarget||a.fromElement)&&(gr(Tt)||Tt[Zi]))break t;if((nt||et)&&(et=at.window===at?at:(et=at.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(Tt=a.relatedTarget||a.toElement,nt=tt,Tt=Tt?gr(Tt):null,Tt!==null&&(ue=o(Tt),Bt=Tt.tag,Tt!==ue||Bt!==5&&Bt!==27&&Bt!==6)&&(Tt=null)):(nt=null,Tt=tt),nt!==Tt)){if(Bt=Gp,ot="onMouseLeave",$="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Bt=Hp,ot="onPointerLeave",$="onPointerEnter",z="pointer"),ue=nt==null?et:xa(nt),J=Tt==null?et:xa(Tt),et=new Bt(ot,z+"leave",nt,a,at),et.target=ue,et.relatedTarget=J,ot=null,gr(at)===tt&&(Bt=new Bt($,z+"enter",Tt,a,at),Bt.target=J,Bt.relatedTarget=ue,ot=Bt),ue=ot,nt&&Tt)e:{for(Bt=H1,$=nt,z=Tt,J=0,ot=$;ot;ot=Bt(ot))J++;ot=0;for(var Ot=z;Ot;Ot=Bt(Ot))ot++;for(;0<J-ot;)$=Bt($),J--;for(;0<ot-J;)z=Bt(z),ot--;for(;J--;){if($===z||z!==null&&$===z.alternate){Bt=$;break e}$=Bt($),z=Bt(z)}Bt=null}else Bt=null;nt!==null&&N0(ct,et,nt,Bt,!1),Tt!==null&&ue!==null&&N0(ct,ue,Tt,Bt,!0)}}t:{if(et=tt?xa(tt):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var Jt=Zp;else if($p(et))if(Kp)Jt=Jb;else{Jt=Kb;var wt=Zb}else nt=et.nodeName,!nt||nt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?tt&&Ju(tt.elementType)&&(Jt=Zp):Jt=Qb;if(Jt&&(Jt=Jt(e,tt))){Wp(ct,Jt,a,at);break t}wt&&wt(e,et,tt),e==="focusout"&&tt&&et.type==="number"&&tt.memoizedProps.value!=null&&Qu(et,"number",et.value)}switch(wt=tt?xa(tt):window,e){case"focusin":($p(wt)||wt.contentEditable==="true")&&(Es=wt,fh=tt,Ma=null);break;case"focusout":Ma=fh=Es=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,sm(ct,a,at);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":sm(ct,a,at)}var Gt;if(uh)t:{switch(e){case"compositionstart":var Wt="onCompositionStart";break t;case"compositionend":Wt="onCompositionEnd";break t;case"compositionupdate":Wt="onCompositionUpdate";break t}Wt=void 0}else bs?qp(e,a)&&(Wt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Wt="onCompositionStart");Wt&&(jp&&a.locale!=="ko"&&(bs||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&bs&&(Gt=Fp()):(qr=at,nh="value"in qr?qr.value:qr.textContent,bs=!0)),wt=Ro(tt,Wt),0<wt.length&&(Wt=new zp(Wt,e,null,a,at),ct.push({event:Wt,listeners:wt}),Gt?Wt.data=Gt:(Gt=Yp(a),Gt!==null&&(Wt.data=Gt)))),(Gt=Vb?qb(e,a):Yb(e,a))&&(Wt=Ro(tt,"onBeforeInput"),0<Wt.length&&(wt=new zp("onBeforeInput","beforeinput",null,a,at),ct.push({event:wt,listeners:Wt}),wt.data=Gt)),F1(ct,e,tt,a,at)}O0(ct,r)})}function tl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Ro(e,r){for(var a=r+"Capture",u=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ba(e,a),d!=null&&u.unshift(tl(e,d,f)),d=ba(e,r),d!=null&&u.push(tl(e,d,f))),e.tag===3)return u;e=e.return}return[]}function H1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function N0(e,r,a,u,d){for(var f=r._reactName,v=[];a!==null&&a!==u;){var R=a,F=R.alternate,tt=R.stateNode;if(R=R.tag,F!==null&&F===u)break;R!==5&&R!==26&&R!==27||tt===null||(F=tt,d?(tt=ba(a,f),tt!=null&&v.unshift(tl(a,tt,F))):d||(tt=ba(a,f),tt!=null&&v.push(tl(a,tt,F)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var j1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function I0(e){return(typeof e=="string"?e:""+e).replace(j1,`
`).replace(X1,"")}function U0(e,r){return r=I0(r),I0(e)===r}function oe(e,r,a,u,d,f){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vs(e,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vs(e,""+u);break;case"className":Ol(e,"class",u);break;case"tabIndex":Ol(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(e,a,u);break;case"style":Up(e,u,f);break;case"data":if(r!=="object"){Ol(e,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Nl(""+u),e.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&oe(e,r,"name",d.name,d,null),oe(e,r,"formEncType",d.formEncType,d,null),oe(e,r,"formMethod",d.formMethod,d,null),oe(e,r,"formTarget",d.formTarget,d,null)):(oe(e,r,"encType",d.encType,d,null),oe(e,r,"method",d.method,d,null),oe(e,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(a);break}u=Nl(""+u),e.setAttribute(a,u);break;case"onClick":u!=null&&(e.onclick=vr);break;case"onScroll":u!=null&&Vt("scroll",e);break;case"onScrollEnd":u!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}a=Nl(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""+u):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":u===!0?e.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(a,u):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(a,u):e.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(a):e.setAttribute(a,u);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Dl(e,"popover",u);break;case"xlinkActuate":yr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Dl(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vb.get(a)||a,Dl(e,a,u))}}function kc(e,r,a,u,d,f){switch(a){case"style":Up(e,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"children":typeof u=="string"?vs(e,u):(typeof u=="number"||typeof u=="bigint")&&vs(e,""+u);break;case"onScroll":u!=null&&Vt("scroll",e);break;case"onScrollEnd":u!=null&&Vt("scrollend",e);break;case"onClick":u!=null&&(e.onclick=vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wp.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=e[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(r,f,d),typeof u=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,u,d);break t}a in e?e[a]=u:u===!0?e.setAttribute(a,""):Dl(e,a,u)}}}function Ve(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var u=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:oe(e,r,f,v,a,null)}}d&&oe(e,r,"srcSet",a.srcSet,a,null),u&&oe(e,r,"src",a.src,a,null);return;case"input":Vt("invalid",e);var R=f=v=d=null,F=null,tt=null;for(u in a)if(a.hasOwnProperty(u)){var at=a[u];if(at!=null)switch(u){case"name":d=at;break;case"type":v=at;break;case"checked":F=at;break;case"defaultChecked":tt=at;break;case"value":f=at;break;case"defaultValue":R=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,r));break;default:oe(e,r,u,at,a,null)}}Op(e,f,R,F,tt,v,d,!1);return;case"select":Vt("invalid",e),u=v=f=null;for(d in a)if(a.hasOwnProperty(d)&&(R=a[d],R!=null))switch(d){case"value":f=R;break;case"defaultValue":v=R;break;case"multiple":u=R;default:oe(e,r,d,R,a,null)}r=f,a=v,e.multiple=!!u,r!=null?ys(e,!!u,r,!1):a!=null&&ys(e,!!u,a,!0);return;case"textarea":Vt("invalid",e),f=d=u=null;for(v in a)if(a.hasOwnProperty(v)&&(R=a[v],R!=null))switch(v){case"value":u=R;break;case"defaultValue":d=R;break;case"children":f=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:oe(e,r,v,R,a,null)}Np(e,u,d,f);return;case"option":for(F in a)if(a.hasOwnProperty(F)&&(u=a[F],u!=null))switch(F){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:oe(e,r,F,u,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(u=0;u<Ja.length;u++)Vt(Ja[u],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in a)if(a.hasOwnProperty(tt)&&(u=a[tt],u!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:oe(e,r,tt,u,a,null)}return;default:if(Ju(r)){for(at in a)a.hasOwnProperty(at)&&(u=a[at],u!==void 0&&kc(e,r,at,u,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(u=a[R],u!=null&&oe(e,r,R,u,a,null))}function V1(e,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,R=null,F=null,tt=null,at=null;for(nt in a){var ct=a[nt];if(a.hasOwnProperty(nt)&&ct!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":F=ct;default:u.hasOwnProperty(nt)||oe(e,r,nt,null,u,ct)}}for(var et in u){var nt=u[et];if(ct=a[et],u.hasOwnProperty(et)&&(nt!=null||ct!=null))switch(et){case"type":f=nt;break;case"name":d=nt;break;case"checked":tt=nt;break;case"defaultChecked":at=nt;break;case"value":v=nt;break;case"defaultValue":R=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(n(137,r));break;default:nt!==ct&&oe(e,r,et,nt,u,ct)}}Ku(e,v,R,F,tt,at,f,d);return;case"select":nt=v=R=et=null;for(f in a)if(F=a[f],a.hasOwnProperty(f)&&F!=null)switch(f){case"value":break;case"multiple":nt=F;default:u.hasOwnProperty(f)||oe(e,r,f,null,u,F)}for(d in u)if(f=u[d],F=a[d],u.hasOwnProperty(d)&&(f!=null||F!=null))switch(d){case"value":et=f;break;case"defaultValue":R=f;break;case"multiple":v=f;default:f!==F&&oe(e,r,d,f,u,F)}r=R,a=v,u=nt,et!=null?ys(e,!!a,et,!1):!!u!=!!a&&(r!=null?ys(e,!!a,r,!0):ys(e,!!a,a?[]:"",!1));return;case"textarea":nt=et=null;for(R in a)if(d=a[R],a.hasOwnProperty(R)&&d!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:oe(e,r,R,null,u,d)}for(v in u)if(d=u[v],f=a[v],u.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":et=d;break;case"defaultValue":nt=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(n(91));break;default:d!==f&&oe(e,r,v,d,u,f)}Bp(e,et,nt);return;case"option":for(var Tt in a)if(et=a[Tt],a.hasOwnProperty(Tt)&&et!=null&&!u.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:oe(e,r,Tt,null,u,et)}for(F in u)if(et=u[F],nt=a[F],u.hasOwnProperty(F)&&et!==nt&&(et!=null||nt!=null))switch(F){case"selected":e.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:oe(e,r,F,et,u,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in a)et=a[Bt],a.hasOwnProperty(Bt)&&et!=null&&!u.hasOwnProperty(Bt)&&oe(e,r,Bt,null,u,et);for(tt in u)if(et=u[tt],nt=a[tt],u.hasOwnProperty(tt)&&et!==nt&&(et!=null||nt!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,r));break;default:oe(e,r,tt,et,u,nt)}return;default:if(Ju(r)){for(var ue in a)et=a[ue],a.hasOwnProperty(ue)&&et!==void 0&&!u.hasOwnProperty(ue)&&kc(e,r,ue,void 0,u,et);for(at in u)et=u[at],nt=a[at],!u.hasOwnProperty(at)||et===nt||et===void 0&&nt===void 0||kc(e,r,at,et,u,nt);return}}for(var $ in a)et=a[$],a.hasOwnProperty($)&&et!=null&&!u.hasOwnProperty($)&&oe(e,r,$,null,u,et);for(ct in u)et=u[ct],nt=a[ct],!u.hasOwnProperty(ct)||et===nt||et==null&&nt==null||oe(e,r,ct,et,u,nt)}function L0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var d=a[u],f=d.transferSize,v=d.initiatorType,R=d.duration;if(f&&R&&L0(v)){for(v=0,R=d.responseEnd,u+=1;u<a.length;u++){var F=a[u],tt=F.startTime;if(tt>R)break;var at=F.transferSize,ct=F.initiatorType;at&&L0(ct)&&(F=F.responseEnd,v+=at*(F<R?1:(R-tt)/(F-tt)))}if(--u,r+=8*(f+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gc=null,zc=null;function Mo(e){return e.nodeType===9?e:e.ownerDocument}function P0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Hc(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var jc=null;function Y1(){var e=window.event;return e&&e.type==="popstate"?e===jc?!1:(jc=e,!0):(jc=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(e){return G0.resolve(null).then(e).catch(Z1)}:k0;function Z1(e){setTimeout(function(){throw e})}function hn(e){return e==="head"}function z0(e,r){var a=r,u=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(u===0){e.removeChild(d),Ws(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")el(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,el(a);for(var f=a.firstChild;f;){var v=f.nextSibling,R=f.nodeName;f[Ki]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&el(e.ownerDocument.body);a=d}while(a);Ws(r)}function H0(e,r){var a=e;e=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=u}while(a)}function Xc(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xc(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function K1(e,r,a,u){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ki])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Di(e.nextSibling),e===null)break}return null}function Q1(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Di(e.nextSibling),e===null))return null;return e}function j0(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Di(e.nextSibling),e===null))return null;return e}function Vc(e){return e.data==="$?"||e.data==="$~"}function qc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J1(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Di(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var Yc=null;function X0(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return Di(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function V0(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function q0(e,r,a){switch(r=Mo(a),e){case"html":if(e=r.documentElement,!e)throw Error(n(452));return e;case"head":if(e=r.head,!e)throw Error(n(453));return e;case"body":if(e=r.body,!e)throw Error(n(454));return e;default:throw Error(n(451))}}function el(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);_a(e)}var Oi=new Map,Y0=new Set;function Do(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ir=D.d;D.d={f:tE,r:eE,D:iE,C:rE,L:nE,m:sE,X:lE,S:aE,M:oE};function tE(){var e=Ir.f(),r=bo();return e||r}function eE(e){var r=ps(e);r!==null&&r.tag===5&&r.type==="form"?hg(r):Ir.r(e)}var qs=typeof document>"u"?null:document;function $0(e,r,a){var u=qs;if(u&&typeof r=="string"&&r){var d=Ti(r);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Y0.has(d)||(Y0.add(d),e={rel:e,crossOrigin:a,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Ve(r,"link",e),Ue(r),u.head.appendChild(r)))}}function iE(e){Ir.D(e),$0("dns-prefetch",e,null)}function rE(e,r){Ir.C(e,r),$0("preconnect",e,r)}function nE(e,r,a){Ir.L(e,r,a);var u=qs;if(u&&e&&r){var d='link[rel="preload"][as="'+Ti(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ti(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ti(a.imageSizes)+'"]')):d+='[href="'+Ti(e)+'"]';var f=d;switch(r){case"style":f=Ys(e);break;case"script":f=$s(e)}Oi.has(f)||(e=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Oi.set(f,e),u.querySelector(d)!==null||r==="style"&&u.querySelector(il(f))||r==="script"&&u.querySelector(rl(f))||(r=u.createElement("link"),Ve(r,"link",e),Ue(r),u.head.appendChild(r)))}}function sE(e,r){Ir.m(e,r);var a=qs;if(a&&e){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Ti(u)+'"][href="'+Ti(e)+'"]',f=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$s(e)}if(!Oi.has(f)&&(e=y({rel:"modulepreload",href:e},r),Oi.set(f,e),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(f)))return}u=a.createElement("link"),Ve(u,"link",e),Ue(u),a.head.appendChild(u)}}}function aE(e,r,a){Ir.S(e,r,a);var u=qs;if(u&&e){var d=ms(u).hoistableStyles,f=Ys(e);r=r||"default";var v=d.get(f);if(!v){var R={loading:0,preload:null};if(v=u.querySelector(il(f)))R.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Oi.get(f))&&$c(e,a);var F=v=u.createElement("link");Ue(F),Ve(F,"link",e),F._p=new Promise(function(tt,at){F.onload=tt,F.onerror=at}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Oo(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:R},d.set(f,v)}}}function lE(e,r){Ir.X(e,r);var a=qs;if(a&&e){var u=ms(a).hoistableScripts,d=$s(e),f=u.get(d);f||(f=a.querySelector(rl(d)),f||(e=y({src:e,async:!0},r),(r=Oi.get(d))&&Wc(e,r),f=a.createElement("script"),Ue(f),Ve(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(d,f))}}function oE(e,r){Ir.M(e,r);var a=qs;if(a&&e){var u=ms(a).hoistableScripts,d=$s(e),f=u.get(d);f||(f=a.querySelector(rl(d)),f||(e=y({src:e,async:!0,type:"module"},r),(r=Oi.get(d))&&Wc(e,r),f=a.createElement("script"),Ue(f),Ve(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(d,f))}}function W0(e,r,a,u){var d=(d=st.current)?Do(d):null;if(!d)throw Error(n(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ys(a.href),a=ms(d).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ys(a.href);var f=ms(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector(il(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Oi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Oi.set(e,a),f||uE(d,e,a,v.state))),r&&u===null)throw Error(n(528,""));return v}if(r&&u!==null)throw Error(n(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$s(a),a=ms(d).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,e))}}function Ys(e){return'href="'+Ti(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function Z0(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function uE(e,r,a,u){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=e.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ve(r,"link",a),Ue(r),e.head.appendChild(r))}function $s(e){return'[src="'+Ti(e)+'"]'}function rl(e){return"script[async]"+e}function K0(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=e.querySelector('style[data-href~="'+Ti(a.href)+'"]');if(u)return r.instance=u,Ue(u),u;var d=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ue(u),Ve(u,"style",d),Oo(u,a.precedence,e),r.instance=u;case"stylesheet":d=Ys(a.href);var f=e.querySelector(il(d));if(f)return r.state.loading|=4,r.instance=f,Ue(f),f;u=Z0(a),(d=Oi.get(d))&&$c(u,d),f=(e.ownerDocument||e).createElement("link"),Ue(f);var v=f;return v._p=new Promise(function(R,F){v.onload=R,v.onerror=F}),Ve(f,"link",u),r.state.loading|=4,Oo(f,a.precedence,e),r.instance=f;case"script":return f=$s(a.src),(d=e.querySelector(rl(f)))?(r.instance=d,Ue(d),d):(u=a,(d=Oi.get(f))&&(u=y({},a),Wc(u,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ue(d),Ve(d,"link",u),e.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Oo(u,a.precedence,e));return r.instance}function Oo(e,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,f=d,v=0;v<u.length;v++){var R=u[v];if(R.dataset.precedence===r)f=R;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function $c(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function Wc(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Bo=null;function Q0(e,r,a){if(Bo===null){var u=new Map,d=Bo=new Map;d.set(a,u)}else d=Bo,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(e))return u;for(u.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var f=a[d];if(!(f[Ki]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(r)||"";v=e+v;var R=u.get(v);R?R.push(f):u.set(v,[f])}}return u}function J0(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function hE(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ty(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cE(e,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Ys(u.href),f=r.querySelector(il(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=No.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=f,Ue(f);return}f=r.ownerDocument||r,u=Z0(u),(d=Oi.get(d))&&$c(u,d),f=f.createElement("link"),Ue(f);var v=f;v._p=new Promise(function(R,F){v.onload=R,v.onerror=F}),Ve(f,"link",u),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=No.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var Zc=0;function dE(e,r){return e.stylesheets&&e.count===0&&Uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var u=setTimeout(function(){if(e.stylesheets&&Uo(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+r);0<e.imgBytes&&Zc===0&&(Zc=62500*q1());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uo(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Zc?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function No(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Io=null;function Uo(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Io=new Map,r.forEach(fE,e),Io=null,No.call(e))}function fE(e,r){if(!(r.state.loading&4)){var a=Io.get(e);if(a)var u=a.get(null);else{a=new Map,Io.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),u=v)}u&&a.set(null,u)}d=r.instance,v=d.getAttribute("data-precedence"),f=a.get(v)||u,f===u&&a.set(null,d),a.set(v,d),this.count++,u=No.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),r.state.loading|=4}}var nl={$$typeof:M,Provider:null,Consumer:null,_currentValue:C,_currentValue2:C,_threadCount:0};function pE(e,r,a,u,d,f,v,R,F){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ze(0),this.hiddenUpdates=Ze(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function ey(e,r,a,u,d,f,v,R,F,tt,at,ct){return e=new pE(e,r,a,v,F,tt,at,ct,R),r=1,f===!0&&(r|=24),f=fi(3,null,null,r),e.current=f,f.stateNode=e,r=Mh(),r.refCount++,e.pooledCache=r,r.refCount++,f.memoizedState={element:u,isDehydrated:a,cache:r},Nh(f),e}function iy(e){return e?(e=As,e):As}function ry(e,r,a,u,d,f){d=iy(d),u.context===null?u.context=d:u.pendingContext=d,u=Qr(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(u.callback=f),a=Jr(e,u,r),a!==null&&(li(a,e,r),La(a,e,r))}function ny(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function Kc(e,r){ny(e,r),(e=e.alternate)&&ny(e,r)}function sy(e){if(e.tag===13||e.tag===31){var r=Nn(e,67108864);r!==null&&li(r,e,67108864),Kc(e,67108864)}}function ay(e){if(e.tag===13||e.tag===31){var r=vi();r=Vr(r);var a=Nn(e,r);a!==null&&li(a,e,r),Kc(e,r)}}var Lo=!0;function mE(e,r,a,u){var d=A.T;A.T=null;var f=D.p;try{D.p=2,Qc(e,r,a,u)}finally{D.p=f,A.T=d}}function gE(e,r,a,u){var d=A.T;A.T=null;var f=D.p;try{D.p=8,Qc(e,r,a,u)}finally{D.p=f,A.T=d}}function Qc(e,r,a,u){if(Lo){var d=Jc(u);if(d===null)Fc(e,r,u,Po,a),oy(e,u);else if(vE(d,e,r,a,u))u.stopPropagation();else if(oy(e,u),r&4&&-1<yE.indexOf(e)){for(;d!==null;){var f=ps(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=We(f.pendingLanes);if(v!==0){var R=f;for(R.pendingLanes|=2,R.entangledLanes|=2;v;){var F=1<<31-Z(v);R.entanglements[1]|=F,v&=~F}er(f),(ee&6)===0&&(_o=jt()+500,Qa(0))}}break;case 31:case 13:R=Nn(f,2),R!==null&&li(R,f,2),bo(),Kc(f,2)}if(f=Jc(u),f===null&&Fc(e,r,u,Po,a),f===d)break;d=f}d!==null&&u.stopPropagation()}else Fc(e,r,u,null,a)}}function Jc(e){return e=eh(e),td(e)}var Po=null;function td(e){if(Po=null,e=gr(e),e!==null){var r=o(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=c(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Po=e,null}function ly(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wi()){case fr:return 2;case bi:return 8;case ti:case ke:return 32;case ui:return 268435456;default:return 32}default:return 32}}var ed=!1,cn=null,dn=null,fn=null,sl=new Map,al=new Map,pn=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oy(e,r){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":sl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(r.pointerId)}}function ll(e,r,a,u,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},r!==null&&(r=ps(r),r!==null&&sy(r)),e):(e.eventSystemFlags|=u,r=e.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),e)}function vE(e,r,a,u,d){switch(r){case"focusin":return cn=ll(cn,e,r,a,u,d),!0;case"dragenter":return dn=ll(dn,e,r,a,u,d),!0;case"mouseover":return fn=ll(fn,e,r,a,u,d),!0;case"pointerover":var f=d.pointerId;return sl.set(f,ll(sl.get(f)||null,e,r,a,u,d)),!0;case"gotpointercapture":return f=d.pointerId,al.set(f,ll(al.get(f)||null,e,r,a,u,d)),!0}return!1}function uy(e){var r=gr(e.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,ya(e.priority,function(){ay(a)});return}}else if(r===31){if(r=c(a),r!==null){e.blockedOn=r,ya(e.priority,function(){ay(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=Jc(e.nativeEvent);if(a===null){a=e.nativeEvent;var u=new a.constructor(a.type,a);th=u,a.target.dispatchEvent(u),th=null}else return r=ps(a),r!==null&&sy(r),e.blockedOn=a,!1;r.shift()}return!0}function hy(e,r,a){Fo(e)&&a.delete(r)}function _E(){ed=!1,cn!==null&&Fo(cn)&&(cn=null),dn!==null&&Fo(dn)&&(dn=null),fn!==null&&Fo(fn)&&(fn=null),sl.forEach(hy),al.forEach(hy)}function ko(e,r){e.blockedOn===r&&(e.blockedOn=null,ed||(ed=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_E)))}var Go=null;function cy(e){Go!==e&&(Go=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Go===e&&(Go=null);for(var r=0;r<e.length;r+=3){var a=e[r],u=e[r+1],d=e[r+2];if(typeof u!="function"){if(td(u||a)===null)continue;break}var f=ps(a);f!==null&&(e.splice(r,3),r-=3,Jh(f,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function Ws(e){function r(F){return ko(F,e)}cn!==null&&ko(cn,e),dn!==null&&ko(dn,e),fn!==null&&ko(fn,e),sl.forEach(r),al.forEach(r);for(var a=0;a<pn.length;a++){var u=pn[a];u.blockedOn===e&&(u.blockedOn=null)}for(;0<pn.length&&(a=pn[0],a.blockedOn===null);)uy(a),a.blockedOn===null&&pn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],f=a[u+1],v=d[ze]||null;if(typeof f=="function")v||cy(a);else if(v){var R=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[ze]||null)R=v.formAction;else if(td(d)!==null)continue}else R=v.action;typeof R=="function"?a[u+1]=R:(a.splice(u,3),u-=3),cy(a)}}}function dy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function id(e){this._internalRoot=e}zo.prototype.render=id.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(n(409));var a=r.current,u=vi();ry(a,u,e,r,null,null)},zo.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ry(e.current,2,null,e,null,null),bo(),r[Zi]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var r=ds();e={blockedOn:null,target:e,priority:r};for(var a=0;a<pn.length&&r!==0&&r<pn[a].priority;a++);pn.splice(a,0,e),a===0&&uy(e)}};var fy=t.version;if(fy!=="19.2.4")throw Error(n(527,fy,"19.2.4"));D.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=m(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var xE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Cn=Ho.inject(xE),Ge=Ho}catch{}}return ul.createRoot=function(e,r){if(!l(e))throw Error(n(299));var a=!1,u="",d=xg,f=bg,v=Eg;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=ey(e,1,!1,null,null,a,u,null,d,f,v,dy),e[Zi]=r.current,Pc(e),new id(r)},ul.hydrateRoot=function(e,r,a){if(!l(e))throw Error(n(299));var u=!1,d="",f=xg,v=bg,R=Eg,F=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.formState!==void 0&&(F=a.formState)),r=ey(e,1,!0,r,a??null,u,d,F,f,v,R,dy),r.context=iy(null),a=r.current,u=vi(),u=Vr(u),d=Qr(u),d.callback=null,Jr(a,d,u),a=u,r.current.lanes=a,jr(r,a),er(r),e[Zi]=r.current,Pc(e),new zo(r)},ul.version="19.2.4",ul}var Ty;function OE(){if(Ty)return sd.exports;Ty=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),sd.exports=DE(),sd.exports}var BE=OE();const U_=St.createContext(null);function Pu(){const s=St.useContext(U_);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s}function Sy(s){return s==="dark"?!0:s==="light"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches}function NE({children:s}){const[t,i]=St.useState(()=>localStorage.getItem("theme")||"system"),[n,l]=St.useState(()=>Sy(t)),o=St.useCallback(h=>{localStorage.setItem("theme",h),i(h)},[]);return St.useEffect(()=>{const h=Sy(t);l(h),document.documentElement.classList.toggle("dark",h)},[t]),St.useEffect(()=>{const h=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(t==="system"){const p=h.matches;l(p),document.documentElement.classList.toggle("dark",p)}};return h.addEventListener("change",c),()=>h.removeEventListener("change",c)},[t]),j.jsx(U_.Provider,{value:{theme:t,isDark:n,setTheme:o},children:s})}const L_=St.createContext(null);function os(){const s=St.useContext(L_);if(!s)throw new Error("useNavigation must be used within NavigationProvider");return s}function IE({children:s}){const[t,i]=St.useState({type:"overview"}),n=St.useCallback(o=>{i(o)},[]),l=St.useCallback(o=>{const h=o.split(":");h[0]==="module"&&h[1]&&h[2]?i({type:"module",context:h[1],module:h[2],tab:h[3]}):i({type:"overview"})},[]);return j.jsx(L_.Provider,{value:{view:t,navigate:n,navigateFromString:l},children:s})}const P_=St.createContext(null);function Ui(){const s=St.useContext(P_);if(!s)throw new Error("useArchData must be used within ArchDataProvider");return s}function UE({children:s}){const[t,i]=St.useState(null),[n,l]=St.useState(!0),[o,h]=St.useState(null),[c,p]=St.useState(null),m=St.useRef(null),g=window.__ARCH_CONFIG__,y=St.useCallback(async()=>{try{const I=await(await fetch(g.archJsonUrl)).json();i(I),m.current=I,h(null)}catch{h("Failed to load architecture data.")}finally{l(!1)}},[g.archJsonUrl]);St.useEffect(()=>{y()},[y]);const _=St.useCallback(async()=>{try{(await(await fetch(g.archJsonUpdateUrl,{method:"POST"})).json()).success?(p({text:"Architecture data updated successfully!",success:!0}),await y()):p({text:"Failed to update architecture data.",success:!1})}catch{p({text:"Error updating architecture data.",success:!1})}},[g.archJsonUpdateUrl,y]),E=St.useCallback(()=>p(null),[]),x=St.useCallback(S=>{const I=m.current;if(!I)return null;for(const B of I.contexts)for(const M of B.modules)if(M.domainEvents?.some(k=>k.class===S))return{context:B.name,module:M.name};return null},[]),b=St.useCallback((S,I)=>{const B=m.current;if(!B)return null;const M=I==="query"?"queries":"commands";for(const k of B.contexts)for(const N of k.modules){const T=N[M]?.find(P=>P.class===S);if(T?.description)return T.description}return null},[]);return j.jsx(P_.Provider,{value:{data:t,loading:n,error:o,refresh:_,toastMessage:c,clearToast:E,findEventLocation:x,findCallDescription:b},children:s})}const bu={primary:{badge:"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300",icon:"text-primary-600 dark:text-primary-400",statValue:"text-primary-600 dark:text-primary-400"},emerald:{badge:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300",icon:"text-emerald-600 dark:text-emerald-400",statValue:"text-emerald-600 dark:text-emerald-400"},violet:{badge:"bg-violet-100 dark:bg-violet-900/50 text-violet-700 dark:text-violet-300",icon:"text-violet-600 dark:text-violet-400",statValue:"text-violet-600 dark:text-violet-400"},amber:{badge:"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300",icon:"text-amber-600 dark:text-amber-400",statValue:"text-amber-600 dark:text-amber-400"},rose:{badge:"bg-rose-100 dark:bg-rose-900/50 text-rose-700 dark:text-rose-300",icon:"text-rose-600 dark:text-rose-400",statValue:"text-rose-600 dark:text-rose-400"},cyan:{badge:"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-700 dark:text-cyan-300",icon:"text-cyan-600 dark:text-cyan-400",statValue:"text-cyan-600 dark:text-cyan-400"},slate:{badge:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",icon:"text-slate-400",statValue:"text-slate-600 dark:text-slate-400"}},cu=[{key:"commands",title:"Commands",color:"emerald",iconPath:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"},{key:"queries",title:"Queries",color:"violet",iconPath:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},{key:"domainEvents",title:"Domain Events",color:"amber",iconPath:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"},{key:"eventSubscribers",title:"Subscribers",color:"rose",iconPath:"M9.348 14.651a3.75 3.75 0 010-5.303m5.304 0a3.75 3.75 0 010 5.303m-7.425 2.122a6.75 6.75 0 010-9.546m9.546 0a6.75 6.75 0 010 9.546M5.106 18.894c-3.808-3.808-3.808-9.98 0-13.789m13.788 0c3.808 3.808 3.808 9.981 0 13.79M12 12h.008v.007H12V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"},{key:"externalCalls",title:"External Calls",color:"cyan",iconPath:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}],LE={Contexts:"primary",Modules:"primary",Commands:"emerald",Queries:"violet",Events:"amber"},Qe={home:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25",module:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9",chevronRight:"M8.25 4.5l7.5 7.5-7.5 7.5",folder:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z",refresh:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99",sun:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",monitor:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25",moon:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z",bell:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0",move:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"};function PE(){const{data:s}=Ui(),{view:t,navigate:i}=os(),n=t.type==="overview"?"overview":`module:${t.context}:${t.module}`;return j.jsxs("aside",{className:"fixed inset-y-0 left-0 z-10 w-72 border-r border-slate-200 dark:border-slate-800 bg-gradient-to-b from-white to-slate-50 dark:from-slate-900 dark:to-slate-950 overflow-y-auto",children:[j.jsx("div",{className:"sticky top-0 z-10 bg-gradient-to-b from-white via-white to-white/95 dark:from-slate-900 dark:via-slate-900 dark:to-slate-900/95 px-6 py-5 backdrop-blur-sm",children:j.jsxs("a",{href:"#",className:"flex items-center gap-3",onClick:l=>{l.preventDefault(),i({type:"overview"})},children:[j.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-primary-400 to-primary-600 shadow-lg shadow-primary-500/30",children:j.jsxs("svg",{className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[j.jsx("circle",{cx:"9",cy:"9",r:"7"}),j.jsx("circle",{cx:"15",cy:"15",r:"7"})]})}),j.jsxs("div",{children:[j.jsx("span",{className:"text-lg font-semibold",children:s?.meta.project??"Loading..."}),j.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:s?.meta.company??"Documentation"})]})]})}),j.jsxs("nav",{className:"px-4 py-4",children:[j.jsx("div",{className:"mb-4 pb-4 border-b border-slate-100 dark:border-slate-800",children:j.jsxs("a",{href:"#","aria-current":n==="overview"?"page":void 0,className:"nav-link flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 rounded-lg border-transparent",onClick:l=>{l.preventDefault(),i({type:"overview"})},children:[j.jsx("svg",{className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.home})}),"Overview"]})}),s?.contexts.map(l=>j.jsxs("div",{className:"mb-4",children:[j.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:l.name}),j.jsx("ul",{className:"space-y-1",children:l.modules.map(o=>{const h=`module:${l.name}:${o.name}`;return j.jsx("li",{children:j.jsxs("a",{href:"#","aria-current":n===h?"page":void 0,className:"nav-link flex items-center gap-3 px-3 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 rounded-lg border-transparent",onClick:c=>{c.preventDefault(),i({type:"module",context:l.name,module:o.name})},children:[j.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.module})}),o.name]})},o.name)})})]},l.name))]})]})}function FE(){const{view:s}=os(),{refresh:t}=Ui(),{theme:i,setTheme:n}=Pu(),[l,o]=St.useState(!1),h=St.useCallback(async()=>{o(!0);try{await t()}finally{o(!1)}},[t]),c=[{key:"light",title:"Light",icon:Qe.sun},{key:"system",title:"System",icon:Qe.monitor},{key:"dark",title:"Dark",icon:Qe.moon}];return j.jsx("header",{className:"sticky top-0 z-10 border-b border-slate-200 dark:border-slate-800 bg-white/85 dark:bg-slate-900/85 backdrop-blur-lg",children:j.jsxs("div",{className:"flex items-center justify-between px-8 py-4",children:[j.jsx("nav",{className:"flex items-center gap-2 text-sm","aria-label":"Breadcrumb",children:s.type==="overview"?j.jsx("span",{className:"font-medium",children:"Overview"}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:"text-slate-500",children:s.context}),j.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.chevronRight})}),j.jsx("span",{className:"font-medium",children:s.module})]})}),j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("button",{title:"Refresh architecture data",className:"p-2 rounded-lg text-slate-500 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",disabled:l,onClick:h,children:j.jsx("svg",{className:`h-5 w-5 ${l?"spin":""}`,fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.refresh})})}),j.jsx("div",{className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:c.map(p=>j.jsx("button",{"data-theme":p.key,title:p.title,"aria-pressed":i===p.key,className:"theme-btn p-2 rounded-md text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors",onClick:()=>n(p.key),children:j.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:p.icon})})},p.key))})]})]})})}function kE(){const{toastMessage:s,clearToast:t}=Ui(),[i,n]=St.useState(!1),[l,o]=St.useState(null),h=St.useRef({});return St.useEffect(()=>{if(!s)return;o(s);const c=setTimeout(()=>n(!0),10);return h.current=setTimeout(()=>{n(!1),setTimeout(()=>{o(null),t()},300)},3e3),()=>{clearTimeout(c),clearTimeout(h.current)}},[s,t]),l?j.jsxs("div",{className:`toast flex items-center gap-2 px-4 py-3 rounded-xl text-white font-medium shadow-xl ${l.success?"toast-success":"toast-error"} ${i?"show":""}`,children:[j.jsx("svg",{className:"h-4 w-4 shrink-0",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:l.success?j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}):j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),j.jsx("span",{children:l.text})]}):null}function GE(){return j.jsx("div",{className:"spinner"})}const zE={Contexts:Qe.folder,Modules:Qe.module,Commands:cu.find(s=>s.key==="commands").iconPath,Queries:cu.find(s=>s.key==="queries").iconPath,Events:cu.find(s=>s.key==="domainEvents").iconPath},HE={primary:"border-t-primary-500",emerald:"border-t-emerald-500",violet:"border-t-violet-500",amber:"border-t-amber-500",rose:"border-t-rose-500",cyan:"border-t-cyan-500",slate:"border-t-slate-400"};function jE(){const{data:s}=Ui(),t=St.useMemo(()=>{if(!s)return[];const i={Contexts:s.contexts.length,Modules:0,Commands:0,Queries:0,Events:0};return s.contexts.forEach(n=>n.modules.forEach(l=>{i.Modules++,i.Commands+=l.commands?.length??0,i.Queries+=l.queries?.length??0,i.Events+=l.domainEvents?.length??0})),Object.entries(i).map(([n,l])=>({label:n,value:l,color:LE[n]??"primary"}))},[s]);return j.jsx("section",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-14 stagger-in",children:t.map(i=>j.jsxs("div",{className:`bg-white dark:bg-slate-800/60 rounded-xl p-5 border border-slate-200 dark:border-slate-700/60 border-t-[3px] ${HE[i.color]??"border-t-primary-500"}`,children:[j.jsx("div",{className:"flex items-center justify-between mb-3",children:j.jsx("svg",{className:`h-5 w-5 ${bu[i.color]?.icon??""} opacity-70`,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:zE[i.label]??Qe.module})})}),j.jsx("div",{className:`text-3xl font-extrabold tracking-tight ${bu[i.color]?.statValue??""}`,children:i.value}),j.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-0.5",children:i.label})]},i.label))})}function XE(){const{data:s}=Ui(),{navigate:t}=os();return!s||s.contexts.length===0?j.jsxs("section",{children:[j.jsx("h2",{className:"text-xl font-bold mb-6",children:"Bounded Contexts"}),j.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No bounded contexts found."})]}):j.jsxs("section",{children:[j.jsx("h2",{className:"text-xl font-bold mb-6",children:"Bounded Contexts"}),j.jsx("div",{className:"grid md:grid-cols-2 gap-6 stagger-in",children:s.contexts.map(i=>j.jsxs("article",{className:"card bg-white dark:bg-slate-800/60 rounded-xl border border-slate-200 dark:border-slate-700/60 p-6",children:[j.jsxs("header",{className:"flex items-start justify-between mb-4",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/40 dark:to-primary-800/20 text-primary-600 dark:text-primary-400 ring-1 ring-primary-200/50 dark:ring-primary-700/30",children:j.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.folder})})}),j.jsx("h3",{className:"text-lg font-semibold",children:i.name})]}),j.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:[i.modules.length," module",i.modules.length!==1?"s":""]})]}),j.jsx("ul",{className:"space-y-2",children:i.modules.map(n=>j.jsx("li",{children:j.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 hover:text-primary-600 dark:hover:text-primary-400 transition-colors",onClick:l=>{l.preventDefault(),t({type:"module",context:i.name,module:n.name})},children:[j.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.chevronRight})}),n.name,j.jsxs("span",{className:"ml-auto text-xs text-slate-400",children:[(n.commands?.length??0)+(n.queries?.length??0)," ops"]})]})},n.name))})]},i.name))})]})}var us=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(us||{}),F_=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(F_||{}),Df=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(Df||{}),Nt=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(Nt||{}),or=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(or||{}),mt=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(mt||{}),sa=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(sa||{}),Dt=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(Dt||{}),bt=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(bt||{}),Pr=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(Pr||{}),Tn=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(Tn||{}),cr=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(cr||{}),oi=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(oi||{}),lr=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(lr||{}),pp=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(pp||{}),Ni=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(Ni||{}),Ne=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(Ne||{}),Oe=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(Oe||{}),ur=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(ur||{});const VE={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")},Et={ADAPTER:VE,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var ud=/iPhone/i,Ay=/iPod/i,wy=/iPad/i,Cy=/\biOS-universal(?:.+)Mac\b/i,hd=/\bAndroid(?:.+)Mobile\b/i,Ry=/Android/i,Zs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,jo=/Silk/i,Ur=/Windows Phone/i,My=/\bWindows(?:.+)ARM\b/i,Dy=/BlackBerry/i,Oy=/BB10/i,By=/Opera Mini/i,Ny=/\b(CriOS|Chrome)(?:.+)Mobile/i,Iy=/Mobile(?:.+)Firefox\b/i,Uy=function(s){return typeof s<"u"&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&s.maxTouchPoints>1&&typeof MSStream>"u"};function qE(s){return function(t){return t.test(s)}}function Ly(s){var t={userAgent:"",platform:"",maxTouchPoints:0};!s&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof s=="string"?t.userAgent=s:s&&s.userAgent&&(t={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0});var i=t.userAgent,n=i.split("[FBAN");typeof n[1]<"u"&&(i=n[0]),n=i.split("Twitter"),typeof n[1]<"u"&&(i=n[0]);var l=qE(i),o={apple:{phone:l(ud)&&!l(Ur),ipod:l(Ay),tablet:!l(ud)&&(l(wy)||Uy(t))&&!l(Ur),universal:l(Cy),device:(l(ud)||l(Ay)||l(wy)||l(Cy)||Uy(t))&&!l(Ur)},amazon:{phone:l(Zs),tablet:!l(Zs)&&l(jo),device:l(Zs)||l(jo)},android:{phone:!l(Ur)&&l(Zs)||!l(Ur)&&l(hd),tablet:!l(Ur)&&!l(Zs)&&!l(hd)&&(l(jo)||l(Ry)),device:!l(Ur)&&(l(Zs)||l(jo)||l(hd)||l(Ry))||l(/\bokhttp\b/i)},windows:{phone:l(Ur),tablet:l(My),device:l(Ur)||l(My)},other:{blackberry:l(Dy),blackberry10:l(Oy),opera:l(By),firefox:l(Iy),chrome:l(Ny),device:l(Dy)||l(Oy)||l(By)||l(Iy)||l(Ny)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const YE=Ly.default??Ly,Fr=YE(globalThis.navigator);Et.RETINA_PREFIX=/@([0-9\.]+)x/;Et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var cd={exports:{}},Py;function $E(){return Py||(Py=1,(function(s){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function l(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function o(p,m,g,y,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var E=new l(g,y||p,_),x=i?i+m:m;return p._events[x]?p._events[x].fn?p._events[x]=[p._events[x],E]:p._events[x].push(E):(p._events[x]=E,p._eventsCount++),p}function h(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],g,y;if(this._eventsCount===0)return m;for(y in g=this._events)t.call(g,y)&&m.push(i?y.slice(1):y);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},c.prototype.listeners=function(m){var g=i?i+m:m,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,E=y.length,x=new Array(E);_<E;_++)x[_]=y[_].fn;return x},c.prototype.listenerCount=function(m){var g=i?i+m:m,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(m,g,y,_,E,x){var b=i?i+m:m;if(!this._events[b])return!1;var S=this._events[b],I=arguments.length,B,M;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,y),!0;case 4:return S.fn.call(S.context,g,y,_),!0;case 5:return S.fn.call(S.context,g,y,_,E),!0;case 6:return S.fn.call(S.context,g,y,_,E,x),!0}for(M=1,B=new Array(I-1);M<I;M++)B[M-1]=arguments[M];S.fn.apply(S.context,B)}else{var k=S.length,N;for(M=0;M<k;M++)switch(S[M].once&&this.removeListener(m,S[M].fn,void 0,!0),I){case 1:S[M].fn.call(S[M].context);break;case 2:S[M].fn.call(S[M].context,g);break;case 3:S[M].fn.call(S[M].context,g,y);break;case 4:S[M].fn.call(S[M].context,g,y,_);break;default:if(!B)for(N=1,B=new Array(I-1);N<I;N++)B[N-1]=arguments[N];S[M].fn.apply(S[M].context,B)}}return!0},c.prototype.on=function(m,g,y){return o(this,m,g,y,!1)},c.prototype.once=function(m,g,y){return o(this,m,g,y,!0)},c.prototype.removeListener=function(m,g,y,_){var E=i?i+m:m;if(!this._events[E])return this;if(!g)return h(this,E),this;var x=this._events[E];if(x.fn)x.fn===g&&(!_||x.once)&&(!y||x.context===y)&&h(this,E);else{for(var b=0,S=[],I=x.length;b<I;b++)(x[b].fn!==g||_&&!x[b].once||y&&x[b].context!==y)&&S.push(x[b]);S.length?this._events[E]=S.length===1?S[0]:S:h(this,E)}return this},c.prototype.removeAllListeners=function(m){var g;return m?(g=i?i+m:m,this._events[g]&&h(this,g)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,s.exports=c})(cd)),cd.exports}var WE=$E();const wl=I_(WE);var Xo={exports:{}},Fy;function ZE(){if(Fy)return Xo.exports;Fy=1,Xo.exports=s,Xo.exports.default=s;function s(A,D,C){C=C||2;var G=D&&D.length,U=G?D[0]*C:A.length,w=t(A,0,U,C,!0),O=[];if(!w||w.next===w.prev)return O;var L,X,Q,st,ht,dt,ut;if(G&&(w=p(A,D,w,C)),A.length>80*C){L=Q=A[0],X=st=A[1];for(var lt=C;lt<U;lt+=C)ht=A[lt],dt=A[lt+1],ht<L&&(L=ht),dt<X&&(X=dt),ht>Q&&(Q=ht),dt>st&&(st=dt);ut=Math.max(Q-L,st-X),ut=ut!==0?32767/ut:0}return n(w,O,C,L,X,ut,0),O}function t(A,D,C,G,U){var w,O;if(U===ft(A,D,C,G)>0)for(w=D;w<C;w+=G)O=V(w,A[w],A[w+1],O);else for(w=C-G;w>=D;w-=G)O=V(w,A[w],A[w+1],O);return O&&k(O,O.next)&&(W(O),O=O.next),O}function i(A,D){if(!A)return A;D||(D=A);var C=A,G;do if(G=!1,!C.steiner&&(k(C,C.next)||M(C.prev,C,C.next)===0)){if(W(C),C=D=C.prev,C===C.next)break;G=!0}else C=C.next;while(G||C!==D);return D}function n(A,D,C,G,U,w,O){if(A){!O&&w&&E(A,G,U,w);for(var L=A,X,Q;A.prev!==A.next;){if(X=A.prev,Q=A.next,w?o(A,G,U,w):l(A)){D.push(X.i/C|0),D.push(A.i/C|0),D.push(Q.i/C|0),W(A),A=Q.next,L=Q.next;continue}if(A=Q,A===L){O?O===1?(A=h(i(A),D,C),n(A,D,C,G,U,w,2)):O===2&&c(A,D,C,G,U,w):n(i(A),D,C,G,U,w,1);break}}}}function l(A){var D=A.prev,C=A,G=A.next;if(M(D,C,G)>=0)return!1;for(var U=D.x,w=C.x,O=G.x,L=D.y,X=C.y,Q=G.y,st=U<w?U<O?U:O:w<O?w:O,ht=L<X?L<Q?L:Q:X<Q?X:Q,dt=U>w?U>O?U:O:w>O?w:O,ut=L>X?L>Q?L:Q:X>Q?X:Q,lt=G.next;lt!==D;){if(lt.x>=st&&lt.x<=dt&&lt.y>=ht&&lt.y<=ut&&I(U,L,w,X,O,Q,lt.x,lt.y)&&M(lt.prev,lt,lt.next)>=0)return!1;lt=lt.next}return!0}function o(A,D,C,G){var U=A.prev,w=A,O=A.next;if(M(U,w,O)>=0)return!1;for(var L=U.x,X=w.x,Q=O.x,st=U.y,ht=w.y,dt=O.y,ut=L<X?L<Q?L:Q:X<Q?X:Q,lt=st<ht?st<dt?st:dt:ht<dt?ht:dt,gt=L>X?L>Q?L:Q:X>Q?X:Q,yt=st>ht?st>dt?st:dt:ht>dt?ht:dt,xt=b(ut,lt,D,C,G),At=b(gt,yt,D,C,G),vt=A.prevZ,pt=A.nextZ;vt&&vt.z>=xt&&pt&&pt.z<=At;){if(vt.x>=ut&&vt.x<=gt&&vt.y>=lt&&vt.y<=yt&&vt!==U&&vt!==O&&I(L,st,X,ht,Q,dt,vt.x,vt.y)&&M(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,pt.x>=ut&&pt.x<=gt&&pt.y>=lt&&pt.y<=yt&&pt!==U&&pt!==O&&I(L,st,X,ht,Q,dt,pt.x,pt.y)&&M(pt.prev,pt,pt.next)>=0))return!1;pt=pt.nextZ}for(;vt&&vt.z>=xt;){if(vt.x>=ut&&vt.x<=gt&&vt.y>=lt&&vt.y<=yt&&vt!==U&&vt!==O&&I(L,st,X,ht,Q,dt,vt.x,vt.y)&&M(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;pt&&pt.z<=At;){if(pt.x>=ut&&pt.x<=gt&&pt.y>=lt&&pt.y<=yt&&pt!==U&&pt!==O&&I(L,st,X,ht,Q,dt,pt.x,pt.y)&&M(pt.prev,pt,pt.next)>=0)return!1;pt=pt.nextZ}return!0}function h(A,D,C){var G=A;do{var U=G.prev,w=G.next.next;!k(U,w)&&N(U,G,G.next,w)&&q(U,w)&&q(w,U)&&(D.push(U.i/C|0),D.push(G.i/C|0),D.push(w.i/C|0),W(G),W(G.next),G=A=w),G=G.next}while(G!==A);return i(G)}function c(A,D,C,G,U,w){var O=A;do{for(var L=O.next.next;L!==O.prev;){if(O.i!==L.i&&B(O,L)){var X=K(O,L);O=i(O,O.next),X=i(X,X.next),n(O,D,C,G,U,w,0),n(X,D,C,G,U,w,0);return}L=L.next}O=O.next}while(O!==A)}function p(A,D,C,G){var U=[],w,O,L,X,Q;for(w=0,O=D.length;w<O;w++)L=D[w]*G,X=w<O-1?D[w+1]*G:A.length,Q=t(A,L,X,G,!1),Q===Q.next&&(Q.steiner=!0),U.push(S(Q));for(U.sort(m),w=0;w<U.length;w++)C=g(U[w],C);return C}function m(A,D){return A.x-D.x}function g(A,D){var C=y(A,D);if(!C)return D;var G=K(C,A);return i(G,G.next),i(C,C.next)}function y(A,D){var C=D,G=A.x,U=A.y,w=-1/0,O;do{if(U<=C.y&&U>=C.next.y&&C.next.y!==C.y){var L=C.x+(U-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(L<=G&&L>w&&(w=L,O=C.x<C.next.x?C:C.next,L===G))return O}C=C.next}while(C!==D);if(!O)return null;var X=O,Q=O.x,st=O.y,ht=1/0,dt;C=O;do G>=C.x&&C.x>=Q&&G!==C.x&&I(U<st?G:w,U,Q,st,U<st?w:G,U,C.x,C.y)&&(dt=Math.abs(U-C.y)/(G-C.x),q(C,A)&&(dt<ht||dt===ht&&(C.x>O.x||C.x===O.x&&_(O,C)))&&(O=C,ht=dt)),C=C.next;while(C!==X);return O}function _(A,D){return M(A.prev,A,D.prev)<0&&M(D.next,A,A.next)<0}function E(A,D,C,G){var U=A;do U.z===0&&(U.z=b(U.x,U.y,D,C,G)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==A);U.prevZ.nextZ=null,U.prevZ=null,x(U)}function x(A){var D,C,G,U,w,O,L,X,Q=1;do{for(C=A,A=null,w=null,O=0;C;){for(O++,G=C,L=0,D=0;D<Q&&(L++,G=G.nextZ,!!G);D++);for(X=Q;L>0||X>0&&G;)L!==0&&(X===0||!G||C.z<=G.z)?(U=C,C=C.nextZ,L--):(U=G,G=G.nextZ,X--),w?w.nextZ=U:A=U,U.prevZ=w,w=U;C=G}w.nextZ=null,Q*=2}while(O>1);return A}function b(A,D,C,G,U){return A=(A-C)*U|0,D=(D-G)*U|0,A=(A|A<<8)&16711935,A=(A|A<<4)&252645135,A=(A|A<<2)&858993459,A=(A|A<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,A|D<<1}function S(A){var D=A,C=A;do(D.x<C.x||D.x===C.x&&D.y<C.y)&&(C=D),D=D.next;while(D!==A);return C}function I(A,D,C,G,U,w,O,L){return(U-O)*(D-L)>=(A-O)*(w-L)&&(A-O)*(G-L)>=(C-O)*(D-L)&&(C-O)*(w-L)>=(U-O)*(G-L)}function B(A,D){return A.next.i!==D.i&&A.prev.i!==D.i&&!P(A,D)&&(q(A,D)&&q(D,A)&&it(A,D)&&(M(A.prev,A,D.prev)||M(A,D.prev,D))||k(A,D)&&M(A.prev,A,A.next)>0&&M(D.prev,D,D.next)>0)}function M(A,D,C){return(D.y-A.y)*(C.x-D.x)-(D.x-A.x)*(C.y-D.y)}function k(A,D){return A.x===D.x&&A.y===D.y}function N(A,D,C,G){var U=T(M(A,D,C)),w=T(M(A,D,G)),O=T(M(C,G,A)),L=T(M(C,G,D));return!!(U!==w&&O!==L||U===0&&H(A,C,D)||w===0&&H(A,G,D)||O===0&&H(C,A,G)||L===0&&H(C,D,G))}function H(A,D,C){return D.x<=Math.max(A.x,C.x)&&D.x>=Math.min(A.x,C.x)&&D.y<=Math.max(A.y,C.y)&&D.y>=Math.min(A.y,C.y)}function T(A){return A>0?1:A<0?-1:0}function P(A,D){var C=A;do{if(C.i!==A.i&&C.next.i!==A.i&&C.i!==D.i&&C.next.i!==D.i&&N(C,C.next,A,D))return!0;C=C.next}while(C!==A);return!1}function q(A,D){return M(A.prev,A,A.next)<0?M(A,D,A.next)>=0&&M(A,A.prev,D)>=0:M(A,D,A.prev)<0||M(A,A.next,D)<0}function it(A,D){var C=A,G=!1,U=(A.x+D.x)/2,w=(A.y+D.y)/2;do C.y>w!=C.next.y>w&&C.next.y!==C.y&&U<(C.next.x-C.x)*(w-C.y)/(C.next.y-C.y)+C.x&&(G=!G),C=C.next;while(C!==A);return G}function K(A,D){var C=new Y(A.i,A.x,A.y),G=new Y(D.i,D.x,D.y),U=A.next,w=D.prev;return A.next=D,D.prev=A,C.next=U,U.prev=C,G.next=C,C.prev=G,w.next=G,G.prev=w,G}function V(A,D,C,G){var U=new Y(A,D,C);return G?(U.next=G.next,U.prev=G,G.next.prev=U,G.next=U):(U.prev=U,U.next=U),U}function W(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function Y(A,D,C){this.i=A,this.x=D,this.y=C,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(A,D,C,G){var U=D&&D.length,w=U?D[0]*C:A.length,O=Math.abs(ft(A,0,w,C));if(U)for(var L=0,X=D.length;L<X;L++){var Q=D[L]*C,st=L<X-1?D[L+1]*C:A.length;O-=Math.abs(ft(A,Q,st,C))}var ht=0;for(L=0;L<G.length;L+=3){var dt=G[L]*C,ut=G[L+1]*C,lt=G[L+2]*C;ht+=Math.abs((A[dt]-A[lt])*(A[ut+1]-A[dt+1])-(A[dt]-A[ut])*(A[lt+1]-A[dt+1]))}return O===0&&ht===0?0:Math.abs((ht-O)/O)};function ft(A,D,C,G){for(var U=0,w=D,O=C-G;w<C;w+=G)U+=(A[O]-A[w])*(A[w+1]+A[O+1]),O=w;return U}return s.flatten=function(A){for(var D=A[0][0].length,C={vertices:[],holes:[],dimensions:D},G=0,U=0;U<A.length;U++){for(var w=0;w<A[U].length;w++)for(var O=0;O<D;O++)C.vertices.push(A[U][w][O]);U>0&&(G+=A[U-1].length,C.holes.push(G))}return C},Xo.exports}var KE=ZE();const QE=I_(KE);var qn={},gl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var JE=gl.exports,ky;function tT(){return ky||(ky=1,(function(s,t){(function(i){var n=t&&!t.nodeType&&t,l=s&&!s.nodeType&&s,o=typeof xu=="object"&&xu;(o.global===o||o.window===o||o.self===o)&&(i=o);var h,c=2147483647,p=36,m=1,g=26,y=38,_=700,E=72,x=128,b="-",S=/^xn--/,I=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=p-m,N=Math.floor,H=String.fromCharCode,T;function P(U){throw new RangeError(M[U])}function q(U,w){for(var O=U.length,L=[];O--;)L[O]=w(U[O]);return L}function it(U,w){var O=U.split("@"),L="";O.length>1&&(L=O[0]+"@",U=O[1]),U=U.replace(B,".");var X=U.split("."),Q=q(X,w).join(".");return L+Q}function K(U){for(var w=[],O=0,L=U.length,X,Q;O<L;)X=U.charCodeAt(O++),X>=55296&&X<=56319&&O<L?(Q=U.charCodeAt(O++),(Q&64512)==56320?w.push(((X&1023)<<10)+(Q&1023)+65536):(w.push(X),O--)):w.push(X);return w}function V(U){return q(U,function(w){var O="";return w>65535&&(w-=65536,O+=H(w>>>10&1023|55296),w=56320|w&1023),O+=H(w),O}).join("")}function W(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:p}function Y(U,w){return U+22+75*(U<26)-((w!=0)<<5)}function ft(U,w,O){var L=0;for(U=O?N(U/_):U>>1,U+=N(U/w);U>k*g>>1;L+=p)U=N(U/k);return N(L+(k+1)*U/(U+y))}function A(U){var w=[],O=U.length,L,X=0,Q=x,st=E,ht,dt,ut,lt,gt,yt,xt,At,vt;for(ht=U.lastIndexOf(b),ht<0&&(ht=0),dt=0;dt<ht;++dt)U.charCodeAt(dt)>=128&&P("not-basic"),w.push(U.charCodeAt(dt));for(ut=ht>0?ht+1:0;ut<O;){for(lt=X,gt=1,yt=p;ut>=O&&P("invalid-input"),xt=W(U.charCodeAt(ut++)),(xt>=p||xt>N((c-X)/gt))&&P("overflow"),X+=xt*gt,At=yt<=st?m:yt>=st+g?g:yt-st,!(xt<At);yt+=p)vt=p-At,gt>N(c/vt)&&P("overflow"),gt*=vt;L=w.length+1,st=ft(X-lt,L,lt==0),N(X/L)>c-Q&&P("overflow"),Q+=N(X/L),X%=L,w.splice(X++,0,Q)}return V(w)}function D(U){var w,O,L,X,Q,st,ht,dt,ut,lt,gt,yt=[],xt,At,vt,pt;for(U=K(U),xt=U.length,w=x,O=0,Q=E,st=0;st<xt;++st)gt=U[st],gt<128&&yt.push(H(gt));for(L=X=yt.length,X&&yt.push(b);L<xt;){for(ht=c,st=0;st<xt;++st)gt=U[st],gt>=w&&gt<ht&&(ht=gt);for(At=L+1,ht-w>N((c-O)/At)&&P("overflow"),O+=(ht-w)*At,w=ht,st=0;st<xt;++st)if(gt=U[st],gt<w&&++O>c&&P("overflow"),gt==w){for(dt=O,ut=p;lt=ut<=Q?m:ut>=Q+g?g:ut-Q,!(dt<lt);ut+=p)pt=dt-lt,vt=p-lt,yt.push(H(Y(lt+pt%vt,0))),dt=N(pt/vt);yt.push(H(Y(dt,0))),Q=ft(O,At,L==X),O=0,++L}++O,++w}return yt.join("")}function C(U){return it(U,function(w){return S.test(w)?A(w.slice(4).toLowerCase()):w})}function G(U){return it(U,function(w){return I.test(w)?"xn--"+D(w):w})}if(h={version:"1.4.1",ucs2:{decode:K,encode:V},decode:A,encode:D,toASCII:G,toUnicode:C},n&&l)if(s.exports==n)l.exports=h;else for(T in h)h.hasOwnProperty(T)&&(n[T]=h[T]);else i.punycode=h})(JE)})(gl,gl.exports)),gl.exports}var dd,Gy;function da(){return Gy||(Gy=1,dd=TypeError),dd}const eT={},iT=Object.freeze(Object.defineProperty({__proto__:null,default:eT},Symbol.toStringTag,{value:"Module"})),rT=EE(iT);var fd,zy;function Fu(){if(zy)return fd;zy=1;var s=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=s&&t&&typeof t.get=="function"?t.get:null,n=s&&Map.prototype.forEach,l=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=l&&o&&typeof o.get=="function"?o.get:null,c=l&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,m=p?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,_=typeof WeakRef=="function"&&WeakRef.prototype,E=_?WeakRef.prototype.deref:null,x=Boolean.prototype.valueOf,b=Object.prototype.toString,S=Function.prototype.toString,I=String.prototype.match,B=String.prototype.slice,M=String.prototype.replace,k=String.prototype.toUpperCase,N=String.prototype.toLowerCase,H=RegExp.prototype.test,T=Array.prototype.concat,P=Array.prototype.join,q=Array.prototype.slice,it=Math.floor,K=typeof BigInt=="function"?BigInt.prototype.valueOf:null,V=Object.getOwnPropertySymbols,W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ft=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Y||!0)?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,D=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Z){return Z.__proto__}:null);function C(Z,rt){if(Z===1/0||Z===-1/0||Z!==Z||Z&&Z>-1e3&&Z<1e3||H.call(/e/,rt))return rt;var Qt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Z=="number"){var ae=Z<0?-it(-Z):it(Z);if(ae!==Z){var ie=String(ae),Ut=B.call(rt,ie.length+1);return M.call(ie,Qt,"$&_")+"."+M.call(M.call(Ut,/([0-9]{3})/g,"$&_"),/_$/,"")}}return M.call(rt,Qt,"$&_")}var G=rT,U=G.custom,w=At(U)?U:null,O={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};fd=function Z(rt,Qt,ae,ie){var Ut=Qt||{};if(It(Ut,"quoteStyle")&&!It(O,Ut.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(It(Ut,"maxStringLength")&&(typeof Ut.maxStringLength=="number"?Ut.maxStringLength<0&&Ut.maxStringLength!==1/0:Ut.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ci=It(Ut,"customInspect")?Ut.customInspect:!0;if(typeof ci!="boolean"&&ci!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(It(Ut,"indent")&&Ut.indent!==null&&Ut.indent!=="	"&&!(parseInt(Ut.indent,10)===Ut.indent&&Ut.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(It(Ut,"numericSeparator")&&typeof Ut.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var We=Ut.numericSeparator;if(typeof rt>"u")return"undefined";if(rt===null)return"null";if(typeof rt=="boolean")return rt?"true":"false";if(typeof rt=="string")return bi(rt,Ut);if(typeof rt=="number"){if(rt===0)return 1/0/rt>0?"0":"-0";var Ie=String(rt);return We?C(rt,Ie):Ie}if(typeof rt=="bigint"){var ei=String(rt)+"n";return We?C(rt,ei):ei}var ma=typeof Ut.depth>"u"?5:Ut.depth;if(typeof ae>"u"&&(ae=0),ae>=ma&&ma>0&&typeof rt=="object")return ht(rt)?"[Array]":"[Object]";var pr=Cn(Ut,ae);if(typeof ie>"u")ie=[];else if(ge(ie,rt)>=0)return"[Circular]";function Ze(mr,Ki,_a){if(Ki&&(ie=q.call(ie),ie.push(Ki)),_a){var gr={depth:Ut.depth};return It(Ut,"quoteStyle")&&(gr.quoteStyle=Ut.quoteStyle),Z(mr,gr,ae+1,ie)}return Z(mr,Ut,ae+1,ie)}if(typeof rt=="function"&&!ut(rt)){var jr=we(rt),Ml=hi(rt,Ze);return"[Function"+(jr?": "+jr:" (anonymous)")+"]"+(Ml.length>0?" { "+P.call(Ml,", ")+" }":"")}if(At(rt)){var ga=Y?M.call(String(rt),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(rt);return typeof rt=="object"&&!Y?ke(ga):ga}if(fr(rt)){for(var Xr="<"+N.call(String(rt.nodeName)),cs=rt.attributes||[],Vr=0;Vr<cs.length;Vr++)Xr+=" "+cs[Vr].name+"="+X(Q(cs[Vr].value),"double",Ut);return Xr+=">",rt.childNodes&&rt.childNodes.length&&(Xr+="..."),Xr+="</"+N.call(String(rt.nodeName))+">",Xr}if(ht(rt)){if(rt.length===0)return"[]";var Rn=hi(rt,Ze);return pr&&!$u(Rn)?"["+Ge(Rn,pr)+"]":"[ "+P.call(Rn,", ")+" ]"}if(lt(rt)){var ds=hi(rt,Ze);return!("cause"in Error.prototype)&&"cause"in rt&&!A.call(rt,"cause")?"{ ["+String(rt)+"] "+P.call(T.call("[cause]: "+Ze(rt.cause),ds),", ")+" }":ds.length===0?"["+String(rt)+"]":"{ ["+String(rt)+"] "+P.call(ds,", ")+" }"}if(typeof rt=="object"&&ci){if(w&&typeof rt[w]=="function"&&G)return G(rt,{depth:ma-ae});if(ci!=="symbol"&&typeof rt.inspect=="function")return rt.inspect()}if(zt(rt)){var ya=[];return n&&n.call(rt,function(mr,Ki){ya.push(Ze(Ki,rt,!0)+" => "+Ze(mr,rt))}),he("Map",i.call(rt),ya,pr)}if(jt(rt)){var Li=[];return c&&c.call(rt,function(mr){Li.push(Ze(mr,rt))}),he("Set",h.call(rt),Li,pr)}if(Yt(rt))return ui("WeakMap");if(Wi(rt))return ui("WeakSet");if(se(rt))return ui("WeakRef");if(yt(rt))return ke(Ze(Number(rt)));if(vt(rt))return ke(Ze(K.call(rt)));if(xt(rt))return ke(x.call(rt));if(gt(rt))return ke(Ze(String(rt)));if(typeof window<"u"&&rt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&rt===globalThis||typeof xu<"u"&&rt===xu)return"{ [object globalThis] }";if(!dt(rt)&&!ut(rt)){var Ee=hi(rt,Ze),ze=D?D(rt)===Object.prototype:rt instanceof Object||rt.constructor===Object,Zi=rt instanceof Object?"":"null prototype",fs=!ze&&ft&&Object(rt)===rt&&ft in rt?B.call(Ht(rt),8,-1):Zi?"Object":"",Wu=ze||typeof rt.constructor!="function"?"":rt.constructor.name?rt.constructor.name+" ":"",va=Wu+(fs||Zi?"["+P.call(T.call([],fs||[],Zi||[]),": ")+"] ":"");return Ee.length===0?va+"{}":pr?va+"{"+Ge(Ee,pr)+"}":va+"{ "+P.call(Ee,", ")+" }"}return String(rt)};function X(Z,rt,Qt){var ae=Qt.quoteStyle||rt,ie=O[ae];return ie+Z+ie}function Q(Z){return M.call(String(Z),/"/g,"&quot;")}function st(Z){return!ft||!(typeof Z=="object"&&(ft in Z||typeof Z[ft]<"u"))}function ht(Z){return Ht(Z)==="[object Array]"&&st(Z)}function dt(Z){return Ht(Z)==="[object Date]"&&st(Z)}function ut(Z){return Ht(Z)==="[object RegExp]"&&st(Z)}function lt(Z){return Ht(Z)==="[object Error]"&&st(Z)}function gt(Z){return Ht(Z)==="[object String]"&&st(Z)}function yt(Z){return Ht(Z)==="[object Number]"&&st(Z)}function xt(Z){return Ht(Z)==="[object Boolean]"&&st(Z)}function At(Z){if(Y)return Z&&typeof Z=="object"&&Z instanceof Symbol;if(typeof Z=="symbol")return!0;if(!Z||typeof Z!="object"||!W)return!1;try{return W.call(Z),!0}catch{}return!1}function vt(Z){if(!Z||typeof Z!="object"||!K)return!1;try{return K.call(Z),!0}catch{}return!1}var pt=Object.prototype.hasOwnProperty||function(Z){return Z in this};function It(Z,rt){return pt.call(Z,rt)}function Ht(Z){return b.call(Z)}function we(Z){if(Z.name)return Z.name;var rt=I.call(S.call(Z),/^function\s*([\w$]+)/);return rt?rt[1]:null}function ge(Z,rt){if(Z.indexOf)return Z.indexOf(rt);for(var Qt=0,ae=Z.length;Qt<ae;Qt++)if(Z[Qt]===rt)return Qt;return-1}function zt(Z){if(!i||!Z||typeof Z!="object")return!1;try{i.call(Z);try{h.call(Z)}catch{return!0}return Z instanceof Map}catch{}return!1}function Yt(Z){if(!m||!Z||typeof Z!="object")return!1;try{m.call(Z,m);try{y.call(Z,y)}catch{return!0}return Z instanceof WeakMap}catch{}return!1}function se(Z){if(!E||!Z||typeof Z!="object")return!1;try{return E.call(Z),!0}catch{}return!1}function jt(Z){if(!h||!Z||typeof Z!="object")return!1;try{h.call(Z);try{i.call(Z)}catch{return!0}return Z instanceof Set}catch{}return!1}function Wi(Z){if(!y||!Z||typeof Z!="object")return!1;try{y.call(Z,y);try{m.call(Z,m)}catch{return!0}return Z instanceof WeakSet}catch{}return!1}function fr(Z){return!Z||typeof Z!="object"?!1:typeof HTMLElement<"u"&&Z instanceof HTMLElement?!0:typeof Z.nodeName=="string"&&typeof Z.getAttribute=="function"}function bi(Z,rt){if(Z.length>rt.maxStringLength){var Qt=Z.length-rt.maxStringLength,ae="... "+Qt+" more character"+(Qt>1?"s":"");return bi(B.call(Z,0,rt.maxStringLength),rt)+ae}var ie=L[rt.quoteStyle||"single"];ie.lastIndex=0;var Ut=M.call(M.call(Z,ie,"\\$1"),/[\x00-\x1f]/g,ti);return X(Ut,"single",rt)}function ti(Z){var rt=Z.charCodeAt(0),Qt={8:"b",9:"t",10:"n",12:"f",13:"r"}[rt];return Qt?"\\"+Qt:"\\x"+(rt<16?"0":"")+k.call(rt.toString(16))}function ke(Z){return"Object("+Z+")"}function ui(Z){return Z+" { ? }"}function he(Z,rt,Qt,ae){var ie=ae?Ge(Qt,ae):P.call(Qt,", ");return Z+" ("+rt+") {"+ie+"}"}function $u(Z){for(var rt=0;rt<Z.length;rt++)if(ge(Z[rt],`
`)>=0)return!1;return!0}function Cn(Z,rt){var Qt;if(Z.indent==="	")Qt="	";else if(typeof Z.indent=="number"&&Z.indent>0)Qt=P.call(Array(Z.indent+1)," ");else return null;return{base:Qt,prev:P.call(Array(rt+1),Qt)}}function Ge(Z,rt){if(Z.length===0)return"";var Qt=`
`+rt.prev+rt.base;return Qt+P.call(Z,","+Qt)+`
`+rt.prev}function hi(Z,rt){var Qt=ht(Z),ae=[];if(Qt){ae.length=Z.length;for(var ie=0;ie<Z.length;ie++)ae[ie]=It(Z,ie)?rt(Z[ie],Z):""}var Ut=typeof V=="function"?V(Z):[],ci;if(Y){ci={};for(var We=0;We<Ut.length;We++)ci["$"+Ut[We]]=Ut[We]}for(var Ie in Z)It(Z,Ie)&&(Qt&&String(Number(Ie))===Ie&&Ie<Z.length||Y&&ci["$"+Ie]instanceof Symbol||(H.call(/[^\w$]/,Ie)?ae.push(rt(Ie,Z)+": "+rt(Z[Ie],Z)):ae.push(Ie+": "+rt(Z[Ie],Z))));if(typeof V=="function")for(var ei=0;ei<Ut.length;ei++)A.call(Z,Ut[ei])&&ae.push("["+rt(Ut[ei])+"]: "+rt(Z[Ut[ei]],Z));return ae}return fd}var pd,Hy;function nT(){if(Hy)return pd;Hy=1;var s=Fu(),t=da(),i=function(c,p,m){for(var g=c,y;(y=g.next)!=null;g=y)if(y.key===p)return g.next=y.next,m||(y.next=c.next,c.next=y),y},n=function(c,p){if(c){var m=i(c,p);return m&&m.value}},l=function(c,p,m){var g=i(c,p);g?g.value=m:c.next={key:p,next:c.next,value:m}},o=function(c,p){return c?!!i(c,p):!1},h=function(c,p){if(c)return i(c,p,!0)};return pd=function(){var p,m={assert:function(g){if(!m.has(g))throw new t("Side channel does not contain "+s(g))},delete:function(g){var y=p&&p.next,_=h(p,g);return _&&y&&y===_&&(p=void 0),!!_},get:function(g){return n(p,g)},has:function(g){return o(p,g)},set:function(g,y){p||(p={next:void 0}),l(p,g,y)}};return m},pd}var md,jy;function k_(){return jy||(jy=1,md=Object),md}var gd,Xy;function sT(){return Xy||(Xy=1,gd=Error),gd}var yd,Vy;function aT(){return Vy||(Vy=1,yd=EvalError),yd}var vd,qy;function lT(){return qy||(qy=1,vd=RangeError),vd}var _d,Yy;function oT(){return Yy||(Yy=1,_d=ReferenceError),_d}var xd,$y;function uT(){return $y||($y=1,xd=SyntaxError),xd}var bd,Wy;function hT(){return Wy||(Wy=1,bd=URIError),bd}var Ed,Zy;function cT(){return Zy||(Zy=1,Ed=Math.abs),Ed}var Td,Ky;function dT(){return Ky||(Ky=1,Td=Math.floor),Td}var Sd,Qy;function fT(){return Qy||(Qy=1,Sd=Math.max),Sd}var Ad,Jy;function pT(){return Jy||(Jy=1,Ad=Math.min),Ad}var wd,tv;function mT(){return tv||(tv=1,wd=Math.pow),wd}var Cd,ev;function gT(){return ev||(ev=1,Cd=Math.round),Cd}var Rd,iv;function yT(){return iv||(iv=1,Rd=Number.isNaN||function(t){return t!==t}),Rd}var Md,rv;function vT(){if(rv)return Md;rv=1;var s=yT();return Md=function(i){return s(i)||i===0?i:i<0?-1:1},Md}var Dd,nv;function _T(){return nv||(nv=1,Dd=Object.getOwnPropertyDescriptor),Dd}var Od,sv;function G_(){if(sv)return Od;sv=1;var s=_T();if(s)try{s([],"length")}catch{s=null}return Od=s,Od}var Bd,av;function xT(){if(av)return Bd;av=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Bd=s,Bd}var Nd,lv;function bT(){return lv||(lv=1,Nd=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},i=Symbol("test"),n=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var l=42;t[i]=l;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==i||!Object.prototype.propertyIsEnumerable.call(t,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,i);if(c.value!==l||c.enumerable!==!0)return!1}return!0}),Nd}var Id,ov;function ET(){if(ov)return Id;ov=1;var s=typeof Symbol<"u"&&Symbol,t=bT();return Id=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Id}var Ud,uv;function z_(){return uv||(uv=1,Ud=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ud}var Ld,hv;function H_(){if(hv)return Ld;hv=1;var s=k_();return Ld=s.getPrototypeOf||null,Ld}var Pd,cv;function TT(){if(cv)return Pd;cv=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,i=Math.max,n="[object Function]",l=function(p,m){for(var g=[],y=0;y<p.length;y+=1)g[y]=p[y];for(var _=0;_<m.length;_+=1)g[_+p.length]=m[_];return g},o=function(p,m){for(var g=[],y=m,_=0;y<p.length;y+=1,_+=1)g[_]=p[y];return g},h=function(c,p){for(var m="",g=0;g<c.length;g+=1)m+=c[g],g+1<c.length&&(m+=p);return m};return Pd=function(p){var m=this;if(typeof m!="function"||t.apply(m)!==n)throw new TypeError(s+m);for(var g=o(arguments,1),y,_=function(){if(this instanceof y){var I=m.apply(this,l(g,arguments));return Object(I)===I?I:this}return m.apply(p,l(g,arguments))},E=i(0,m.length-g.length),x=[],b=0;b<E;b++)x[b]="$"+b;if(y=Function("binder","return function ("+h(x,",")+"){ return binder.apply(this,arguments); }")(_),m.prototype){var S=function(){};S.prototype=m.prototype,y.prototype=new S,S.prototype=null}return y},Pd}var Fd,dv;function ku(){if(dv)return Fd;dv=1;var s=TT();return Fd=Function.prototype.bind||s,Fd}var kd,fv;function mp(){return fv||(fv=1,kd=Function.prototype.call),kd}var Gd,pv;function j_(){return pv||(pv=1,Gd=Function.prototype.apply),Gd}var zd,mv;function ST(){return mv||(mv=1,zd=typeof Reflect<"u"&&Reflect&&Reflect.apply),zd}var Hd,gv;function AT(){if(gv)return Hd;gv=1;var s=ku(),t=j_(),i=mp(),n=ST();return Hd=n||s.call(i,t),Hd}var jd,yv;function X_(){if(yv)return jd;yv=1;var s=ku(),t=da(),i=mp(),n=AT();return jd=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return n(s,i,o)},jd}var Xd,vv;function wT(){if(vv)return Xd;vv=1;var s=X_(),t=G_(),i;try{i=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var n=!!i&&t&&t(Object.prototype,"__proto__"),l=Object,o=l.getPrototypeOf;return Xd=n&&typeof n.get=="function"?s([n.get]):typeof o=="function"?function(c){return o(c==null?c:l(c))}:!1,Xd}var Vd,_v;function CT(){if(_v)return Vd;_v=1;var s=z_(),t=H_(),i=wT();return Vd=s?function(l){return s(l)}:t?function(l){if(!l||typeof l!="object"&&typeof l!="function")throw new TypeError("getProto: not an object");return t(l)}:i?function(l){return i(l)}:null,Vd}var qd,xv;function RT(){if(xv)return qd;xv=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,i=ku();return qd=i.call(s,t),qd}var Yd,bv;function gp(){if(bv)return Yd;bv=1;var s,t=k_(),i=sT(),n=aT(),l=lT(),o=oT(),h=uT(),c=da(),p=hT(),m=cT(),g=dT(),y=fT(),_=pT(),E=mT(),x=gT(),b=vT(),S=Function,I=function(ut){try{return S('"use strict"; return ('+ut+").constructor;")()}catch{}},B=G_(),M=xT(),k=function(){throw new c},N=B?(function(){try{return arguments.callee,k}catch{try{return B(arguments,"callee").get}catch{return k}}})():k,H=ET()(),T=CT(),P=H_(),q=z_(),it=j_(),K=mp(),V={},W=typeof Uint8Array>"u"||!T?s:T(Uint8Array),Y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":H&&T?T([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&T?T(T([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!T?s:T(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":B,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":l,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!T?s:T(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&T?T(""[Symbol.iterator]()):s,"%Symbol%":H?Symbol:s,"%SyntaxError%":h,"%ThrowTypeError%":N,"%TypedArray%":W,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":K,"%Function.prototype.apply%":it,"%Object.defineProperty%":M,"%Object.getPrototypeOf%":P,"%Math.abs%":m,"%Math.floor%":g,"%Math.max%":y,"%Math.min%":_,"%Math.pow%":E,"%Math.round%":x,"%Math.sign%":b,"%Reflect.getPrototypeOf%":q};if(T)try{null.error}catch(ut){var ft=T(T(ut));Y["%Error.prototype%"]=ft}var A=function ut(lt){var gt;if(lt==="%AsyncFunction%")gt=I("async function () {}");else if(lt==="%GeneratorFunction%")gt=I("function* () {}");else if(lt==="%AsyncGeneratorFunction%")gt=I("async function* () {}");else if(lt==="%AsyncGenerator%"){var yt=ut("%AsyncGeneratorFunction%");yt&&(gt=yt.prototype)}else if(lt==="%AsyncIteratorPrototype%"){var xt=ut("%AsyncGenerator%");xt&&T&&(gt=T(xt.prototype))}return Y[lt]=gt,gt},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=ku(),G=RT(),U=C.call(K,Array.prototype.concat),w=C.call(it,Array.prototype.splice),O=C.call(K,String.prototype.replace),L=C.call(K,String.prototype.slice),X=C.call(K,RegExp.prototype.exec),Q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,st=/\\(\\)?/g,ht=function(lt){var gt=L(lt,0,1),yt=L(lt,-1);if(gt==="%"&&yt!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(yt==="%"&&gt!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var xt=[];return O(lt,Q,function(At,vt,pt,It){xt[xt.length]=pt?O(It,st,"$1"):vt||At}),xt},dt=function(lt,gt){var yt=lt,xt;if(G(D,yt)&&(xt=D[yt],yt="%"+xt[0]+"%"),G(Y,yt)){var At=Y[yt];if(At===V&&(At=A(yt)),typeof At>"u"&&!gt)throw new c("intrinsic "+lt+" exists, but is not available. Please file an issue!");return{alias:xt,name:yt,value:At}}throw new h("intrinsic "+lt+" does not exist!")};return Yd=function(lt,gt){if(typeof lt!="string"||lt.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(X(/^%?[^%]*%?$/,lt)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var yt=ht(lt),xt=yt.length>0?yt[0]:"",At=dt("%"+xt+"%",gt),vt=At.name,pt=At.value,It=!1,Ht=At.alias;Ht&&(xt=Ht[0],w(yt,U([0,1],Ht)));for(var we=1,ge=!0;we<yt.length;we+=1){var zt=yt[we],Yt=L(zt,0,1),se=L(zt,-1);if((Yt==='"'||Yt==="'"||Yt==="`"||se==='"'||se==="'"||se==="`")&&Yt!==se)throw new h("property names with quotes must have matching quotes");if((zt==="constructor"||!ge)&&(It=!0),xt+="."+zt,vt="%"+xt+"%",G(Y,vt))pt=Y[vt];else if(pt!=null){if(!(zt in pt)){if(!gt)throw new c("base intrinsic for "+lt+" exists, but the property is not available.");return}if(B&&we+1>=yt.length){var jt=B(pt,zt);ge=!!jt,ge&&"get"in jt&&!("originalValue"in jt.get)?pt=jt.get:pt=pt[zt]}else ge=G(pt,zt),pt=pt[zt];ge&&!It&&(Y[vt]=pt)}}return pt},Yd}var $d,Ev;function V_(){if(Ev)return $d;Ev=1;var s=gp(),t=X_(),i=t([s("%String.prototype.indexOf%")]);return $d=function(l,o){var h=s(l,!!o);return typeof h=="function"&&i(l,".prototype.")>-1?t([h]):h},$d}var Wd,Tv;function q_(){if(Tv)return Wd;Tv=1;var s=gp(),t=V_(),i=Fu(),n=da(),l=s("%Map%",!0),o=t("Map.prototype.get",!0),h=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),p=t("Map.prototype.delete",!0),m=t("Map.prototype.size",!0);return Wd=!!l&&function(){var y,_={assert:function(E){if(!_.has(E))throw new n("Side channel does not contain "+i(E))},delete:function(E){if(y){var x=p(y,E);return m(y)===0&&(y=void 0),x}return!1},get:function(E){if(y)return o(y,E)},has:function(E){return y?c(y,E):!1},set:function(E,x){y||(y=new l),h(y,E,x)}};return _},Wd}var Zd,Sv;function MT(){if(Sv)return Zd;Sv=1;var s=gp(),t=V_(),i=Fu(),n=q_(),l=da(),o=s("%WeakMap%",!0),h=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),p=t("WeakMap.prototype.has",!0),m=t("WeakMap.prototype.delete",!0);return Zd=o?function(){var y,_,E={assert:function(x){if(!E.has(x))throw new l("Side channel does not contain "+i(x))},delete:function(x){if(o&&x&&(typeof x=="object"||typeof x=="function")){if(y)return m(y,x)}else if(n&&_)return _.delete(x);return!1},get:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&y?h(y,x):_&&_.get(x)},has:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&y?p(y,x):!!_&&_.has(x)},set:function(x,b){o&&x&&(typeof x=="object"||typeof x=="function")?(y||(y=new o),c(y,x,b)):n&&(_||(_=n()),_.set(x,b))}};return E}:n,Zd}var Kd,Av;function Y_(){if(Av)return Kd;Av=1;var s=da(),t=Fu(),i=nT(),n=q_(),l=MT(),o=l||n||i;return Kd=function(){var c,p={assert:function(m){if(!p.has(m))throw new s("Side channel does not contain "+t(m))},delete:function(m){return!!c&&c.delete(m)},get:function(m){return c&&c.get(m)},has:function(m){return!!c&&c.has(m)},set:function(m,g){c||(c=o()),c.set(m,g)}};return p},Kd}var Qd,wv;function yp(){if(wv)return Qd;wv=1;var s=String.prototype.replace,t=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Qd={default:i.RFC3986,formatters:{RFC1738:function(n){return s.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986},Qd}var Jd,Cv;function $_(){if(Cv)return Jd;Cv=1;var s=yp(),t=Y_(),i=Object.prototype.hasOwnProperty,n=Array.isArray,l=t(),o=function(T,P){return l.set(T,P),T},h=function(T){return l.has(T)},c=function(T){return l.get(T)},p=function(T,P){l.set(T,P)},m=(function(){for(var H=[],T=0;T<256;++T)H[H.length]="%"+((T<16?"0":"")+T.toString(16)).toUpperCase();return H})(),g=function(T){for(;T.length>1;){var P=T.pop(),q=P.obj[P.prop];if(n(q)){for(var it=[],K=0;K<q.length;++K)typeof q[K]<"u"&&(it[it.length]=q[K]);P.obj[P.prop]=it}}},y=function(T,P){for(var q=P&&P.plainObjects?{__proto__:null}:{},it=0;it<T.length;++it)typeof T[it]<"u"&&(q[it]=T[it]);return q},_=function H(T,P,q){if(!P)return T;if(typeof P!="object"&&typeof P!="function"){if(n(T)){var it=T.length;if(q&&typeof q.arrayLimit=="number"&&it>q.arrayLimit)return o(y(T.concat(P),q),it);T[it]=P}else if(T&&typeof T=="object")if(h(T)){var K=c(T)+1;T[K]=P,p(T,K)}else{if(q&&q.strictMerge)return[T,P];(q&&(q.plainObjects||q.allowPrototypes)||!i.call(Object.prototype,P))&&(T[P]=!0)}else return[T,P];return T}if(!T||typeof T!="object"){if(h(P)){for(var V=Object.keys(P),W=q&&q.plainObjects?{__proto__:null,0:T}:{0:T},Y=0;Y<V.length;Y++){var ft=parseInt(V[Y],10);W[ft+1]=P[V[Y]]}return o(W,c(P)+1)}var A=[T].concat(P);return q&&typeof q.arrayLimit=="number"&&A.length>q.arrayLimit?o(y(A,q),A.length-1):A}var D=T;return n(T)&&!n(P)&&(D=y(T,q)),n(T)&&n(P)?(P.forEach(function(C,G){if(i.call(T,G)){var U=T[G];U&&typeof U=="object"&&C&&typeof C=="object"?T[G]=H(U,C,q):T[T.length]=C}else T[G]=C}),T):Object.keys(P).reduce(function(C,G){var U=P[G];if(i.call(C,G)?C[G]=H(C[G],U,q):C[G]=U,h(P)&&!h(C)&&o(C,c(P)),h(C)){var w=parseInt(G,10);String(w)===G&&w>=0&&w>c(C)&&p(C,w)}return C},D)},E=function(T,P){return Object.keys(P).reduce(function(q,it){return q[it]=P[it],q},T)},x=function(H,T,P){var q=H.replace(/\+/g," ");if(P==="iso-8859-1")return q.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(q)}catch{return q}},b=1024,S=function(T,P,q,it,K){if(T.length===0)return T;var V=T;if(typeof T=="symbol"?V=Symbol.prototype.toString.call(T):typeof T!="string"&&(V=String(T)),q==="iso-8859-1")return escape(V).replace(/%u[0-9a-f]{4}/gi,function(G){return"%26%23"+parseInt(G.slice(2),16)+"%3B"});for(var W="",Y=0;Y<V.length;Y+=b){for(var ft=V.length>=b?V.slice(Y,Y+b):V,A=[],D=0;D<ft.length;++D){var C=ft.charCodeAt(D);if(C===45||C===46||C===95||C===126||C>=48&&C<=57||C>=65&&C<=90||C>=97&&C<=122||K===s.RFC1738&&(C===40||C===41)){A[A.length]=ft.charAt(D);continue}if(C<128){A[A.length]=m[C];continue}if(C<2048){A[A.length]=m[192|C>>6]+m[128|C&63];continue}if(C<55296||C>=57344){A[A.length]=m[224|C>>12]+m[128|C>>6&63]+m[128|C&63];continue}D+=1,C=65536+((C&1023)<<10|ft.charCodeAt(D)&1023),A[A.length]=m[240|C>>18]+m[128|C>>12&63]+m[128|C>>6&63]+m[128|C&63]}W+=A.join("")}return W},I=function(T){for(var P=[{obj:{o:T},prop:"o"}],q=[],it=0;it<P.length;++it)for(var K=P[it],V=K.obj[K.prop],W=Object.keys(V),Y=0;Y<W.length;++Y){var ft=W[Y],A=V[ft];typeof A=="object"&&A!==null&&q.indexOf(A)===-1&&(P[P.length]={obj:V,prop:ft},q[q.length]=A)}return g(P),T},B=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},M=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},k=function(T,P,q,it){if(h(T)){var K=c(T)+1;return T[K]=P,p(T,K),T}var V=[].concat(T,P);return V.length>q?o(y(V,{plainObjects:it}),V.length-1):V},N=function(T,P){if(n(T)){for(var q=[],it=0;it<T.length;it+=1)q[q.length]=P(T[it]);return q}return P(T)};return Jd={arrayToObject:y,assign:E,combine:k,compact:I,decode:x,encode:S,isBuffer:M,isOverflow:h,isRegExp:B,markOverflow:o,maybeMap:N,merge:_},Jd}var tf,Rv;function DT(){if(Rv)return tf;Rv=1;var s=Y_(),t=$_(),i=yp(),n=Object.prototype.hasOwnProperty,l={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,I){return S+"["+I+"]"},repeat:function(S){return S}},o=Array.isArray,h=Array.prototype.push,c=function(b,S){h.apply(b,o(S)?S:[S])},p=Date.prototype.toISOString,m=i.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:m,formatter:i.formatters[m],indices:!1,serializeDate:function(S){return p.call(S)},skipNulls:!1,strictNullHandling:!1},y=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},_={},E=function b(S,I,B,M,k,N,H,T,P,q,it,K,V,W,Y,ft,A,D){for(var C=S,G=D,U=0,w=!1;(G=G.get(_))!==void 0&&!w;){var O=G.get(S);if(U+=1,typeof O<"u"){if(O===U)throw new RangeError("Cyclic object value");w=!0}typeof G.get(_)>"u"&&(U=0)}if(typeof q=="function"?C=q(I,C):C instanceof Date?C=V(C):B==="comma"&&o(C)&&(C=t.maybeMap(C,function(vt){return vt instanceof Date?V(vt):vt})),C===null){if(N)return P&&!ft?P(I,g.encoder,A,"key",W):I;C=""}if(y(C)||t.isBuffer(C)){if(P){var L=ft?I:P(I,g.encoder,A,"key",W);return[Y(L)+"="+Y(P(C,g.encoder,A,"value",W))]}return[Y(I)+"="+Y(String(C))]}var X=[];if(typeof C>"u")return X;var Q;if(B==="comma"&&o(C))ft&&P&&(C=t.maybeMap(C,P)),Q=[{value:C.length>0?C.join(",")||null:void 0}];else if(o(q))Q=q;else{var st=Object.keys(C);Q=it?st.sort(it):st}var ht=T?String(I).replace(/\./g,"%2E"):String(I),dt=M&&o(C)&&C.length===1?ht+"[]":ht;if(k&&o(C)&&C.length===0)return dt+"[]";for(var ut=0;ut<Q.length;++ut){var lt=Q[ut],gt=typeof lt=="object"&&lt&&typeof lt.value<"u"?lt.value:C[lt];if(!(H&&gt===null)){var yt=K&&T?String(lt).replace(/\./g,"%2E"):String(lt),xt=o(C)?typeof B=="function"?B(dt,yt):dt:dt+(K?"."+yt:"["+yt+"]");D.set(S,U);var At=s();At.set(_,D),c(X,b(gt,xt,B,M,k,N,H,T,B==="comma"&&ft&&o(C)?null:P,q,it,K,V,W,Y,ft,A,At))}}return X},x=function(S){if(!S)return g;if(typeof S.allowEmptyArrays<"u"&&typeof S.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof S.encodeDotInKeys<"u"&&typeof S.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(S.encoder!==null&&typeof S.encoder<"u"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var I=S.charset||g.charset;if(typeof S.charset<"u"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var B=i.default;if(typeof S.format<"u"){if(!n.call(i.formatters,S.format))throw new TypeError("Unknown format option provided.");B=S.format}var M=i.formatters[B],k=g.filter;(typeof S.filter=="function"||o(S.filter))&&(k=S.filter);var N;if(S.arrayFormat in l?N=S.arrayFormat:"indices"in S?N=S.indices?"indices":"repeat":N=g.arrayFormat,"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var H=typeof S.allowDots>"u"?S.encodeDotInKeys===!0?!0:g.allowDots:!!S.allowDots;return{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:g.addQueryPrefix,allowDots:H,allowEmptyArrays:typeof S.allowEmptyArrays=="boolean"?!!S.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:N,charset:I,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!S.commaRoundTrip,delimiter:typeof S.delimiter>"u"?g.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:g.encode,encodeDotInKeys:typeof S.encodeDotInKeys=="boolean"?S.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof S.encoder=="function"?S.encoder:g.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:g.encodeValuesOnly,filter:k,format:B,formatter:M,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:g.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:g.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:g.strictNullHandling}};return tf=function(b,S){var I=b,B=x(S),M,k;typeof B.filter=="function"?(k=B.filter,I=k("",I)):o(B.filter)&&(k=B.filter,M=k);var N=[];if(typeof I!="object"||I===null)return"";var H=l[B.arrayFormat],T=H==="comma"&&B.commaRoundTrip;M||(M=Object.keys(I)),B.sort&&M.sort(B.sort);for(var P=s(),q=0;q<M.length;++q){var it=M[q],K=I[it];B.skipNulls&&K===null||c(N,E(K,it,H,T,B.allowEmptyArrays,B.strictNullHandling,B.skipNulls,B.encodeDotInKeys,B.encode?B.encoder:null,B.filter,B.sort,B.allowDots,B.serializeDate,B.format,B.formatter,B.encodeValuesOnly,B.charset,P))}var V=N.join(B.delimiter),W=B.addQueryPrefix===!0?"?":"";return B.charsetSentinel&&(B.charset==="iso-8859-1"?W+="utf8=%26%2310003%3B&":W+="utf8=%E2%9C%93&"),V.length>0?W+V:""},tf}var ef,Mv;function OT(){if(Mv)return ef;Mv=1;var s=$_(),t=Object.prototype.hasOwnProperty,i=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictMerge:!0,strictNullHandling:!1,throwOnLimitExceeded:!1},l=function(E){return E.replace(/&#(\d+);/g,function(x,b){return String.fromCharCode(parseInt(b,10))})},o=function(E,x,b){if(E&&typeof E=="string"&&x.comma&&E.indexOf(",")>-1)return E.split(",");if(x.throwOnLimitExceeded&&b>=x.arrayLimit)throw new RangeError("Array limit exceeded. Only "+x.arrayLimit+" element"+(x.arrayLimit===1?"":"s")+" allowed in an array.");return E},h="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",p=function(x,b){var S={__proto__:null},I=b.ignoreQueryPrefix?x.replace(/^\?/,""):x;I=I.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var B=b.parameterLimit===1/0?void 0:b.parameterLimit,M=I.split(b.delimiter,b.throwOnLimitExceeded?B+1:B);if(b.throwOnLimitExceeded&&M.length>B)throw new RangeError("Parameter limit exceeded. Only "+B+" parameter"+(B===1?"":"s")+" allowed.");var k=-1,N,H=b.charset;if(b.charsetSentinel)for(N=0;N<M.length;++N)M[N].indexOf("utf8=")===0&&(M[N]===c?H="utf-8":M[N]===h&&(H="iso-8859-1"),k=N,N=M.length);for(N=0;N<M.length;++N)if(N!==k){var T=M[N],P=T.indexOf("]="),q=P===-1?T.indexOf("="):P+1,it,K;if(q===-1?(it=b.decoder(T,n.decoder,H,"key"),K=b.strictNullHandling?null:""):(it=b.decoder(T.slice(0,q),n.decoder,H,"key"),it!==null&&(K=s.maybeMap(o(T.slice(q+1),b,i(S[it])?S[it].length:0),function(W){return b.decoder(W,n.decoder,H,"value")}))),K&&b.interpretNumericEntities&&H==="iso-8859-1"&&(K=l(String(K))),T.indexOf("[]=")>-1&&(K=i(K)?[K]:K),b.comma&&i(K)&&K.length>b.arrayLimit){if(b.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");K=s.combine([],K,b.arrayLimit,b.plainObjects)}if(it!==null){var V=t.call(S,it);V&&(b.duplicates==="combine"||T.indexOf("[]=")>-1)?S[it]=s.combine(S[it],K,b.arrayLimit,b.plainObjects):(!V||b.duplicates==="last")&&(S[it]=K)}}return S},m=function(E,x,b,S){var I=0;if(E.length>0&&E[E.length-1]==="[]"){var B=E.slice(0,-1).join("");I=Array.isArray(x)&&x[B]?x[B].length:0}for(var M=S?x:o(x,b,I),k=E.length-1;k>=0;--k){var N,H=E[k];if(H==="[]"&&b.parseArrays)s.isOverflow(M)?N=M:N=b.allowEmptyArrays&&(M===""||b.strictNullHandling&&M===null)?[]:s.combine([],M,b.arrayLimit,b.plainObjects);else{N=b.plainObjects?{__proto__:null}:{};var T=H.charAt(0)==="["&&H.charAt(H.length-1)==="]"?H.slice(1,-1):H,P=b.decodeDotInKeys?T.replace(/%2E/g,"."):T,q=parseInt(P,10),it=!isNaN(q)&&H!==P&&String(q)===P&&q>=0&&b.parseArrays;if(!b.parseArrays&&P==="")N={0:M};else if(it&&q<b.arrayLimit)N=[],N[q]=M;else{if(it&&b.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+b.arrayLimit+" element"+(b.arrayLimit===1?"":"s")+" allowed in an array.");it?(N[q]=M,s.markOverflow(N,q)):P!=="__proto__"&&(N[P]=M)}}M=N}return M},g=function(x,b){var S=b.allowDots?x.replace(/\.([^.[]+)/g,"[$1]"):x;if(b.depth<=0)return!b.plainObjects&&t.call(Object.prototype,S)&&!b.allowPrototypes?void 0:[S];var I=/(\[[^[\]]*])/,B=/(\[[^[\]]*])/g,M=I.exec(S),k=M?S.slice(0,M.index):S,N=[];if(k){if(!b.plainObjects&&t.call(Object.prototype,k)&&!b.allowPrototypes)return;N[N.length]=k}for(var H=0;(M=B.exec(S))!==null&&H<b.depth;){H+=1;var T=M[1].slice(1,-1);if(!b.plainObjects&&t.call(Object.prototype,T)&&!b.allowPrototypes)return;N[N.length]=M[1]}if(M){if(b.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+b.depth+" and strictDepth is true");N[N.length]="["+S.slice(M.index)+"]"}return N},y=function(x,b,S,I){if(x){var B=g(x,S);if(B)return m(B,b,S,I)}},_=function(x){if(!x)return n;if(typeof x.allowEmptyArrays<"u"&&typeof x.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof x.decodeDotInKeys<"u"&&typeof x.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(x.decoder!==null&&typeof x.decoder<"u"&&typeof x.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof x.charset<"u"&&x.charset!=="utf-8"&&x.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof x.throwOnLimitExceeded<"u"&&typeof x.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var b=typeof x.charset>"u"?n.charset:x.charset,S=typeof x.duplicates>"u"?n.duplicates:x.duplicates;if(S!=="combine"&&S!=="first"&&S!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var I=typeof x.allowDots>"u"?x.decodeDotInKeys===!0?!0:n.allowDots:!!x.allowDots;return{allowDots:I,allowEmptyArrays:typeof x.allowEmptyArrays=="boolean"?!!x.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof x.allowPrototypes=="boolean"?x.allowPrototypes:n.allowPrototypes,allowSparse:typeof x.allowSparse=="boolean"?x.allowSparse:n.allowSparse,arrayLimit:typeof x.arrayLimit=="number"?x.arrayLimit:n.arrayLimit,charset:b,charsetSentinel:typeof x.charsetSentinel=="boolean"?x.charsetSentinel:n.charsetSentinel,comma:typeof x.comma=="boolean"?x.comma:n.comma,decodeDotInKeys:typeof x.decodeDotInKeys=="boolean"?x.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof x.decoder=="function"?x.decoder:n.decoder,delimiter:typeof x.delimiter=="string"||s.isRegExp(x.delimiter)?x.delimiter:n.delimiter,depth:typeof x.depth=="number"||x.depth===!1?+x.depth:n.depth,duplicates:S,ignoreQueryPrefix:x.ignoreQueryPrefix===!0,interpretNumericEntities:typeof x.interpretNumericEntities=="boolean"?x.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof x.parameterLimit=="number"?x.parameterLimit:n.parameterLimit,parseArrays:x.parseArrays!==!1,plainObjects:typeof x.plainObjects=="boolean"?x.plainObjects:n.plainObjects,strictDepth:typeof x.strictDepth=="boolean"?!!x.strictDepth:n.strictDepth,strictMerge:typeof x.strictMerge=="boolean"?!!x.strictMerge:n.strictMerge,strictNullHandling:typeof x.strictNullHandling=="boolean"?x.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof x.throwOnLimitExceeded=="boolean"?x.throwOnLimitExceeded:!1}};return ef=function(E,x){var b=_(x);if(E===""||E===null||typeof E>"u")return b.plainObjects?{__proto__:null}:{};for(var S=typeof E=="string"?p(E,b):E,I=b.plainObjects?{__proto__:null}:{},B=Object.keys(S),M=0;M<B.length;++M){var k=B[M],N=y(k,S[k],b,typeof E=="string");I=s.merge(I,N,b)}return b.allowSparse===!0?I:s.compact(I)},ef}var rf,Dv;function BT(){if(Dv)return rf;Dv=1;var s=DT(),t=OT(),i=yp();return rf={formats:i,parse:t,stringify:s},rf}var Ov;function NT(){if(Ov)return qn;Ov=1;var s=tT();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var i=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(h),p=["%","/","?",";","#"].concat(c),m=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=BT();function I(N,H,T){if(N&&typeof N=="object"&&N instanceof t)return N;var P=new t;return P.parse(N,H,T),P}t.prototype.parse=function(N,H,T){if(typeof N!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof N);var P=N.indexOf("?"),q=P!==-1&&P<N.indexOf("#")?"?":"#",it=N.split(q),K=/\\/g;it[0]=it[0].replace(K,"/"),N=it.join(q);var V=N;if(V=V.trim(),!T&&N.split("#").length===1){var W=l.exec(V);if(W)return this.path=V,this.href=V,this.pathname=W[1],W[2]?(this.search=W[2],H?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var Y=i.exec(V);if(Y){Y=Y[0];var ft=Y.toLowerCase();this.protocol=ft,V=V.substr(Y.length)}if(T||Y||V.match(/^\/\/[^@/]+@[^@/]+/)){var A=V.substr(0,2)==="//";A&&!(Y&&x[Y])&&(V=V.substr(2),this.slashes=!0)}if(!x[Y]&&(A||Y&&!b[Y])){for(var D=-1,C=0;C<m.length;C++){var G=V.indexOf(m[C]);G!==-1&&(D===-1||G<D)&&(D=G)}var U,w;D===-1?w=V.lastIndexOf("@"):w=V.lastIndexOf("@",D),w!==-1&&(U=V.slice(0,w),V=V.slice(w+1),this.auth=decodeURIComponent(U)),D=-1;for(var C=0;C<p.length;C++){var G=V.indexOf(p[C]);G!==-1&&(D===-1||G<D)&&(D=G)}D===-1&&(D=V.length),this.host=V.slice(0,D),V=V.slice(D),this.parseHost(),this.hostname=this.hostname||"";var O=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!O)for(var L=this.hostname.split(/\./),C=0,X=L.length;C<X;C++){var Q=L[C];if(Q&&!Q.match(y)){for(var st="",ht=0,dt=Q.length;ht<dt;ht++)Q.charCodeAt(ht)>127?st+="x":st+=Q[ht];if(!st.match(y)){var ut=L.slice(0,C),lt=L.slice(C+1),gt=Q.match(_);gt&&(ut.push(gt[1]),lt.unshift(gt[2])),lt.length&&(V="/"+lt.join(".")+V),this.hostname=ut.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=s.toASCII(this.hostname));var yt=this.port?":"+this.port:"",xt=this.hostname||"";this.host=xt+yt,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),V[0]!=="/"&&(V="/"+V))}if(!E[ft])for(var C=0,X=c.length;C<X;C++){var At=c[C];if(V.indexOf(At)!==-1){var vt=encodeURIComponent(At);vt===At&&(vt=escape(At)),V=V.split(At).join(vt)}}var pt=V.indexOf("#");pt!==-1&&(this.hash=V.substr(pt),V=V.slice(0,pt));var It=V.indexOf("?");if(It!==-1?(this.search=V.substr(It),this.query=V.substr(It+1),H&&(this.query=S.parse(this.query)),V=V.slice(0,It)):H&&(this.search="",this.query={}),V&&(this.pathname=V),b[ft]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var yt=this.pathname||"",Ht=this.search||"";this.path=yt+Ht}return this.href=this.format(),this};function B(N){return typeof N=="string"&&(N=I(N)),N instanceof t?N.format():t.prototype.format.call(N)}t.prototype.format=function(){var N=this.auth||"";N&&(N=encodeURIComponent(N),N=N.replace(/%3A/i,":"),N+="@");var H=this.protocol||"",T=this.pathname||"",P=this.hash||"",q=!1,it="";this.host?q=N+this.host:this.hostname&&(q=N+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(q+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(it=S.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var K=this.search||it&&"?"+it||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||b[H])&&q!==!1?(q="//"+(q||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):q||(q=""),P&&P.charAt(0)!=="#"&&(P="#"+P),K&&K.charAt(0)!=="?"&&(K="?"+K),T=T.replace(/[?#]/g,function(V){return encodeURIComponent(V)}),K=K.replace("#","%23"),H+q+T+K+P};function M(N,H){return I(N,!1,!0).resolve(H)}t.prototype.resolve=function(N){return this.resolveObject(I(N,!1,!0)).format()};function k(N,H){return N?I(N,!1,!0).resolveObject(H):H}return t.prototype.resolveObject=function(N){if(typeof N=="string"){var H=new t;H.parse(N,!1,!0),N=H}for(var T=new t,P=Object.keys(this),q=0;q<P.length;q++){var it=P[q];T[it]=this[it]}if(T.hash=N.hash,N.href==="")return T.href=T.format(),T;if(N.slashes&&!N.protocol){for(var K=Object.keys(N),V=0;V<K.length;V++){var W=K[V];W!=="protocol"&&(T[W]=N[W])}return b[T.protocol]&&T.hostname&&!T.pathname&&(T.pathname="/",T.path=T.pathname),T.href=T.format(),T}if(N.protocol&&N.protocol!==T.protocol){if(!b[N.protocol]){for(var Y=Object.keys(N),ft=0;ft<Y.length;ft++){var A=Y[ft];T[A]=N[A]}return T.href=T.format(),T}if(T.protocol=N.protocol,!N.host&&!x[N.protocol]){for(var X=(N.pathname||"").split("/");X.length&&!(N.host=X.shift()););N.host||(N.host=""),N.hostname||(N.hostname=""),X[0]!==""&&X.unshift(""),X.length<2&&X.unshift(""),T.pathname=X.join("/")}else T.pathname=N.pathname;if(T.search=N.search,T.query=N.query,T.host=N.host||"",T.auth=N.auth,T.hostname=N.hostname||N.host,T.port=N.port,T.pathname||T.search){var D=T.pathname||"",C=T.search||"";T.path=D+C}return T.slashes=T.slashes||N.slashes,T.href=T.format(),T}var G=T.pathname&&T.pathname.charAt(0)==="/",U=N.host||N.pathname&&N.pathname.charAt(0)==="/",w=U||G||T.host&&N.pathname,O=w,L=T.pathname&&T.pathname.split("/")||[],X=N.pathname&&N.pathname.split("/")||[],Q=T.protocol&&!b[T.protocol];if(Q&&(T.hostname="",T.port=null,T.host&&(L[0]===""?L[0]=T.host:L.unshift(T.host)),T.host="",N.protocol&&(N.hostname=null,N.port=null,N.host&&(X[0]===""?X[0]=N.host:X.unshift(N.host)),N.host=null),w=w&&(X[0]===""||L[0]==="")),U)T.host=N.host||N.host===""?N.host:T.host,T.hostname=N.hostname||N.hostname===""?N.hostname:T.hostname,T.search=N.search,T.query=N.query,L=X;else if(X.length)L||(L=[]),L.pop(),L=L.concat(X),T.search=N.search,T.query=N.query;else if(N.search!=null){if(Q){T.host=L.shift(),T.hostname=T.host;var st=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;st&&(T.auth=st.shift(),T.hostname=st.shift(),T.host=T.hostname)}return T.search=N.search,T.query=N.query,(T.pathname!==null||T.search!==null)&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T}if(!L.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var ht=L.slice(-1)[0],dt=(T.host||N.host||L.length>1)&&(ht==="."||ht==="..")||ht==="",ut=0,lt=L.length;lt>=0;lt--)ht=L[lt],ht==="."?L.splice(lt,1):ht===".."?(L.splice(lt,1),ut++):ut&&(L.splice(lt,1),ut--);if(!w&&!O)for(;ut--;ut)L.unshift("..");w&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),dt&&L.join("/").substr(-1)!=="/"&&L.push("");var gt=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(Q){T.hostname=gt?"":L.length?L.shift():"",T.host=T.hostname;var st=T.host&&T.host.indexOf("@")>0?T.host.split("@"):!1;st&&(T.auth=st.shift(),T.hostname=st.shift(),T.host=T.hostname)}return w=w||T.host&&L.length,w&&!gt&&L.unshift(""),L.length>0?T.pathname=L.join("/"):(T.pathname=null,T.path=null),(T.pathname!==null||T.search!==null)&&(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=N.auth||T.auth,T.slashes=T.slashes||N.slashes,T.href=T.format(),T},t.prototype.parseHost=function(){var N=this.host,H=n.exec(N);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),N=N.substr(0,N.length-H.length)),N&&(this.hostname=N)},qn.parse=I,qn.resolve=M,qn.resolveObject=k,qn.format=B,qn.Url=t,qn}NT();const Bv={};function qt(s,t,i=3){if(Bv[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(n=n.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(n))),Bv[t]=!0}function Gi(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function hl(s){return s.split("?")[0].split("#")[0]}function IT(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function UT(s,t,i){return s.replace(new RegExp(IT(t),"g"),i)}function LT(s,t){let i="",n=0,l=-1,o=0,h=-1;for(let c=0;c<=s.length;++c){if(c<s.length)h=s.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(i.length<2||n!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const p=i.lastIndexOf("/");if(p!==i.length-1){p===-1?(i="",n=0):(i=i.slice(0,p),n=i.length-1-i.lastIndexOf("/")),l=c,o=0;continue}}else if(i.length===2||i.length===1){i="",n=0,l=c,o=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,c)}`:i=s.slice(l+1,c),n=c-l-1;l=c,o=0}else h===46&&o!==-1?++o:o=-1}return i}const Fe={toPosix(s){return UT(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){Gi(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(Gi(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const n=hl(this.toPosix(t??Et.ADAPTER.getBaseUrl())),l=hl(this.toPosix(i??this.rootname(n)));return s=this.toPosix(s),s.startsWith("/")?Fe.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(n,s)},normalize(s){if(Gi(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const n=s.endsWith("/");return s=LT(s),s.length>0&&n&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return Gi(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const n=s[i];if(Gi(n),n.length>0)if(t===void 0)t=n;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(Gi(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let n=-1,l=!0;const o=this.getProtocol(s),h=s;s=s.slice(o.length);for(let c=s.length-1;c>=1;--c)if(t=s.charCodeAt(c),t===47){if(!l){n=c;break}}else l=!1;return n===-1?i?"/":this.isUrl(h)?o+s:o:i&&n===1?"//":o+s.slice(0,n)},rootname(s){Gi(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){Gi(s),t&&Gi(t),s=hl(this.toPosix(s));let i=0,n=-1,l=!0,o;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let h=t.length-1,c=-1;for(o=s.length-1;o>=0;--o){const p=s.charCodeAt(o);if(p===47){if(!l){i=o+1;break}}else c===-1&&(l=!1,c=o+1),h>=0&&(p===t.charCodeAt(h)?--h===-1&&(n=o):(h=-1,n=c))}return i===n?n=c:n===-1&&(n=s.length),s.slice(i,n)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!l){i=o+1;break}}else n===-1&&(l=!1,n=o+1);return n===-1?"":s.slice(i,n)},extname(s){Gi(s),s=hl(this.toPosix(s));let t=-1,i=0,n=-1,l=!0,o=0;for(let h=s.length-1;h>=0;--h){const c=s.charCodeAt(h);if(c===47){if(!l){i=h+1;break}continue}n===-1&&(l=!1,n=h+1),c===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||n===-1||o===0||o===1&&t===n-1&&t===i+1?"":s.slice(t,n)},parse(s){Gi(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=hl(this.toPosix(s));let i=s.charCodeAt(0);const n=this.isAbsolute(s);let l;t.root=this.rootname(s),n||this.hasProtocol(s)?l=1:l=0;let o=-1,h=0,c=-1,p=!0,m=s.length-1,g=0;for(;m>=l;--m){if(i=s.charCodeAt(m),i===47){if(!p){h=m+1;break}continue}c===-1&&(p=!1,c=m+1),i===46?o===-1?o=m:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===h+1?c!==-1&&(h===0&&n?t.base=t.name=s.slice(1,c):t.base=t.name=s.slice(h,c)):(h===0&&n?(t.name=s.slice(1,o),t.base=s.slice(1,c)):(t.name=s.slice(h,o),t.base=s.slice(h,c)),t.ext=s.slice(o,c)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let nf;async function PT(){return nf??(nf=(async()=>{const s=document.createElement("canvas").getContext("webgl");if(!s)return oi.UNPACK;const t=await new Promise(o=>{const h=document.createElement("video");h.onloadeddata=()=>o(h),h.onerror=()=>o(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!t)return oi.UNPACK;const i=s.createTexture();s.bindTexture(s.TEXTURE_2D,i);const n=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,n),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);const l=new Uint8Array(4);return s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,l),s.deleteFramebuffer(n),s.deleteTexture(i),s.getExtension("WEBGL_lose_context")?.loseContext(),l[0]<=l[3]?oi.PMA:oi.UNPACK})()),nf}let sf;function FT(){return typeof sf>"u"&&(sf=(function(){const s={stencil:!0,failIfMajorPerformanceCaveat:Et.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Et.ADAPTER.getWebGLRenderingContext())return!1;const t=Et.ADAPTER.createCanvas();let i=t.getContext("webgl",s)||t.getContext("experimental-webgl",s);const n=!!i?.getContextAttributes()?.stencil;if(i){const l=i.getExtension("WEBGL_lose_context");l&&l.loseContext()}return i=null,n}catch{return!1}})()),sf}var kT={grad:.9,turn:360,rad:360/(2*Math.PI)},Lr=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},Pe=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},Ii=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},W_=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},Nv=function(s){return{r:Ii(s.r,0,255),g:Ii(s.g,0,255),b:Ii(s.b,0,255),a:Ii(s.a)}},af=function(s){return{r:Pe(s.r),g:Pe(s.g),b:Pe(s.b),a:Pe(s.a,3)}},GT=/^#([0-9a-f]{3,8})$/i,Vo=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Z_=function(s){var t=s.r,i=s.g,n=s.b,l=s.a,o=Math.max(t,i,n),h=o-Math.min(t,i,n),c=h?o===t?(i-n)/h:o===i?2+(n-t)/h:4+(t-i)/h:0;return{h:60*(c<0?c+6:c),s:o?h/o*100:0,v:o/255*100,a:l}},K_=function(s){var t=s.h,i=s.s,n=s.v,l=s.a;t=t/360*6,i/=100,n/=100;var o=Math.floor(t),h=n*(1-i),c=n*(1-(t-o)*i),p=n*(1-(1-t+o)*i),m=o%6;return{r:255*[n,c,h,h,p,n][m],g:255*[p,n,n,c,h,h][m],b:255*[h,h,p,n,n,c][m],a:l}},Iv=function(s){return{h:W_(s.h),s:Ii(s.s,0,100),l:Ii(s.l,0,100),a:Ii(s.a)}},Uv=function(s){return{h:Pe(s.h),s:Pe(s.s),l:Pe(s.l),a:Pe(s.a,3)}},Lv=function(s){return K_((i=(t=s).s,{h:t.h,s:(i*=((n=t.l)<50?n:100-n)/100)>0?2*i/(n+i)*100:0,v:n+i,a:t.a}));var t,i,n},Sl=function(s){return{h:(t=Z_(s)).h,s:(l=(200-(i=t.s))*(n=t.v)/100)>0&&l<200?i*n/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,n,l},zT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,HT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Of={string:[[function(s){var t=GT.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?Pe(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?Pe(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=jT.exec(s)||XT.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:Nv({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=zT.exec(s)||HT.exec(s);if(!t)return null;var i,n,l=Iv({h:(i=t[1],n=t[2],n===void 0&&(n="deg"),Number(i)*(kT[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Lv(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,n=s.b,l=s.a,o=l===void 0?1:l;return Lr(t)&&Lr(i)&&Lr(n)?Nv({r:Number(t),g:Number(i),b:Number(n),a:Number(o)}):null},"rgb"],[function(s){var t=s.h,i=s.s,n=s.l,l=s.a,o=l===void 0?1:l;if(!Lr(t)||!Lr(i)||!Lr(n))return null;var h=Iv({h:Number(t),s:Number(i),l:Number(n),a:Number(o)});return Lv(h)},"hsl"],[function(s){var t=s.h,i=s.s,n=s.v,l=s.a,o=l===void 0?1:l;if(!Lr(t)||!Lr(i)||!Lr(n))return null;var h=(function(c){return{h:W_(c.h),s:Ii(c.s,0,100),v:Ii(c.v,0,100),a:Ii(c.a)}})({h:Number(t),s:Number(i),v:Number(n),a:Number(o)});return K_(h)},"hsv"]]},Pv=function(s,t){for(var i=0;i<t.length;i++){var n=t[i][0](s);if(n)return[n,t[i][1]]}return[null,void 0]},VT=function(s){return typeof s=="string"?Pv(s.trim(),Of.string):typeof s=="object"&&s!==null?Pv(s,Of.object):[null,void 0]},lf=function(s,t){var i=Sl(s);return{h:i.h,s:Ii(i.s+100*t,0,100),l:i.l,a:i.a}},of=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},Fv=function(s,t){var i=Sl(s);return{h:i.h,s:i.s,l:Ii(i.l+100*t,0,100),a:i.a}},Bf=(function(){function s(t){this.parsed=VT(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return Pe(of(this.rgba),2)},s.prototype.isDark=function(){return of(this.rgba)<.5},s.prototype.isLight=function(){return of(this.rgba)>=.5},s.prototype.toHex=function(){return t=af(this.rgba),i=t.r,n=t.g,l=t.b,h=(o=t.a)<1?Vo(Pe(255*o)):"","#"+Vo(i)+Vo(n)+Vo(l)+h;var t,i,n,l,o,h},s.prototype.toRgb=function(){return af(this.rgba)},s.prototype.toRgbString=function(){return t=af(this.rgba),i=t.r,n=t.g,l=t.b,(o=t.a)<1?"rgba("+i+", "+n+", "+l+", "+o+")":"rgb("+i+", "+n+", "+l+")";var t,i,n,l,o},s.prototype.toHsl=function(){return Uv(Sl(this.rgba))},s.prototype.toHslString=function(){return t=Uv(Sl(this.rgba)),i=t.h,n=t.s,l=t.l,(o=t.a)<1?"hsla("+i+", "+n+"%, "+l+"%, "+o+")":"hsl("+i+", "+n+"%, "+l+"%)";var t,i,n,l,o},s.prototype.toHsv=function(){return t=Z_(this.rgba),{h:Pe(t.h),s:Pe(t.s),v:Pe(t.v),a:Pe(t.a,3)};var t},s.prototype.invert=function(){return ir({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),ir(lf(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),ir(lf(this.rgba,-t))},s.prototype.grayscale=function(){return ir(lf(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),ir(Fv(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),ir(Fv(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?ir({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):Pe(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=Sl(this.rgba);return typeof t=="number"?ir({h:t,s:i.s,l:i.l,a:i.a}):Pe(i.h)},s.prototype.isEqual=function(t){return this.toHex()===ir(t).toHex()},s})(),ir=function(s){return s instanceof Bf?s:new Bf(s)},kv=[],qT=function(s){s.forEach(function(t){kv.indexOf(t)<0&&(t(Bf,Of),kv.push(t))})};function YT(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var l in i)n[i[l]]=l;var o={};s.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,p,m=n[this.toHex()];if(m)return m;if(h?.closest){var g=this.toRgb(),y=1/0,_="black";if(!o.length)for(var E in i)o[E]=new s(i[E]).toRgb();for(var x in i){var b=(c=g,p=o[x],Math.pow(c.r-p.r,2)+Math.pow(c.g-p.g,2)+Math.pow(c.b-p.b,2));b<y&&(y=b,_=x)}return _}},t.string.push([function(h){var c=h.toLowerCase(),p=c==="transparent"?"#0000":i[c];return p?new s(p).toRgb():null},"name"])}qT([YT]);const Qs=class du{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof du)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,i){const n=typeof t;if(n!==typeof i)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((l,o)=>l===i[o]);if(t!==null&&i!==null){const l=Object.keys(t),o=Object.keys(i);return l.length!==o.length?!1:l.every(h=>t[h]===i[h])}return t===i}toRgba(){const[t,i,n,l]=this._components;return{r:t,g:i,b:n,a:l}}toRgb(){const[t,i,n]=this._components;return{r:t,g:i,b:n}}toRgbaString(){const[t,i,n]=this.toUint8RgbArray();return`rgba(${t},${i},${n},${this.alpha})`}toUint8RgbArray(t){const[i,n,l]=this._components;return t=t??[],t[0]=Math.round(i*255),t[1]=Math.round(n*255),t[2]=Math.round(l*255),t}toRgbArray(t){t=t??[];const[i,n,l]=this._components;return t[0]=i,t[1]=n,t[2]=l,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,n,l,o]=du.temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=n,this._components[2]*=l,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let n=this._int>>16&255,l=this._int>>8&255,o=this._int&255;return i&&(n=n*t+.5|0,l=l*t+.5|0,o=o*t+.5|0),(t*255<<24)+(n<<16)+(l<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[i,n,l]=this._components;return this._components[0]=Math.round(i*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(l*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[i,n,l,o]=this._components;return t[0]=i,t[1]=n,t[2]=l,t[3]=o,t}normalize(t){let i,n,l,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;i=(h>>16&255)/255,n=(h>>8&255)/255,l=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,n,l,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,n,l,o=255]=t,i/=255,n/=255,l/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const c=du.HEX_PATTERN.exec(t);c&&(t=`#${c[2]}`)}const h=ir(t);h.isValid()&&({r:i,g:n,b:l,a:o}=h.rgba,i/=255,n/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=n,this._components[2]=l,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,i,n]=this._components;this._int=(t*255<<16)+(i*255<<8)+(n*255|0)}_clamp(t,i=0,n=1){return typeof t=="number"?Math.min(Math.max(t,i),n):(t.forEach((l,o)=>{t[o]=Math.min(Math.max(l,i),n)}),t)}};Qs.shared=new Qs,Qs.temp=new Qs,Qs.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let pe=Qs;function $T(s){return qt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),pe.shared.setValue(s).toHex()}function WT(s){return qt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),pe.shared.setValue(s).toNumber()}function ZT(){const s=[],t=[];for(let n=0;n<32;n++)s[n]=n,t[n]=n;s[Nt.NORMAL_NPM]=Nt.NORMAL,s[Nt.ADD_NPM]=Nt.ADD,s[Nt.SCREEN_NPM]=Nt.SCREEN,t[Nt.NORMAL]=Nt.NORMAL_NPM,t[Nt.ADD]=Nt.ADD_NPM,t[Nt.SCREEN]=Nt.SCREEN_NPM;const i=[];return i.push(t),i.push(s),i}const Q_=ZT();function J_(s,t){return Q_[t?1:0][s]}function KT(s,t=null){const i=s*6;if(t=t||new Uint16Array(i),t.length!==i)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${i}`);for(let n=0,l=0;n<i;n+=6,l+=4)t[n+0]=l+0,t[n+1]=l+1,t[n+2]=l+2,t[n+3]=l+0,t[n+4]=l+2,t[n+5]=l+3;return t}function tx(s){if(s.BYTES_PER_ELEMENT===4)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(s.BYTES_PER_ELEMENT===2){if(s instanceof Uint16Array)return"Uint16Array"}else if(s.BYTES_PER_ELEMENT===1&&s instanceof Uint8Array)return"Uint8Array";return null}function Eu(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function Gv(s){return!(s&s-1)&&!!s}function zv(s){let t=(s>65535?1:0)<<4;s>>>=t;let i=(s>255?1:0)<<3;return s>>>=i,t|=i,i=(s>15?1:0)<<2,s>>>=i,t|=i,i=(s>3?1:0)<<1,s>>>=i,t|=i,t|s>>1}function aa(s,t,i){const n=s.length;let l;if(t>=n||i===0)return;i=t+i>n?n-t:i;const o=n-i;for(l=t;l<o;++l)s[l]=s[l+i];s.length=o}function bn(s){return s===0?0:s<0?-1:1}let QT=0;function as(){return++QT}const Nf=class{constructor(s,t,i,n){this.left=s,this.top=t,this.right=i,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Nf.EMPTY=new Nf(0,0,0,0);let Hv=Nf;const jv={},rr=Object.create(null),gn=Object.create(null);class JT{constructor(t,i,n){this._canvas=Et.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Et.RESOLUTION,this.resize(t,i)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,i){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(i*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Xv(s,t,i){for(let n=0,l=4*i*t;n<t;++n,l+=4)if(s[l+3]!==0)return!1;return!0}function Vv(s,t,i,n,l){const o=4*t;for(let h=n,c=n*o+4*i;h<=l;++h,c+=o)if(s[c+3]!==0)return!1;return!0}function tS(s){const{width:t,height:i}=s,n=s.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const l=n.getImageData(0,0,t,i).data;let o=0,h=0,c=t-1,p=i-1;for(;h<i&&Xv(l,t,h);)++h;if(h===i)return Hv.EMPTY;for(;Xv(l,t,p);)--p;for(;Vv(l,t,o,h,p);)++o;for(;Vv(l,t,c,h,p);)--c;return++c,++p,new Hv(o,h,c,p)}function eS(s){const t=tS(s),{width:i,height:n}=t;let l=null;if(!t.isEmpty()){const o=s.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");l=o.getImageData(t.left,t.top,i,n)}return{width:i,height:n,data:l}}function iS(s,t=globalThis.location){if(s.startsWith("data:"))return"";t=t||globalThis.location;const i=new URL(s,document.baseURI);return i.hostname!==t.hostname||i.port!==t.port||i.protocol!==t.protocol?"anonymous":""}function zr(s,t=1){const i=Et.RETINA_PREFIX?.exec(s);return i?parseFloat(i[1]):t}var _t=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(_t||{});const If=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},qv=(s,t)=>If(s).priority??t,Rt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(If).forEach(t=>{t.type.forEach(i=>this._removeHandlers[i]?.(t))}),this},add(...s){return s.map(If).forEach(t=>{t.type.forEach(i=>{const n=this._addHandlers,l=this._queue;n[i]?n[i]?.(t):(l[i]=l[i]||[],l[i]?.push(t))})}),this},handle(s,t,i){const n=this._addHandlers,l=this._removeHandlers;if(n[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);n[s]=t,l[s]=i;const o=this._queue;return o[s]&&(o[s]?.forEach(h=>t(h)),delete o[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByList(s,t,i=-1){return this.handle(s,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((l,o)=>qv(o,i)-qv(l,i)))},n=>{const l=t.indexOf(n.ref);l!==-1&&t.splice(l,1)})}};class Uf{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const rS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function nS(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function sS(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=rS.replace(/%forloop%/gi,nS(s));if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}return s}const uf=0,hf=1,cf=2,df=3,ff=4,pf=5;class dr{constructor(){this.data=0,this.blendMode=Nt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<uf)}set blend(t){!!(this.data&1<<uf)!==t&&(this.data^=1<<uf)}get offsets(){return!!(this.data&1<<hf)}set offsets(t){!!(this.data&1<<hf)!==t&&(this.data^=1<<hf)}get culling(){return!!(this.data&1<<cf)}set culling(t){!!(this.data&1<<cf)!==t&&(this.data^=1<<cf)}get depthTest(){return!!(this.data&1<<df)}set depthTest(t){!!(this.data&1<<df)!==t&&(this.data^=1<<df)}get depthMask(){return!!(this.data&1<<pf)}set depthMask(t){!!(this.data&1<<pf)!==t&&(this.data^=1<<pf)}get clockwiseFrontFace(){return!!(this.data&1<<ff)}set clockwiseFrontFace(t){!!(this.data&1<<ff)!==t&&(this.data^=1<<ff)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Nt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new dr;return t.depthTest=!1,t.blend=!0,t}}dr.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Lf=[];function ex(s,t){if(!s)return null;let i="";if(typeof s=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);n&&(i=n[1].toLowerCase())}for(let n=Lf.length-1;n>=0;--n){const l=Lf[n];if(l.test&&l.test(s,i))return new l(s,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Vi{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,i,n,l,o,h,c,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:m,items:g}=this;this._aliasCount++;for(let y=0,_=g.length;y<_;y++)g[y][m](t,i,n,l,o,h,c,p);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&(this.ensureNonAliasedItems(),this.items.splice(i,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Vi.prototype,{dispatch:{value:Vi.prototype.emit},run:{value:Vi.prototype.emit}});class Al{constructor(t=0,i=0){this._width=t,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new Vi("setRealSize"),this.onUpdate=new Vi("update"),this.onError=new Vi("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,i){(t!==this._width||i!==this._height)&&(this._width=t,this._height=i,this.onResize.emit(t,i))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,i,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,i){return!1}}class Gu extends Al{constructor(t,i){const{width:n,height:l}=i||{};if(!n||!l)throw new Error("BufferResource width or height invalid");super(n,l),this.data=t,this.unpackAlignment=i.unpackAlignment??4}upload(t,i,n){const l=t.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,this.unpackAlignment),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===oi.UNPACK);const o=i.realWidth,h=i.realHeight;return n.width===o&&n.height===h?l.texSubImage2D(i.target,0,0,0,o,h,i.format,n.type,this.data):(n.width=o,n.height=h,l.texImage2D(i.target,0,n.internalFormat,o,h,0,i.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const aS={scaleMode:Pr.NEAREST,alphaMode:oi.NPM},Pf=class Js extends wl{constructor(t=null,i=null){super(),i=Object.assign({},Js.defaultOptions,i);const{alphaMode:n,mipmap:l,anisotropicLevel:o,scaleMode:h,width:c,height:p,wrapMode:m,format:g,type:y,target:_,resolution:E,resourceOptions:x}=i;t&&!(t instanceof Al)&&(t=ex(t,x),t.internal=!0),this.resolution=E||Et.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=l,this.anisotropicLevel=o,this._wrapMode=m,this._scaleMode=h,this.format=g,this.type=y,this.target=_,this.alphaMode=n,this.uid=as(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,i){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),i!==void 0&&i!==this.mipmap&&(this.mipmap=i,n=!0),n&&this.dirtyStyleId++,this}setSize(t,i,n){return n=n||this.resolution,this.setRealSize(t*n,i*n,n)}setRealSize(t,i,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Gv(this.realWidth)&&Gv(this.realHeight)}setResolution(t){const i=this.resolution;return i===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*i)/t,this.height=Math.round(this.height*i)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete gn[this.cacheId],delete rr[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Js.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,i,n=Et.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else{if(!t._pixiId){const c=i?.pixiIdPrefix||"pixiid";t._pixiId=`${c}_${as()}`}o=t._pixiId}let h=gn[o];if(l&&n&&!h)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return h||(h=new Js(t,i),h.cacheId=o,Js.addToCache(h,o)),h}static fromBuffer(t,i,n,l){t=t||new Float32Array(i*n*4);const o=new Gu(t,{width:i,height:n,...l?.resourceOptions});let h,c;return t instanceof Float32Array?(h=mt.RGBA,c=Dt.FLOAT):t instanceof Int32Array?(h=mt.RGBA_INTEGER,c=Dt.INT):t instanceof Uint32Array?(h=mt.RGBA_INTEGER,c=Dt.UNSIGNED_INT):t instanceof Int16Array?(h=mt.RGBA_INTEGER,c=Dt.SHORT):t instanceof Uint16Array?(h=mt.RGBA_INTEGER,c=Dt.UNSIGNED_SHORT):t instanceof Int8Array?(h=mt.RGBA,c=Dt.BYTE):(h=mt.RGBA,c=Dt.UNSIGNED_BYTE),o.internal=!0,new Js(o,Object.assign({},aS,{type:c,format:h},l))}static addToCache(t,i){i&&(t.textureCacheIds.includes(i)||t.textureCacheIds.push(i),gn[i]&&gn[i]!==t&&console.warn(`BaseTexture added to the cache with an id [${i}] that already had an entry`),gn[i]=t)}static removeFromCache(t){if(typeof t=="string"){const i=gn[t];if(i){const n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete gn[t],i}}else if(t?.textureCacheIds){for(let i=0;i<t.textureCacheIds.length;++i)delete gn[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null}};Pf.defaultOptions={mipmap:cr.POW2,anisotropicLevel:0,scaleMode:Pr.LINEAR,wrapMode:Tn.CLAMP,alphaMode:oi.UNPACK,target:sa.TEXTURE_2D,format:mt.RGBA,type:Dt.UNSIGNED_BYTE},Pf._globalBatch=0;let Pt=Pf;class Ff{constructor(){this.texArray=null,this.blend=0,this.type=or.TRIANGLES,this.start=0,this.size=0,this.data=null}}let lS=0;class Ae{constructor(t,i=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=i,this.id=lS++,this.disposeRunner=new Vi("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?ur.ELEMENT_ARRAY_BUFFER:ur.ARRAY_BUFFER}get index(){return this.type===ur.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new Ae(t)}}class Tu{constructor(t,i=0,n=!1,l=Dt.FLOAT,o,h,c,p=1){this.buffer=t,this.size=i,this.normalized=n,this.type=l,this.stride=o,this.start=h,this.instance=c,this.divisor=p}destroy(){this.buffer=null}static from(t,i,n,l,o){return new Tu(t,i,n,l,o)}}const oS={Float32Array,Uint32Array,Int32Array,Uint8Array};function uS(s,t){let i=0,n=0;const l={};for(let p=0;p<s.length;p++)n+=t[p],i+=s[p].length;const o=new ArrayBuffer(i*4);let h=null,c=0;for(let p=0;p<s.length;p++){const m=t[p],g=s[p],y=tx(g);l[y]||(l[y]=new oS[y](o)),h=l[y];for(let _=0;_<g.length;_++){const E=(_/m|0)*n+c,x=_%m;h[E+x]=g[_]}c+=m}return new Float32Array(o)}const Yv={5126:4,5123:2,5121:1};let hS=0;const cS={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Sn{constructor(t=[],i={}){this.buffers=t,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=hS++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Vi("disposeGeometry"),this.refCount=0}addAttribute(t,i,n=0,l=!1,o,h,c,p=!1){if(!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof Ae||(i instanceof Array&&(i=new Float32Array(i)),i=new Ae(i));const m=t.split("|");if(m.length>1){for(let y=0;y<m.length;y++)this.addAttribute(m[y],i,n,l,o);return this}let g=this.buffers.indexOf(i);return g===-1&&(this.buffers.push(i),g=this.buffers.length-1),this.attributes[t]=new Tu(g,n,l,o,h,c,p),this.instanced=this.instanced||p,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof Ae||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ae(t)),t.type=ur.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],i=[],n=new Ae;let l;for(l in this.attributes){const o=this.attributes[l],h=this.buffers[o.buffer];t.push(h.data),i.push(o.size*Yv[o.type]/4),o.buffer=0}for(n.data=uS(t,i),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const i=this.attributes[t];return this.buffers[i.buffer].data.length/(i.stride/4||i.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new Sn;for(let i=0;i<this.buffers.length;i++)t.buffers[i]=new Ae(this.buffers[i].data.slice(0));for(const i in this.attributes){const n=this.attributes[i];t.attributes[i]=new Tu(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=ur.ELEMENT_ARRAY_BUFFER),t}static merge(t){const i=new Sn,n=[],l=[],o=[];let h;for(let c=0;c<t.length;c++){h=t[c];for(let p=0;p<h.buffers.length;p++)l[p]=l[p]||0,l[p]+=h.buffers[p].data.length,o[p]=0}for(let c=0;c<h.buffers.length;c++)n[c]=new cS[tx(h.buffers[c].data)](l[c]),i.buffers[c]=new Ae(n[c]);for(let c=0;c<t.length;c++){h=t[c];for(let p=0;p<h.buffers.length;p++)n[p].set(h.buffers[p].data,o[p]),o[p]+=h.buffers[p].data.length}if(i.attributes=h.attributes,h.indexBuffer){i.indexBuffer=i.buffers[h.buffers.indexOf(h.indexBuffer)],i.indexBuffer.type=ur.ELEMENT_ARRAY_BUFFER;let c=0,p=0,m=0,g=0;for(let y=0;y<h.buffers.length;y++)if(h.buffers[y]!==h.indexBuffer){g=y;break}for(const y in h.attributes){const _=h.attributes[y];(_.buffer|0)===g&&(p+=_.size*Yv[_.type]/4)}for(let y=0;y<t.length;y++){const _=t[y].indexBuffer.data;for(let E=0;E<_.length;E++)i.indexBuffer.data[E+m]+=c;c+=t[y].buffers[g].data.length/p,m+=_.length}}return i}}class ix extends Sn{constructor(t=!1){super(),this._buffer=new Ae(null,t,!1),this._indexBuffer=new Ae(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Dt.FLOAT).addAttribute("aColor",this._buffer,4,!0,Dt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Dt.FLOAT).addIndex(this._indexBuffer)}}const Su=Math.PI*2,dS=180/Math.PI,fS=Math.PI/180;var Ye=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(Ye||{});class Kt{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new Kt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}}Kt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const qo=[new Kt,new Kt,new Kt,new Kt];class kt{constructor(t=0,i=0,n=0,l=0){this.x=Number(t),this.y=Number(i),this.width=Number(n),this.height=Number(l),this.type=Ye.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new kt(0,0,0,0)}clone(){return new kt(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}intersects(t,i){if(!i){const P=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=P)return!1;const q=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>q}const n=this.left,l=this.right,o=this.top,h=this.bottom;if(l<=n||h<=o)return!1;const c=qo[0].set(t.left,t.top),p=qo[1].set(t.left,t.bottom),m=qo[2].set(t.right,t.top),g=qo[3].set(t.right,t.bottom);if(m.x<=c.x||p.y<=c.y)return!1;const y=Math.sign(i.a*i.d-i.b*i.c);if(y===0||(i.apply(c,c),i.apply(p,p),i.apply(m,m),i.apply(g,g),Math.max(c.x,p.x,m.x,g.x)<=n||Math.min(c.x,p.x,m.x,g.x)>=l||Math.max(c.y,p.y,m.y,g.y)<=o||Math.min(c.y,p.y,m.y,g.y)>=h))return!1;const _=y*(p.y-c.y),E=y*(c.x-p.x),x=_*n+E*o,b=_*l+E*o,S=_*n+E*h,I=_*l+E*h;if(Math.max(x,b,S,I)<=_*c.x+E*c.y||Math.min(x,b,S,I)>=_*g.x+E*g.y)return!1;const B=y*(c.y-m.y),M=y*(m.x-c.x),k=B*n+M*o,N=B*l+M*o,H=B*n+M*h,T=B*l+M*h;return!(Math.max(k,N,H,T)<=B*c.x+M*c.y||Math.min(k,N,H,T)>=B*g.x+M*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(n-i,0),this.y=l,this.height=Math.max(o-l,0),this}ceil(t=1,i=.001){const n=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=n-this.x,this.height=l-this.y,this}enlarge(t){const i=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=n-i,this.y=l,this.height=o-l,this}}kt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class zu{constructor(t=0,i=0,n=0){this.x=t,this.y=i,this.radius=n,this.type=Ye.CIRC}clone(){return new zu(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const n=this.radius*this.radius;let l=this.x-t,o=this.y-i;return l*=l,o*=o,l+o<=n}getBounds(){return new kt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}zu.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Hu{constructor(t=0,i=0,n=0,l=0){this.x=t,this.y=i,this.width=n,this.height=l,this.type=Ye.ELIP}clone(){return new Hu(this.x,this.y,this.width,this.height)}contains(t,i){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,l=(i-this.y)/this.height;return n*=n,l*=l,n+l<=1}getBounds(){return new kt(this.x-this.width,this.y-this.height,this.width,this.height)}}Hu.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ns{constructor(...t){let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const n=[];for(let l=0,o=i.length;l<o;l++)n.push(i[l].x,i[l].y);i=n}this.points=i,this.type=Ye.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),i=new ns(t);return i.closeStroke=this.closeStroke,i}contains(t,i){let n=!1;const l=this.points.length/2;for(let o=0,h=l-1;o<l;h=o++){const c=this.points[o*2],p=this.points[o*2+1],m=this.points[h*2],g=this.points[h*2+1];p>i!=g>i&&t<(m-c)*((i-p)/(g-p))+c&&(n=!n)}return n}}ns.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((s,t)=>`${s}, ${t}`,"")}]`};class ju{constructor(t=0,i=0,n=0,l=0,o=20){this.x=t,this.y=i,this.width=n,this.height=l,this.radius=o,this.type=Ye.RREC}clone(){return new ju(this.x,this.y,this.width,this.height,this.radius)}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+n&&i<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let l=t-(this.x+n),o=i-(this.y+n);const h=n*n;if(l*l+o*o<=h||(l=t-(this.x+this.width-n),l*l+o*o<=h)||(o=i-(this.y+this.height-n),l*l+o*o<=h)||(l=t-(this.x+n),l*l+o*o<=h))return!0}return!1}}ju.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class me{constructor(t=1,i=0,n=0,l=1,o=0,h=0){this.array=null,this.a=t,this.b=i,this.c=n,this.d=l,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,n,l,o,h){return this.a=t,this.b=i,this.c=n,this.d=l,this.tx=o,this.ty=h,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const n=i||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,i){i=i||new Kt;const n=t.x,l=t.y;return i.x=this.a*n+this.c*l+this.tx,i.y=this.b*n+this.d*l+this.ty,i}applyInverse(t,i){i=i||new Kt;const n=1/(this.a*this.d+this.c*-this.b),l=t.x,o=t.y;return i.x=this.d*n*l+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,i.y=this.a*n*o+-this.b*n*l+(-this.ty*this.a+this.tx*this.b)*n,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),n=Math.sin(t),l=this.a,o=this.c,h=this.tx;return this.a=l*i-this.b*n,this.b=l*n+this.b*i,this.c=o*i-this.d*n,this.d=o*n+this.d*i,this.tx=h*i-this.ty*n,this.ty=h*n+this.ty*i,this}append(t){const i=this.a,n=this.b,l=this.c,o=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*n+t.b*o,this.c=t.c*i+t.d*l,this.d=t.c*n+t.d*o,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this}setTransform(t,i,n,l,o,h,c,p,m){return this.a=Math.cos(c+m)*o,this.b=Math.sin(c+m)*o,this.c=-Math.sin(c-p)*h,this.d=Math.cos(c-p)*h,this.tx=t-(n*this.a+l*this.c),this.ty=i-(n*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,l=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,n=this.b,l=this.c,o=this.d,h=t.pivot,c=-Math.atan2(-l,o),p=Math.atan2(n,i),m=Math.abs(c+p);return m<1e-5||Math.abs(Su-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=c,t.skew.y=p),t.scale.x=Math.sqrt(i*i+n*n),t.scale.y=Math.sqrt(l*l+o*o),t.position.x=this.tx+(h.x*i+h.y*l),t.position.y=this.ty+(h.x*n+h.y*o),t}invert(){const t=this.a,i=this.b,n=this.c,l=this.d,o=this.tx,h=t*l-i*n;return this.a=l/h,this.b=-i/h,this.c=-n/h,this.d=t/h,this.tx=(n*this.ty-l*o)/h,this.ty=-(t*this.ty-i*o)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new me;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new me}static get TEMP_MATRIX(){return new me}}me.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Wn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Zn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Kn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],kf=[],rx=[],Yo=Math.sign;function pS(){for(let s=0;s<16;s++){const t=[];kf.push(t);for(let i=0;i<16;i++){const n=Yo(Wn[s]*Wn[i]+Kn[s]*Zn[i]),l=Yo(Zn[s]*Wn[i]+Qn[s]*Zn[i]),o=Yo(Wn[s]*Kn[i]+Kn[s]*Qn[i]),h=Yo(Zn[s]*Kn[i]+Qn[s]*Qn[i]);for(let c=0;c<16;c++)if(Wn[c]===n&&Zn[c]===l&&Kn[c]===o&&Qn[c]===h){t.push(c);break}}}for(let s=0;s<16;s++){const t=new me;t.set(Wn[s],Zn[s],Kn[s],Qn[s],0,0),rx.push(t)}}pS();const ve={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Wn[s],uY:s=>Zn[s],vX:s=>Kn[s],vY:s=>Qn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>kf[s][t],sub:(s,t)=>kf[s][ve.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?ve.S:ve.N:Math.abs(t)*2<=Math.abs(s)?s>0?ve.E:ve.W:t>0?s>0?ve.SE:ve.SW:s>0?ve.NE:ve.NW,matrixAppendRotationInv:(s,t,i=0,n=0)=>{const l=rx[ve.inv(t)];l.tx=i,l.ty=n,s.append(l)}};class kr{constructor(t,i,n=0,l=0){this._x=n,this._y=l,this.cb=t,this.scope=i}clone(t=this.cb,i=this.scope){return new kr(t,i,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}kr.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Gf=class{constructor(){this.worldTransform=new me,this.localTransform=new me,this.position=new kr(this.onChange,this,0,0),this.scale=new kr(this.onChange,this,1,1),this.pivot=new kr(this.onChange,this,0,0),this.skew=new kr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const i=s.worldTransform,n=this.worldTransform;n.a=t.a*i.a+t.b*i.c,n.b=t.a*i.b+t.b*i.d,n.c=t.c*i.a+t.d*i.c,n.d=t.c*i.b+t.d*i.d,n.tx=t.tx*i.a+t.ty*i.c+i.tx,n.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};Gf.IDENTITY=new Gf;let vp=Gf;vp.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var mS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,gS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function $v(s,t,i){const n=s.createShader(t);return s.shaderSource(n,i),s.compileShader(n),n}function mf(s){const t=new Array(s);for(let i=0;i<t.length;i++)t[i]=!1;return t}function nx(s,t){switch(s){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return mf(2*t);case"bvec3":return mf(3*t);case"bvec4":return mf(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const la=[{test:s=>s.type==="float"&&s.size===1&&!s.isArray,code:s=>`
            if(uv["${s}"] !== ud["${s}"].value)
            {
                ud["${s}"].value = uv["${s}"]
                gl.uniform1f(ud["${s}"].location, uv["${s}"])
            }
            `},{test:(s,t)=>(s.type==="sampler2D"||s.type==="samplerCube"||s.type==="sampler2DArray")&&s.size===1&&!s.isArray&&(t==null||t.castToBaseTexture!==void 0),code:s=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${s}"], t);

            if(ud["${s}"].value !== t)
            {
                ud["${s}"].value = t;
                gl.uniform1i(ud["${s}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(s,t)=>s.type==="mat3"&&s.size===1&&!s.isArray&&t.a!==void 0,code:s=>`
            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));
            `,codeUbo:s=>`
                var ${s}_matrix = uv.${s}.toArray(true);

                data[offset] = ${s}_matrix[0];
                data[offset+1] = ${s}_matrix[1];
                data[offset+2] = ${s}_matrix[2];
        
                data[offset + 4] = ${s}_matrix[3];
                data[offset + 5] = ${s}_matrix[4];
                data[offset + 6] = ${s}_matrix[5];
        
                data[offset + 8] = ${s}_matrix[6];
                data[offset + 9] = ${s}_matrix[7];
                data[offset + 10] = ${s}_matrix[8];
            `},{test:(s,t)=>s.type==="vec2"&&s.size===1&&!s.isArray&&t.x!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${s}"].location, v.x, v.y);
                }`,codeUbo:s=>`
                v = uv.${s};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:s=>s.type==="vec2"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);
                }
            `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.width!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(s,t)=>s.type==="vec3"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:s=>s.type==="vec4"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])
                }`}],yS={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},vS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function _S(s,t){const i=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in s.uniforms){const l=t[n];if(!l){s.uniforms[n]?.group===!0&&(s.uniforms[n].ubo?i.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):i.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=s.uniforms[n];let h=!1;for(let c=0;c<la.length;c++)if(la[c].test(l,o)){i.push(la[c].code(n,o)),h=!0;break}if(!h){const c=(l.size===1&&!l.isArray?yS:vS)[l.type].replace("location",`ud["${n}"].location`);i.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",i.join(`
`))}const sx={};let $o=sx;function xS(){if($o===sx||$o?.isContextLost()){const s=Et.ADAPTER.createCanvas();let t;Et.PREFER_ENV>=us.WEBGL2&&(t=s.getContext("webgl2",{})),t||(t=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),$o=t}return $o}let Wo;function bS(){if(!Wo){Wo=Ni.MEDIUM;const s=xS();if(s&&s.getShaderPrecisionFormat){const t=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);t&&(Wo=t.precision?Ni.HIGH:Ni.MEDIUM)}}return Wo}function Wv(s,t){const i=s.getShaderSource(t).split(`
`).map((m,g)=>`${g}: ${m}`),n=s.getShaderInfoLog(t),l=n.split(`
`),o={},h=l.map(m=>parseFloat(m.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(m=>m&&!o[m]?(o[m]=!0,!0):!1),c=[""];h.forEach(m=>{i[m-1]=`%c${i[m-1]}%c`,c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=i.join(`
`);c[0]=p,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...c),console.groupEnd()}function ES(s,t,i,n){s.getProgramParameter(t,s.LINK_STATUS)||(s.getShaderParameter(i,s.COMPILE_STATUS)||Wv(s,i),s.getShaderParameter(n,s.COMPILE_STATUS)||Wv(s,n),console.error("PixiJS Error: Could not initialize shader."),s.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(t)))}const TS={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ax(s){return TS[s]}let Zo=null;const Zv={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function lx(s,t){if(!Zo){const i=Object.keys(Zv);Zo={};for(let n=0;n<i.length;++n){const l=i[n];Zo[s[l]]=Zv[l]}}return Zo[t]}function Kv(s,t,i){if(s.substring(0,9)!=="precision"){let n=t;return t===Ni.HIGH&&i!==Ni.HIGH&&(n=Ni.MEDIUM),`precision ${n} float;
${s}`}else if(i!==Ni.HIGH&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}let cl;function SS(){if(typeof cl=="boolean")return cl;try{cl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{cl=!1}return cl}let AS=0;const Ko={},zf=class ta{constructor(t,i,n="pixi-shader",l={}){this.extra={},this.id=AS++,this.vertexSrc=t||ta.defaultVertexSrc,this.fragmentSrc=i||ta.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=l,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Ko[n]?(Ko[n]++,n+=`-${Ko[n]}`):Ko[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=Kv(this.vertexSrc,ta.defaultVertexPrecision,Ni.HIGH),this.fragmentSrc=Kv(this.fragmentSrc,ta.defaultFragmentPrecision,bS())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return gS}static get defaultFragmentSrc(){return mS}static from(t,i,n){const l=t+i;let o=jv[l];return o||(jv[l]=o=new ta(t,i,n)),o}};zf.defaultVertexPrecision=Ni.HIGH,zf.defaultFragmentPrecision=Fr.apple.device?Ni.HIGH:Ni.MEDIUM;let Gr=zf,wS=0;class qi{constructor(t,i,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=wS++,this.static=!!i,this.ubo=!!n,t instanceof Ae?(this.buffer=t,this.buffer.type=ur.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ae(new Float32Array(1)),this.buffer.type=ur.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,i,n){if(!this.ubo)this.uniforms[t]=new qi(i,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,i,n){return new qi(t,i,n)}static uboFrom(t,i){return new qi(t,i??!0,!0)}}class hr{constructor(t,i){this.uniformBindCount=0,this.program=t,i?i instanceof qi?this.uniformGroup=i:this.uniformGroup=new qi(i):this.uniformGroup=new qi({}),this.disposeRunner=new Vi("disposeShader")}checkUniformExists(t,i){if(i.uniforms[t])return!0;for(const n in i.uniforms){const l=i.uniforms[n];if(l.group===!0&&this.checkUniformExists(t,l))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,i,n){const l=Gr.from(t,i);return new hr(l,n)}}class CS{constructor(t,i){if(this.vertexSrc=t,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},!i.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!i.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let o=0;o<t;o++)n[o]=o;this.defaultGroupCache[t]=qi.from({uSamplers:n},!0);let l=this.fragTemplate;l=l.replace(/%count%/gi,`${t}`),l=l.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Gr(this.vertexSrc,l)}const i={tint:new Float32Array([1,1,1,1]),translationMatrix:new me,default:this.defaultGroupCache[t]};return new hr(this.programCache[t],i)}generateSampleSrc(t){let i="";i+=`
`,i+=`
`;for(let n=0;n<t;n++)n>0&&(i+=`
else `),n<t-1&&(i+=`if(vTextureId < ${n}.5)`),i+=`
{`,i+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,i+=`
}`;return i+=`
`,i+=`
`,i}}class Hf{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function RS(){return!Fr.apple.device}function MS(s){let t=!0;const i=Et.ADAPTER.getNavigator();if(Fr.tablet||Fr.phone){if(Fr.apple.device){const n=i.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(Fr.android.device){const n=i.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?s:4}class Xu{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var DS=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,OS=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const yl=class Hi extends Xu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=ix,this.vertexSize=6,this.state=dr.for2d(),this.size=Hi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??MS(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??RS(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return qt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return OS}static get defaultFragmentTemplate(){return DS}setShaderGenerator({vertex:t=Hi.defaultVertexSrc,fragment:i=Hi.defaultFragmentTemplate}={}){this.shaderGenerator=new CS(t,i)}contextChange(){const t=this.renderer.gl;Et.PREFER_ENV===us.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Hi.defaultMaxTextures),this.maxTextures=sS(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:i}=Hi,n=this.size/4,l=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new Ff);for(;i.length<l;)i.push(new Hf);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:i}=this,n=Hi._textureArrayPool,l=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count;let c=++Pt._globalBatch,p=0,m=n[0],g=0;l.copyBoundTextures(o,i);for(let y=0;y<this._bufferSize;++y){const _=t[y];t[y]=null,_._batchEnabled!==c&&(m.count>=i&&(l.boundArray(m,o,c,i),this.buildDrawCalls(m,g,y),g=y,m=n[++p],++c),_._batchEnabled=c,_.touched=h,m.elements[m.count++]=_)}m.count>0&&(l.boundArray(m,o,c,i),this.buildDrawCalls(m,g,this._bufferSize),++p,++c);for(let y=0;y<o.length;y++)o[y]=null;Pt._globalBatch=c}buildDrawCalls(t,i,n){const{_bufferedElements:l,_attributeBuffer:o,_indexBuffer:h,vertexSize:c}=this,p=Hi._drawCallPool;let m=this._dcIndex,g=this._aIndex,y=this._iIndex,_=p[m];_.start=this._iIndex,_.texArray=t;for(let E=i;E<n;++E){const x=l[E],b=x._texture.baseTexture,S=Q_[b.alphaMode?1:0][x.blendMode];l[E]=null,i<E&&_.blend!==S&&(_.size=y-_.start,i=E,_=p[++m],_.texArray=t,_.start=y),this.packInterleavedGeometry(x,o,h,g,y),g+=x.vertexData.length/2*c,y+=x.indices.length,_.blend=S}i<n&&(_.size=y-_.start,++m),this._dcIndex=m,this._aIndex=g,this._iIndex=y}bindAndClearTexArray(t){const i=this.renderer.texture;for(let n=0;n<t.count;n++)i.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:i,_indexBuffer:n}=this;Hi.canUploadSameBuffer?(t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:i,state:n}=this.renderer,l=Hi._drawCallPool;let o=null;for(let h=0;h<t;h++){const{texArray:c,type:p,size:m,start:g,blend:y}=l[h];o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,n.set(this.state),i.drawElements(p,m,i.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Hi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const i=Eu(Math.ceil(t/8)),n=zv(i),l=i*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[l];return o||(this._aBuffers[l]=o=new Uf(l*this.vertexSize*4)),o}getIndexBuffer(t){const i=Eu(Math.ceil(t/12)),n=zv(i),l=i*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._iBuffers[n];return o||(this._iBuffers[n]=o=new Uint16Array(l)),o}packInterleavedGeometry(t,i,n,l,o){const{uint32View:h,float32View:c}=i,p=l/this.vertexSize,m=t.uvs,g=t.indices,y=t.vertexData,_=t._texture.baseTexture._batchLocation,E=Math.min(t.worldAlpha,1),x=pe.shared.setValue(t._tintRGB).toPremultiplied(E,t._texture.baseTexture.alphaMode>0);for(let b=0;b<y.length;b+=2)c[l++]=y[b],c[l++]=y[b+1],c[l++]=m[b],c[l++]=m[b+1],h[l++]=x,c[l++]=_;for(let b=0;b<g.length;b++)n[o++]=p+g[b]}};yl.defaultBatchSize=4096,yl.extension={name:"batch",type:_t.RendererPlugin},yl._drawCallPool=[],yl._textureArrayPool=[];let Jn=yl;Rt.add(Jn);var BS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,NS=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const jf=class vl extends hr{constructor(t,i,n){const l=Gr.from(t||vl.defaultVertexSrc,i||vl.defaultFragmentSrc);super(l,n),this.padding=0,this.resolution=vl.defaultResolution,this.multisample=vl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new dr}apply(t,i,n,l,o){t.applyFilter(this,i,n,l)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return NS}static get defaultFragmentSrc(){return BS}};jf.defaultResolution=1,jf.defaultMultisample=Oe.NONE;let Je=jf;class Au{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new pe(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:i,background:n,backgroundAlpha:l}=t,o=n??i;o!==void 0&&(this.color=o),this.alpha=l}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Au.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Au.extension={type:[_t.RendererSystem,_t.CanvasRendererSystem],name:"background"};Rt.add(Au);class ox{constructor(t){this.renderer=t,this.emptyRenderer=new Xu(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,i){const{boundTextures:n}=this.renderer.texture;for(let l=i-1;l>=0;--l)t[l]=n[l]||null,t[l]&&(t[l]._batchLocation=l)}boundArray(t,i,n,l){const{elements:o,ids:h,count:c}=t;let p=0;for(let m=0;m<c;m++){const g=o[m],y=g._batchLocation;if(y>=0&&y<l&&i[y]===g){h[m]=y;continue}for(;p<l;){const _=i[p];if(_&&_._batchEnabled===n&&_._batchLocation===p){p++;continue}h[m]=p,g._batchLocation=p,i[p]=g;break}}}destroy(){this.renderer=null}}ox.extension={type:_t.RendererSystem,name:"batch"};Rt.add(ox);let Qv=0;class wu{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Qv++}init(t){if(t.context)this.initFromContext(t.context);else{const i=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:i,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Qv++,this.renderer.runners.contextChange.emit(t);const i=this.renderer.view;i.addEventListener!==void 0&&(i.addEventListener("webglcontextlost",this.handleContextLost,!1),i.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const i=this.createContext(this.renderer.view,t);this.initFromContext(i)}createContext(t,i){let n;if(Et.PREFER_ENV>=us.WEBGL2&&(n=t.getContext("webgl2",i)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",i)||t.getContext("experimental-webgl",i),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,i={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,i,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,i,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const i=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),i&&!i.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const l=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=l,l||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}wu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},wu.extension={type:_t.RendererSystem,name:"context"};Rt.add(wu);class Xf{constructor(t,i){if(this.width=Math.round(t),this.height=Math.round(i),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Vi("disposeFramebuffer"),this.multisample=Oe.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,i){return this.colorTextures[t]=i||new Pt(null,{scaleMode:Pr.NEAREST,resolution:1,mipmap:cr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Pt(null,{scaleMode:Pr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:cr.OFF,format:mt.DEPTH_COMPONENT,type:Dt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,i){if(t=Math.round(t),i=Math.round(i),!t||!i)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&i===this.height)){this.width=t,this.height=i,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const l=this.colorTextures[n],o=l.resolution;l.setSize(t/o,i/o)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,i/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ux extends Pt{constructor(t={}){if(typeof t=="number"){const i=arguments[0],n=arguments[1],l=arguments[2],o=arguments[3];t={width:i,height:n,scaleMode:l,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Oe.NONE),super(null,t),this.mipmap=cr.OFF,this.valid=!0,this._clear=new pe([0,0,0,0]),this.framebuffer=new Xf(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,i){this.framebuffer.resize(t*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Hr extends Al{constructor(t){const i=t,n=i.naturalWidth||i.videoWidth||i.displayWidth||i.width,l=i.naturalHeight||i.videoHeight||i.displayHeight||i.height;super(n,l),this.source=t,this.noSubImage=!1}static crossOrigin(t,i,n){n===void 0&&!i.startsWith("data:")?t.crossOrigin=iS(i):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,i,n,l){const o=t.gl,h=i.realWidth,c=i.realHeight;if(l=l||this.source,typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement){if(!l.complete||l.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&l instanceof HTMLVideoElement&&l.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===oi.UNPACK),!this.noSubImage&&i.target===o.TEXTURE_2D&&n.width===h&&n.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,i.format,n.type,l):(n.width=h,n.height=c,o.texImage2D(i.target,0,n.internalFormat,i.format,n.type,l)),!0}update(){if(this.destroyed)return;const t=this.source,i=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(i,n),super.update()}dispose(){this.source=null}}class hx extends Hr{constructor(t,i){if(i=i||{},typeof t=="string"){const n=new Image;Hr.crossOrigin(n,t,i.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(i.createBitmap??Et.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,this.bitmap=null,this._load=null,i.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((i,n)=>{const l=this.source;this.url=l.src;const o=()=>{this.destroyed||(l.onload=null,l.onerror=null,this.update(),this._load=null,this.createBitmap?i(this.process()):i(this))};l.complete&&l.src?o():(l.onload=o,l.onerror=h=>{n(h),this.onError.emit(h)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const i=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(l=>l.blob()).then(l=>i(l,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===oi.UNPACK?"premultiply":"none"})).then(l=>this.destroyed?Promise.reject():(this.bitmap=l,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,i,n){if(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,i,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,i,n,this.bitmap),!this.preserveBitmap){let l=!0;const o=i._glTextures;for(const h in o){const c=o[h];if(c!==n&&c.dirtyId!==i.dirtyId){l=!1;break}}l&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class _p{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,i,n){const l=i.width,o=i.height;if(n){const h=t.width/2/l,c=t.height/2/o,p=t.x/l+h,m=t.y/o+c;n=ve.add(n,ve.NW),this.x0=p+h*ve.uX(n),this.y0=m+c*ve.uY(n),n=ve.add(n,2),this.x1=p+h*ve.uX(n),this.y1=m+c*ve.uY(n),n=ve.add(n,2),this.x2=p+h*ve.uX(n),this.y2=m+c*ve.uY(n),n=ve.add(n,2),this.x3=p+h*ve.uX(n),this.y3=m+c*ve.uY(n)}else this.x0=t.x/l,this.y0=t.y/o,this.x1=(t.x+t.width)/l,this.y1=t.y/o,this.x2=(t.x+t.width)/l,this.y2=(t.y+t.height)/o,this.x3=t.x/l,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}_p.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const Jv=new _p;function Qo(s){s.destroy=function(){},s.on=function(){},s.once=function(){},s.emit=function(){}}class Ct extends wl{constructor(t,i,n,l,o,h,c){if(super(),this.noFrame=!1,i||(this.noFrame=!0,i=new kt(0,0,1,1)),t instanceof Ct&&(t=t.baseTexture),this.baseTexture=t,this._frame=i,this.trim=l,this.valid=!1,this.destroyed=!1,this._uvs=Jv,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new Kt(h.x,h.y):new Kt(0,0),this.defaultBorders=c,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=i:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:i}=this.baseTexture;i?.url&&rr[i.url]&&Ct.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Ct.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const t=this._frame.clone(),i=this._frame===this.orig?t:this.orig.clone(),n=new Ct(this.baseTexture,!this.noFrame&&t,i,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===Jv&&(this._uvs=new _p),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,i={},n=Et.STRICT_TEXTURE_CACHE){const l=typeof t=="string";let o=null;if(l)o=t;else if(t instanceof Pt){if(!t.cacheId){const c=i?.pixiIdPrefix||"pixiid";t.cacheId=`${c}-${as()}`,Pt.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const c=i?.pixiIdPrefix||"pixiid";t._pixiId=`${c}_${as()}`}o=t._pixiId}let h=rr[o];if(l&&n&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!h&&!(t instanceof Pt)?(i.resolution||(i.resolution=zr(t)),h=new Ct(new Pt(t,i)),h.baseTexture.cacheId=o,Pt.addToCache(h.baseTexture,o),Ct.addToCache(h,o)):!h&&t instanceof Pt&&(h=new Ct(t),Ct.addToCache(h,o)),h}static fromURL(t,i){const n=Object.assign({autoLoad:!1},i?.resourceOptions),l=Ct.from(t,Object.assign({resourceOptions:n},i),!1),o=l.baseTexture.resource;return l.baseTexture.valid?Promise.resolve(l):o.load().then(()=>Promise.resolve(l))}static fromBuffer(t,i,n,l){return new Ct(Pt.fromBuffer(t,i,n,l))}static fromLoader(t,i,n,l){const o=new Pt(t,Object.assign({scaleMode:Pt.defaultOptions.scaleMode,resolution:zr(i)},l)),{resource:h}=o;h instanceof hx&&(h.url=i);const c=new Ct(o);return n||(n=i),Pt.addToCache(c.baseTexture,n),Ct.addToCache(c,n),n!==i&&(Pt.addToCache(c.baseTexture,i),Ct.addToCache(c,i)),c.baseTexture.valid?Promise.resolve(c):new Promise(p=>{c.baseTexture.once("loaded",()=>p(c))})}static addToCache(t,i){i&&(t.textureCacheIds.includes(i)||t.textureCacheIds.push(i),rr[i]&&rr[i]!==t&&console.warn(`Texture added to the cache with an id [${i}] that already had an entry`),rr[i]=t)}static removeFromCache(t){if(typeof t=="string"){const i=rr[t];if(i){const n=i.textureCacheIds.indexOf(t);return n>-1&&i.textureCacheIds.splice(n,1),delete rr[t],i}}else if(t?.textureCacheIds){for(let i=0;i<t.textureCacheIds.length;++i)rr[t.textureCacheIds[i]]===t&&delete rr[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:i,y:n,width:l,height:o}=t,h=i+l>this.baseTexture.width,c=n+o>this.baseTexture.height;if(h||c){const p=h&&c?"and":"or",m=`X: ${i} + ${l} = ${i+l} > ${this.baseTexture.width}`,g=`Y: ${n} + ${o} = ${n+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${m} ${p} ${g}`)}this.valid=l&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Ct._EMPTY||(Ct._EMPTY=new Ct(new Pt),Qo(Ct._EMPTY),Qo(Ct._EMPTY.baseTexture)),Ct._EMPTY}static get WHITE(){if(!Ct._WHITE){const t=Et.ADAPTER.createCanvas(16,16),i=t.getContext("2d");t.width=16,t.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),Ct._WHITE=new Ct(Pt.from(t)),Qo(Ct._WHITE),Qo(Ct._WHITE.baseTexture)}return Ct._WHITE}}class hs extends Ct{constructor(t,i){super(t,i),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,i,n=!0){const l=this.baseTexture.resolution,o=Math.round(t*l)/l,h=Math.round(i*l)/l;this.valid=o>0&&h>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=h,n&&this.baseTexture.resize(o,h),this.updateUvs()}setResolution(t){const{baseTexture:i}=this;i.resolution!==t&&(i.setResolution(t),this.resize(i.width,i.height,!1))}static create(t){return new hs(new ux(t))}}class cx{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,i,n=Oe.NONE){const l=new ux(Object.assign({width:t,height:i,resolution:1,multisample:n},this.textureOptions));return new hs(l)}getOptimalTexture(t,i,n=1,l=Oe.NONE){let o;t=Math.max(Math.ceil(t*n-1e-6),1),i=Math.max(Math.ceil(i*n-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||i!==this._pixelsHeight?(t=Eu(t),i=Eu(i),o=((t&65535)<<16|i&65535)>>>0,l>1&&(o+=l*4294967296)):o=l>1?-l:-1,this.texturePool[o]||(this.texturePool[o]=[]);let h=this.texturePool[o].pop();return h||(h=this.createTexture(t,i,l)),h.filterPoolKey=o,h.setResolution(n),h}getFilterTexture(t,i,n){const l=this.getOptimalTexture(t.width,t.height,i||t.resolution,n||Oe.NONE);return l.filterFrame=t.filterFrame,l}returnTexture(t){const i=t.filterPoolKey;t.filterFrame=null,this.texturePool[i].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const i in this.texturePool){const n=this.texturePool[i];if(n)for(let l=0;l<n.length;l++)n[l].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const i in this.texturePool){if(!(Number(i)<0))continue;const n=this.texturePool[i];if(n)for(let l=0;l<n.length;l++)n[l].destroy(!0);this.texturePool[i]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}cx.SCREEN_KEY=-1;class IS extends Sn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class dx extends Sn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ae(this.vertices),this.uvBuffer=new Ae(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,i){let n=0,l=0;return this.uvs[0]=n,this.uvs[1]=l,this.uvs[2]=n+i.width/t.width,this.uvs[3]=l,this.uvs[4]=n+i.width/t.width,this.uvs[5]=l+i.height/t.height,this.uvs[6]=n,this.uvs[7]=l+i.height/t.height,n=i.x,l=i.y,this.vertices[0]=n,this.vertices[1]=l,this.vertices[2]=n+i.width,this.vertices[3]=l,this.vertices[4]=n+i.width,this.vertices[5]=l+i.height,this.vertices[6]=n,this.vertices[7]=l+i.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class US{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Oe.NONE,this.sourceFrame=new kt,this.destinationFrame=new kt,this.bindingSourceFrame=new kt,this.bindingDestinationFrame=new kt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Jo=[new Kt,new Kt,new Kt,new Kt],gf=new me;class fx{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new cx,this.statePool=[],this.quad=new IS,this.quadUv=new dx,this.tempRect=new kt,this.activeState={},this.globalUniforms=new qi({outputFrame:new kt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,i){const n=this.renderer,l=this.defaultFilterStack,o=this.statePool.pop()||new US,h=n.renderTexture;let c,p;if(h.current){const S=h.current;c=S.resolution,p=S.multisample}else c=n.resolution,p=n.multisample;let m=i[0].resolution||c,g=i[0].multisample??p,y=i[0].padding,_=i[0].autoFit,E=i[0].legacy??!0;for(let S=1;S<i.length;S++){const I=i[S];m=Math.min(m,I.resolution||c),g=Math.min(g,I.multisample??p),y=this.useMaxPadding?Math.max(y,I.padding):y+I.padding,_=_&&I.autoFit,E=E||(I.legacy??!0)}l.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),l.push(o),o.resolution=m,o.multisample=g,o.legacy=E,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(y);const x=this.tempRect.copyFrom(h.sourceFrame);n.projection.transform&&this.transformAABB(gf.copyFrom(n.projection.transform).invert(),x),_?(o.sourceFrame.fit(x),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(x)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,h.current?h.current.resolution:n.resolution,h.sourceFrame,h.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,m,g),o.filters=i,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=o.sourceFrame.width,b.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(h.sourceFrame),o.bindingDestinationFrame.copyFrom(h.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,h.bind(o.renderTexture,o.sourceFrame,b),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,i=t.pop(),n=i.filters;this.activeState=i;const l=this.globalUniforms.uniforms;l.outputFrame=i.sourceFrame,l.resolution=i.resolution;const o=l.inputSize,h=l.inputPixel,c=l.inputClamp;if(o[0]=i.destinationFrame.width,o[1]=i.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],h[0]=Math.round(o[0]*i.resolution),h[1]=Math.round(o[1]*i.resolution),h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=i.sourceFrame.width*o[2]-.5*h[2],c[3]=i.sourceFrame.height*o[3]-.5*h[3],i.legacy){const m=l.filterArea;m[0]=i.destinationFrame.width,m[1]=i.destinationFrame.height,m[2]=i.sourceFrame.x,m[3]=i.sourceFrame.y,l.filterClamp=l.inputClamp}this.globalUniforms.update();const p=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,i.renderTexture,p.renderTexture,lr.BLEND,i),this.returnFilterTexture(i.renderTexture);else{let m=i.renderTexture,g=this.getOptimalFilterTexture(m.width,m.height,i.resolution);g.filterFrame=m.filterFrame;let y=0;for(y=0;y<n.length-1;++y){y===1&&i.multisample>1&&(g=this.getOptimalFilterTexture(m.width,m.height,i.resolution),g.filterFrame=m.filterFrame),n[y].apply(this,m,g,lr.CLEAR,i);const _=m;m=g,g=_}n[y].apply(this,m,p.renderTexture,lr.BLEND,i),y>1&&i.multisample>1&&this.returnFilterTexture(i.renderTexture),this.returnFilterTexture(m),this.returnFilterTexture(g)}i.clear(),this.statePool.push(i)}bindAndClear(t,i=lr.CLEAR){const{renderTexture:n,state:l}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t?.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=t.filterFrame.width,h.height=t.filterFrame.height,n.bind(t,t.filterFrame,h)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=l.stateId&1||this.forceClear;(i===lr.CLEAR||i===lr.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,i,n,l){const o=this.renderer;o.state.set(t.state),this.bindAndClear(n,l),t.uniforms.uSampler=i,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(i._frame,i.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(or.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(or.TRIANGLE_STRIP))}calculateSpriteMatrix(t,i){const{sourceFrame:n,destinationFrame:l}=this.activeState,{orig:o}=i._texture,h=t.set(l.width,0,0,l.height,n.x,n.y),c=i.worldTransform.copyTo(me.TEMP_MATRIX);return c.invert(),h.prepend(c),h.scale(1/o.width,1/o.height),h.translate(i.anchor.x,i.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,i,n=1,l=Oe.NONE){return this.texturePool.getOptimalTexture(t,i,n,l)}getFilterTexture(t,i,n){if(typeof t=="number"){const o=t;t=i,i=o}t=t||this.activeState.renderTexture;const l=this.texturePool.getOptimalTexture(t.width,t.height,i||t.resolution,n||Oe.NONE);return l.filterFrame=t.filterFrame,l}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,i){const n=Jo[0],l=Jo[1],o=Jo[2],h=Jo[3];n.set(i.left,i.top),l.set(i.left,i.bottom),o.set(i.right,i.top),h.set(i.right,i.bottom),t.apply(n,n),t.apply(l,l),t.apply(o,o),t.apply(h,h);const c=Math.min(n.x,l.x,o.x,h.x),p=Math.min(n.y,l.y,o.y,h.y),m=Math.max(n.x,l.x,o.x,h.x),g=Math.max(n.y,l.y,o.y,h.y);i.x=c,i.y=p,i.width=m-c,i.height=g-p}roundFrame(t,i,n,l,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){const{a:h,b:c,c:p,d:m}=o;if((Math.abs(c)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(m)>1e-4))return}o=o?gf.copyFrom(o):gf.identity(),o.translate(-n.x,-n.y).scale(l.width/n.width,l.height/n.height).translate(l.x,l.y),this.transformAABB(o,t),t.ceil(i),this.transformAABB(o.invert(),t)}}}fx.extension={type:_t.RendererSystem,name:"filter"};Rt.add(fx);class LS{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Oe.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const PS=new kt;class px{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Xf(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new kt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let i=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Et.PREFER_ENV===us.WEBGL_LEGACY&&(i=null,n=null),i?t.drawBuffers=l=>i.drawBuffersWEBGL(l):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,i,n=0){const{gl:l}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,l.bindFramebuffer(l.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let h=0;h<t.colorTextures.length;h++){const c=t.colorTextures[h];this.renderer.texture.unbind(c.parentTextureArray||c)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),i){const h=i.width>>n,c=i.height>>n,p=h/i.width;this.setViewport(i.x*p,i.y*p,h,c)}else{const h=t.width>>n,c=t.height>>n;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,i,n,l){const o=this.viewport;t=Math.round(t),i=Math.round(i),n=Math.round(n),l=Math.round(l),(o.width!==n||o.height!==l||o.x!==t||o.y!==i)&&(o.x=t,o.y=i,o.width=n,o.height=l,this.gl.viewport(t,i,n,l))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,i,n,l,o=Df.COLOR|Df.DEPTH){const{gl:h}=this;h.clearColor(t,i,n,l),h.clear(o)}initFramebuffer(t){const{gl:i}=this,n=new LS(i.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:i}=this,n=t.glFramebuffers[this.CONTEXT_UID];if(n.stencil){i.bindRenderbuffer(i.RENDERBUFFER,n.stencil);let h;this.renderer.context.webGLVersion===1?h=i.DEPTH_STENCIL:t.depth&&t.stencil?h=i.DEPTH24_STENCIL8:t.depth?h=i.DEPTH_COMPONENT24:h=i.STENCIL_INDEX8,n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,h,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,h,t.width,t.height)}const l=t.colorTextures;let o=l.length;i.drawBuffers||(o=Math.min(o,1));for(let h=0;h<o;h++){const c=l[h],p=c.parentTextureArray||c;this.renderer.texture.bind(p,0),h===0&&n.msaaBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,i){const{gl:n}=this,l=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let h=o.length;n.drawBuffers||(h=Math.min(h,1)),l.multisample>1&&this.canMultisampleFramebuffer(t)?l.msaaBuffer=l.msaaBuffer||n.createRenderbuffer():l.msaaBuffer&&(n.deleteRenderbuffer(l.msaaBuffer),l.msaaBuffer=null,l.blitFramebuffer&&(l.blitFramebuffer.dispose(),l.blitFramebuffer=null));const c=[];for(let p=0;p<h;p++){const m=o[p],g=m.parentTextureArray||m;this.renderer.texture.bind(g,0),p===0&&l.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,l.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,l.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+p,m.target,g._glTextures[this.CONTEXT_UID].texture,i),c.push(n.COLOR_ATTACHMENT0+p))}if(c.length>1&&n.drawBuffers(c),t.depthTexture&&this.writeDepthTexture){const p=t.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,i)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){l.stencil=l.stencil||n.createRenderbuffer();let p,m;this.renderer.context.webGLVersion===1?(p=n.DEPTH_STENCIL_ATTACHMENT,m=n.DEPTH_STENCIL):t.depth&&t.stencil?(p=n.DEPTH_STENCIL_ATTACHMENT,m=n.DEPTH24_STENCIL8):t.depth?(p=n.DEPTH_ATTACHMENT,m=n.DEPTH_COMPONENT24):(p=n.STENCIL_ATTACHMENT,m=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,l.stencil),l.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,m,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,m,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,p,n.RENDERBUFFER,l.stencil)}else l.stencil&&(n.deleteRenderbuffer(l.stencil),l.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:i}=this;let n=Oe.NONE;if(t<=1||i===null)return n;for(let l=0;l<i.length;l++)if(i[l]<=t){n=i[l];break}return n===1&&(n=Oe.NONE),n}blit(t,i,n){const{current:l,renderer:o,gl:h,CONTEXT_UID:c}=this;if(o.context.webGLVersion!==2||!l)return;const p=l.glFramebuffers[c];if(!p)return;if(!t){if(!p.msaaBuffer)return;const g=l.colorTextures[0];if(!g)return;p.blitFramebuffer||(p.blitFramebuffer=new Xf(l.width,l.height),p.blitFramebuffer.addColorTexture(0,g)),t=p.blitFramebuffer,t.colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==l.width||t.height!==l.height)&&(t.width=l.width,t.height=l.height,t.dirtyId++,t.dirtySize++)}i||(i=PS,i.width=l.width,i.height=l.height),n||(n=i);const m=i.width===n.width&&i.height===n.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,p.framebuffer),h.blitFramebuffer(i.left,i.top,i.right,i.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,m?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,i){const n=t.glFramebuffers[this.CONTEXT_UID],l=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),i||(l.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&l.deleteRenderbuffer(n.msaaBuffer),n.stencil&&l.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,i)}disposeAll(t){const i=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<i.length;n++)this.disposeFramebuffer(i[n],t)}forceStencil(){const t=this.current;if(!t)return;const i=t.glFramebuffers[this.CONTEXT_UID];if(!i||i.stencil&&t.stencil)return;t.stencil=!0;const n=t.width,l=t.height,o=this.gl,h=i.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,h);let c,p;this.renderer.context.webGLVersion===1?(c=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH_STENCIL):t.depth?(c=o.DEPTH_STENCIL_ATTACHMENT,p=o.DEPTH24_STENCIL8):(c=o.STENCIL_ATTACHMENT,p=o.STENCIL_INDEX8),i.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,i.multisample,p,n,l):o.renderbufferStorage(o.RENDERBUFFER,p,n,l),o.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new kt}destroy(){this.renderer=null}}px.extension={type:_t.RendererSystem,name:"framebuffer"};Rt.add(px);const yf={5126:4,5123:2,5121:1};class mx{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,i.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Et.PREFER_ENV===us.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=l=>n.bindVertexArrayOES(l),t.deleteVertexArray=l=>n.deleteVertexArrayOES(l)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(i.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(l,o)=>n.vertexAttribDivisorANGLE(l,o),t.drawElementsInstanced=(l,o,h,c,p)=>n.drawElementsInstancedANGLE(l,o,h,c,p),t.drawArraysInstanced=(l,o,h,c)=>n.drawArraysInstancedANGLE(l,o,h,c)):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex}bind(t,i){i=i||this.renderer.shader.shader;const{gl:n}=this;let l=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;l||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=l={},o=!0);const h=l[i.program.id]||this.initGeometryVao(t,i,o);this._activeGeometry=t,this._activeVao!==h&&(this._activeVao=h,this.hasVao?n.bindVertexArray(h):this.activateVao(t,i.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,i=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const l=t.buffers[n];i.update(l)}}checkCompatibility(t,i){const n=t.attributes,l=i.attributeData;for(const o in l)if(!n[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,i){const n=t.attributes,l=i.attributeData,o=["g",t.id];for(const h in n)l[h]&&o.push(h,l[h].location);return o.join("-")}initGeometryVao(t,i,n=!0){const l=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,c=i.program;c.glPrograms[o]||this.renderer.shader.generateProgram(i),this.checkCompatibility(t,c);const p=this.getSignature(t,c),m=t.glVertexArrayObjects[this.CONTEXT_UID];let g=m[p];if(g)return m[c.id]=g,g;const y=t.buffers,_=t.attributes,E={},x={};for(const b in y)E[b]=0,x[b]=0;for(const b in _)!_[b].size&&c.attributeData[b]?_[b].size=c.attributeData[b].size:_[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),E[_[b].buffer]+=_[b].size*yf[_[b].type];for(const b in _){const S=_[b],I=S.size;S.stride===void 0&&(E[S.buffer]===I*yf[S.type]?S.stride=0:S.stride=E[S.buffer]),S.start===void 0&&(S.start=x[S.buffer],x[S.buffer]+=I*yf[S.type])}g=l.createVertexArray(),l.bindVertexArray(g);for(let b=0;b<y.length;b++){const S=y[b];h.bind(S),n&&S._glBuffers[o].refCount++}return this.activateVao(t,c),m[c.id]=g,m[p]=g,l.bindVertexArray(null),h.unbind(ur.ARRAY_BUFFER),g}disposeGeometry(t,i){if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],l=this.gl,o=t.buffers,h=this.renderer?.buffer;if(t.disposeRunner.remove(this),!!n){if(h)for(let c=0;c<o.length;c++){const p=o[c]._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!i&&h.dispose(o[c],i))}if(!i){for(const c in n)if(c[0]==="g"){const p=n[c];this._activeVao===p&&this.unbind(),l.deleteVertexArray(p)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const i=Object.keys(this.managedGeometries);for(let n=0;n<i.length;n++)this.disposeGeometry(this.managedGeometries[i[n]],t)}activateVao(t,i){const n=this.gl,l=this.CONTEXT_UID,o=this.renderer.buffer,h=t.buffers,c=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let p=null;for(const m in c){const g=c[m],y=h[g.buffer],_=y._glBuffers[l];if(i.attributeData[m]){p!==_&&(o.bind(y),p=_);const E=i.attributeData[m].location;if(n.enableVertexAttribArray(E),n.vertexAttribPointer(E,g.size,g.type||n.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)n.vertexAttribDivisor(E,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,i,n,l){const{gl:o}=this,h=this._activeGeometry;if(h.indexBuffer){const c=h.indexBuffer.data.BYTES_PER_ELEMENT,p=c===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?h.instanced?o.drawElementsInstanced(t,i||h.indexBuffer.data.length,p,(n||0)*c,l||1):o.drawElements(t,i||h.indexBuffer.data.length,p,(n||0)*c):console.warn("unsupported index buffer type: uint32")}else h.instanced?o.drawArraysInstanced(t,n,i||h.getSize(),l||1):o.drawArrays(t,n,i||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}mx.extension={type:_t.RendererSystem,name:"geometry"};Rt.add(mx);const t_=new me;class gx{constructor(t,i){this._texture=t,this.mapCoord=new me,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof i>"u"?.5:i,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,i){i===void 0&&(i=t);const n=this.mapCoord;for(let l=0;l<t.length;l+=2){const o=t[l],h=t[l+1];i[l]=o*n.a+h*n.c+n.tx,i[l+1]=o*n.b+h*n.d+n.ty}return i}update(t){const i=this._texture;if(!i||!i.valid||!t&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;const n=i._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const l=i.orig,o=i.trim;o&&(t_.set(l.width/o.width,0,0,l.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(t_));const h=i.baseTexture,c=this.uClampFrame,p=this.clampMargin/h.resolution,m=this.clampOffset;return c[0]=(i._frame.x+p+m)/h.width,c[1]=(i._frame.y+p+m)/h.height,c[2]=(i._frame.x+i._frame.width-p+m)/h.width,c[3]=(i._frame.y+i._frame.height-p+m)/h.height,this.uClampOffset[0]=m/h.realWidth,this.uClampOffset[1]=m/h.realHeight,this.isSimple=i._frame.width===h.width&&i._frame.height===h.height&&i.rotate===0,!0}}var FS=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,kS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class GS extends Je{constructor(t,i,n){let l=null;typeof t!="string"&&i===void 0&&n===void 0&&(l=t,t=void 0,i=void 0,n=void 0),super(t||kS,i||FS,n),this.maskSprite=l,this.maskMatrix=new me}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,i,n,l){const o=this._maskSprite,h=o._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new gx(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,i,n,l))}}class zS{constructor(t=null){this.type=Ne.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Je.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ne.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class yx{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,i){let n=i;if(!n.isMaskData){const o=this.maskDataPool.pop()||new zS;o.pooled=!0,o.maskObject=i,n=o}const l=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(l),n._colorMask=l?l._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Ne.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ne.SCISSOR:this.renderer.scissor.push(n);break;case Ne.STENCIL:this.renderer.stencil.push(n);break;case Ne.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ne.COLOR:this.pushColorMask(n);break}n.type===Ne.SPRITE&&this.maskStack.push(n)}pop(t){const i=this.maskStack.pop();if(!(!i||i._target!==t)){if(i.enabled)switch(i.type){case Ne.SCISSOR:this.renderer.scissor.pop(i);break;case Ne.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case Ne.SPRITE:this.popSpriteMask(i);break;case Ne.COLOR:this.popColorMask(i);break}if(i.reset(),i.pooled&&this.maskDataPool.push(i),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ne.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const i=t.maskObject;i?i.isSprite?t.type=Ne.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Ne.SCISSOR:t.type=Ne.STENCIL:t.type=Ne.COLOR}pushSpriteMask(t){const{maskObject:i}=t,n=t._target;let l=t._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new GS])),l[0].resolution=t.resolution,l[0].multisample=t.multisample,l[0].maskSprite=i;const o=n.filterArea;n.filterArea=i.getBounds(!0),this.renderer.filter.push(n,l),n.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const i=t._colorMask,n=t._colorMask=i&t.colorMask;n!==i&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const i=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==i&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}yx.extension={type:_t.RendererSystem,name:"mask"};Rt.add(yx);class vx{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:i}=this.renderer,n=this.getStackLength();this.maskStack=t;const l=this.getStackLength();l!==n&&(l===0?i.disable(this.glConst):(i.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const e_=new me,i_=[],_x=class fu extends vx{constructor(t){super(t),this.glConst=Et.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const i=t._scissorRect,{maskObject:n}=t,{renderer:l}=this,o=l.renderTexture,h=n.getBounds(!0,i_.pop()??new kt);this.roundFrameToPixels(h,o.current?o.current.resolution:l.resolution,o.sourceFrame,o.destinationFrame,l.projection.transform),i&&h.fit(i),t._scissorRectLocal=h}static isMatrixRotated(t){if(!t)return!1;const{a:i,b:n,c:l,d:o}=t;return(Math.abs(n)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:i}=t;if(!i.isFastRect||!i.isFastRect()||fu.isMatrixRotated(i.worldTransform)||fu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,i,n,l,o){fu.isMatrixRotated(o)||(o=o?e_.copyFrom(o):e_.identity(),o.translate(-n.x,-n.y).scale(l.width/n.width,l.height/n.height).translate(l.x,l.y),this.renderer.filter.transformAABB(o,t),t.fit(l),t.x=Math.round(t.x*i),t.y=Math.round(t.y*i),t.width=Math.round(t.width*i),t.height=Math.round(t.height*i))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:i}=this.renderer;t._scissorRect||i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:i}=this.renderer;t&&i_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let i;this.renderer.renderTexture.current?i=t.y:i=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,i,t.width,t.height)}};_x.extension={type:_t.RendererSystem,name:"scissor"};let HS=_x;Rt.add(HS);class xx extends vx{constructor(t){super(t),this.glConst=Et.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const i=t.maskObject,{gl:n}=this.renderer,l=t._stencilCounter;l===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,l,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,o!==0&&(t._colorMask=o,n.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const i=this.renderer.gl;if(this.getStackLength()===0)i.disable(i.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,l=n?n._colorMask:15;l!==0&&(n._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilOp(i.KEEP,i.KEEP,i.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,l!==0&&(n._colorMask=l,i.colorMask((l&1)!==0,(l&2)!==0,(l&4)!==0,(l&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}xx.extension={type:_t.RendererSystem,name:"stencil"};Rt.add(xx);class bx{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return qt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return qt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return qt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const i in t)this.plugins[i]=new t[i](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}bx.extension={type:[_t.RendererSystem,_t.CanvasRendererSystem],name:"_plugin"};Rt.add(bx);class Ex{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new me,this.transform=null}update(t,i,n,l){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,l),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,i,n,l){const o=this.projectionMatrix,h=l?-1:1;o.identity(),o.a=1/i.width*2,o.d=h*(1/i.height*2),o.tx=-1-i.x*o.a,o.ty=-h-i.y*o.d}setTransform(t){}destroy(){this.renderer=null}}Ex.extension={type:_t.RendererSystem,name:"projection"};Rt.add(Ex);const jS=new vp,r_=new kt;class Tx{constructor(t){this.renderer=t,this._tempMatrix=new me}generateTexture(t,i){const{region:n,...l}=i||{},o=n?.copyTo(r_)||t.getLocalBounds(r_,!0),h=l.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/h),o.height=Math.max(o.height,1/h),l.width=o.width,l.height=o.height,l.resolution=h,l.multisample??(l.multisample=this.renderer.multisample);const c=hs.create(l);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const p=t.transform;return t.transform=jS,this.renderer.render(t,{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=p,c}destroy(){}}Tx.extension={type:[_t.RendererSystem,_t.CanvasRendererSystem],name:"textureGenerator"};Rt.add(Tx);const Yn=new kt,dl=new kt;class Sx{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new kt,this.destinationFrame=new kt,this.viewportFrame=new kt}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,i,n){const l=this.renderer;this.current=t;let o,h,c;t?(o=t.baseTexture,c=o.resolution,i||(Yn.width=t.frame.width,Yn.height=t.frame.height,i=Yn),n||(dl.x=t.frame.x,dl.y=t.frame.y,dl.width=i.width,dl.height=i.height,n=dl),h=o.framebuffer):(c=l.resolution,i||(Yn.width=l._view.screen.width,Yn.height=l._view.screen.height,i=Yn),n||(n=Yn,n.width=i.width,n.height=i.height));const p=this.viewportFrame;p.x=n.x*c,p.y=n.y*c,p.width=n.width*c,p.height=n.height*c,t||(p.y=l.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(h,p),this.renderer.projection.update(n,i,c,!h),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(n)}clear(t,i){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,l=pe.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&l.premultiply(l.alpha);const o=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,c=o.width!==h.width||o.height!==h.height;if(c){let{x:p,y:m,width:g,height:y}=this.viewportFrame;p=Math.round(p),m=Math.round(m),g=Math.round(g),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,m,g,y)}this.renderer.framebuffer.clear(l.red,l.green,l.blue,l.alpha,i),c&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Sx.extension={type:_t.RendererSystem,name:"renderTexture"};Rt.add(Sx);class XS{constructor(t,i){this.program=t,this.uniformData=i,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function VS(s,t){const i={},n=t.getProgramParameter(s,t.ACTIVE_ATTRIBUTES);for(let l=0;l<n;l++){const o=t.getActiveAttrib(s,l);if(o.name.startsWith("gl_"))continue;const h=lx(t,o.type),c={type:h,name:o.name,size:ax(h),location:t.getAttribLocation(s,o.name)};i[o.name]=c}return i}function qS(s,t){const i={},n=t.getProgramParameter(s,t.ACTIVE_UNIFORMS);for(let l=0;l<n;l++){const o=t.getActiveUniform(s,l),h=o.name.replace(/\[.*?\]$/,""),c=!!o.name.match(/\[.*?\]$/),p=lx(t,o.type);i[h]={name:h,index:l,type:p,size:o.size,isArray:c,value:nx(p,o.size)}}return i}function YS(s,t){const i=$v(s,s.VERTEX_SHADER,t.vertexSrc),n=$v(s,s.FRAGMENT_SHADER,t.fragmentSrc),l=s.createProgram();s.attachShader(l,i),s.attachShader(l,n);const o=t.extra?.transformFeedbackVaryings;if(o&&(typeof s.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(l,o.names,o.bufferMode==="separate"?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(l),s.getProgramParameter(l,s.LINK_STATUS)||ES(s,l,i,n),t.attributeData=VS(l,s),t.uniformData=qS(l,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const c=Object.keys(t.attributeData);c.sort((p,m)=>p>m?1:-1);for(let p=0;p<c.length;p++)t.attributeData[c[p]].location=p,s.bindAttribLocation(l,p,c[p]);s.linkProgram(l)}s.deleteShader(i),s.deleteShader(n);const h={};for(const c in t.uniformData){const p=t.uniformData[c];h[c]={location:s.getUniformLocation(l,c),value:nx(p.type,p.size)}}return new XS(l,h)}function $S(s,t,i,n,l){i.buffer.update(l)}const WS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Ax={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function ZS(s){const t=s.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let i=0,n=0,l=0;for(let o=0;o<t.length;o++){const h=t[o];if(i=Ax[h.data.type],h.data.size>1&&(i=Math.max(i,16)*h.data.size),h.dataLen=i,n%i!==0&&n<16){const c=n%i%16;n+=c,l+=c}n+i>16?(l=Math.ceil(l/16)*16,h.offset=l,l+=i,n=i):(h.offset=l,n+=i,l+=i)}return l=Math.ceil(l/16)*16,{uboElements:t,size:l}}function KS(s,t){const i=[];for(const n in s)t[n]&&i.push(t[n]);return i.sort((n,l)=>n.index-l.index),i}function QS(s,t){if(!s.autoManage)return{size:0,syncFunc:$S};const i=KS(s.uniforms,t),{uboElements:n,size:l}=ZS(i),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<n.length;h++){const c=n[h],p=s.uniforms[c.data.name],m=c.data.name;let g=!1;for(let y=0;y<la.length;y++){const _=la[y];if(_.codeUbo&&_.test(c.data,p)){o.push(`offset = ${c.offset/4};`,la[y].codeUbo(c.data.name,p)),g=!0;break}}if(!g)if(c.data.size>1){const y=ax(c.data.type),_=Math.max(Ax[c.data.type]/16,1),E=y/_,x=(4-E%4)%4;o.push(`
                cv = ud.${m}.value;
                v = uv.${m};
                offset = ${c.offset/4};

                t = 0;

                for(var i=0; i < ${c.data.size*_}; i++)
                {
                    for(var j = 0; j < ${E}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const y=WS[c.data.type];o.push(`
                cv = ud.${m}.value;
                v = uv.${m};
                offset = ${c.offset/4};
                ${y};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:l,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let JS=0;const tu={textureCount:0,uboCount:0};class wx{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=JS++}systemCheck(){if(!SS())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,i){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,l=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(l.program)),i||(tu.textureCount=0,tu.uboCount=0,this.syncUniformGroup(t.uniformGroup,tu)),l}setUniforms(t){const i=this.shader.program,n=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,i){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,i))}syncUniforms(t,i,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(i.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const i=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[i]||(this.cache[i]=_S(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[i],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,i){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const l=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,i);t.buffer.update(),l(n.uniformData,t.uniforms,this.renderer,tu,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[i])}createSyncBufferGroup(t,i,n){const{gl:l}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(i.program,n);i.uniformBufferBindings[n]=this.shader.uniformBindCount,l.uniformBlockBinding(i.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(t,this.shader.program.uniformData,"ubo");let c=this._uboCache[h];if(c||(c=this._uboCache[h]=QS(t,this.shader.program.uniformData)),t.autoManage){const p=new Float32Array(c.size/4);t.buffer.update(p)}return i.uniformGroups[t.id]=c.syncFunc,i.uniformGroups[t.id]}getSignature(t,i,n){const l=t.uniforms,o=[`${n}-`];for(const h in l)o.push(h),i[h]&&o.push(i[h].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const i=this.gl,n=t.program,l=YS(i,n);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}wx.extension={type:_t.RendererSystem,name:"shader"};Rt.add(wx);class Cu{constructor(t){this.renderer=t}run(t){const{renderer:i}=this;i.runners.init.emit(i.options),t.hello&&console.log(`PixiJS 7.4.3 - ${i.rendererLogId} - https://pixijs.com`),i.resize(i.screen.width,i.screen.height)}destroy(){}}Cu.defaultOptions={hello:!1},Cu.extension={type:[_t.RendererSystem,_t.CanvasRendererSystem],name:"startup"};Rt.add(Cu);function tA(s,t=[]){return t[Nt.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.ADD]=[s.ONE,s.ONE],t[Nt.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.NONE]=[0,0],t[Nt.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],t[Nt.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Nt.SRC_IN]=[s.DST_ALPHA,s.ZERO],t[Nt.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],t[Nt.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Nt.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],t[Nt.DST_IN]=[s.ZERO,s.SRC_ALPHA],t[Nt.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],t[Nt.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],t[Nt.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Nt.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],t}const eA=0,iA=1,rA=2,nA=3,sA=4,aA=5,Cx=class Vf{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Nt.NONE,this._blendEq=!1,this.map=[],this.map[eA]=this.setBlend,this.map[iA]=this.setOffset,this.map[rA]=this.setCullFace,this.map[nA]=this.setDepthTest,this.map[sA]=this.setFrontFace,this.map[aA]=this.setDepthMask,this.checks=[],this.defaultState=new dr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=tA(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let i=this.stateId^t.data,n=0;for(;i;)i&1&&this.map[n].call(this,!!(t.data&1<<n)),i=i>>1,n++;this.stateId=t.data}for(let i=0;i<this.checks.length;i++)this.checks[i](this,t)}forceState(t){t=t||this.defaultState;for(let i=0;i<this.map.length;i++)this.map[i].call(this,!!(t.data&1<<i));for(let i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Vf.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Vf.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const i=this.blendModes[t],n=this.gl;i.length===2?n.blendFunc(i[0],i[1]):n.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,n.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,i){this.gl.polygonOffset(t,i)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,i){const n=this.checks.indexOf(t);i&&n===-1?this.checks.push(t):!i&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,i){t.setBlendMode(i.blendMode)}static checkPolygonOffset(t,i){t.setPolygonOffset(1,i.polygonOffset)}destroy(){this.gl=null}};Cx.extension={type:_t.RendererSystem,name:"state"};let lA=Cx;Rt.add(lA);class oA extends wl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const i=(t.priority??[]).filter(l=>t.systems[l]),n=[...i,...Object.keys(t.systems).filter(l=>!i.includes(l))];for(const l of n)this.addSystem(t.systems[l],l)}addRunners(...t){t.forEach(i=>{this.runners[i]=new Vi(i)})}addSystem(t,i){const n=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=n,this._systemsHash[i]=n;for(const l in this.runners)this.runners[l].add(n);return this}emitWithCustomOptions(t,i){const n=Object.keys(this._systemsHash);t.items.forEach(l=>{const o=n.find(h=>this._systemsHash[h]===l);l[t.name](i[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const _l=class pu{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=pu.defaultMaxIdle,this.checkCountMax=pu.defaultCheckCountMax,this.mode=pu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==pp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,i=t.managedTextures;let n=!1;for(let l=0;l<i.length;l++){const o=i[l];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),i[l]=null,n=!0)}if(n){let l=0;for(let o=0;o<i.length;o++)i[o]!==null&&(i[l++]=i[o]);i.length=l}}unload(t){const i=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&i.destroyTexture(n);for(let l=t.children.length-1;l>=0;l--)this.unload(t.children[l])}destroy(){this.renderer=null}};_l.defaultMode=pp.AUTO,_l.defaultMaxIdle=3600,_l.defaultCheckCountMax=600,_l.extension={type:_t.RendererSystem,name:"textureGC"};let ts=_l;Rt.add(ts);class vf{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Dt.UNSIGNED_BYTE,this.internalFormat=mt.RGBA,this.samplerType=0}}function uA(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[s.RGB]:bt.FLOAT,[s.RGBA]:bt.FLOAT,[s.ALPHA]:bt.FLOAT,[s.LUMINANCE]:bt.FLOAT,[s.LUMINANCE_ALPHA]:bt.FLOAT,[s.R8]:bt.FLOAT,[s.R8_SNORM]:bt.FLOAT,[s.RG8]:bt.FLOAT,[s.RG8_SNORM]:bt.FLOAT,[s.RGB8]:bt.FLOAT,[s.RGB8_SNORM]:bt.FLOAT,[s.RGB565]:bt.FLOAT,[s.RGBA4]:bt.FLOAT,[s.RGB5_A1]:bt.FLOAT,[s.RGBA8]:bt.FLOAT,[s.RGBA8_SNORM]:bt.FLOAT,[s.RGB10_A2]:bt.FLOAT,[s.RGB10_A2UI]:bt.FLOAT,[s.SRGB8]:bt.FLOAT,[s.SRGB8_ALPHA8]:bt.FLOAT,[s.R16F]:bt.FLOAT,[s.RG16F]:bt.FLOAT,[s.RGB16F]:bt.FLOAT,[s.RGBA16F]:bt.FLOAT,[s.R32F]:bt.FLOAT,[s.RG32F]:bt.FLOAT,[s.RGB32F]:bt.FLOAT,[s.RGBA32F]:bt.FLOAT,[s.R11F_G11F_B10F]:bt.FLOAT,[s.RGB9_E5]:bt.FLOAT,[s.R8I]:bt.INT,[s.R8UI]:bt.UINT,[s.R16I]:bt.INT,[s.R16UI]:bt.UINT,[s.R32I]:bt.INT,[s.R32UI]:bt.UINT,[s.RG8I]:bt.INT,[s.RG8UI]:bt.UINT,[s.RG16I]:bt.INT,[s.RG16UI]:bt.UINT,[s.RG32I]:bt.INT,[s.RG32UI]:bt.UINT,[s.RGB8I]:bt.INT,[s.RGB8UI]:bt.UINT,[s.RGB16I]:bt.INT,[s.RGB16UI]:bt.UINT,[s.RGB32I]:bt.INT,[s.RGB32UI]:bt.UINT,[s.RGBA8I]:bt.INT,[s.RGBA8UI]:bt.UINT,[s.RGBA16I]:bt.INT,[s.RGBA16UI]:bt.UINT,[s.RGBA32I]:bt.INT,[s.RGBA32UI]:bt.UINT,[s.DEPTH_COMPONENT16]:bt.FLOAT,[s.DEPTH_COMPONENT24]:bt.FLOAT,[s.DEPTH_COMPONENT32F]:bt.FLOAT,[s.DEPTH_STENCIL]:bt.FLOAT,[s.DEPTH24_STENCIL8]:bt.FLOAT,[s.DEPTH32F_STENCIL8]:bt.FLOAT}:t={[s.RGB]:bt.FLOAT,[s.RGBA]:bt.FLOAT,[s.ALPHA]:bt.FLOAT,[s.LUMINANCE]:bt.FLOAT,[s.LUMINANCE_ALPHA]:bt.FLOAT,[s.DEPTH_STENCIL]:bt.FLOAT},t}function hA(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[Dt.UNSIGNED_BYTE]:{[mt.RGBA]:s.RGBA8,[mt.RGB]:s.RGB8,[mt.RG]:s.RG8,[mt.RED]:s.R8,[mt.RGBA_INTEGER]:s.RGBA8UI,[mt.RGB_INTEGER]:s.RGB8UI,[mt.RG_INTEGER]:s.RG8UI,[mt.RED_INTEGER]:s.R8UI,[mt.ALPHA]:s.ALPHA,[mt.LUMINANCE]:s.LUMINANCE,[mt.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[Dt.BYTE]:{[mt.RGBA]:s.RGBA8_SNORM,[mt.RGB]:s.RGB8_SNORM,[mt.RG]:s.RG8_SNORM,[mt.RED]:s.R8_SNORM,[mt.RGBA_INTEGER]:s.RGBA8I,[mt.RGB_INTEGER]:s.RGB8I,[mt.RG_INTEGER]:s.RG8I,[mt.RED_INTEGER]:s.R8I},[Dt.UNSIGNED_SHORT]:{[mt.RGBA_INTEGER]:s.RGBA16UI,[mt.RGB_INTEGER]:s.RGB16UI,[mt.RG_INTEGER]:s.RG16UI,[mt.RED_INTEGER]:s.R16UI,[mt.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[Dt.SHORT]:{[mt.RGBA_INTEGER]:s.RGBA16I,[mt.RGB_INTEGER]:s.RGB16I,[mt.RG_INTEGER]:s.RG16I,[mt.RED_INTEGER]:s.R16I},[Dt.UNSIGNED_INT]:{[mt.RGBA_INTEGER]:s.RGBA32UI,[mt.RGB_INTEGER]:s.RGB32UI,[mt.RG_INTEGER]:s.RG32UI,[mt.RED_INTEGER]:s.R32UI,[mt.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[Dt.INT]:{[mt.RGBA_INTEGER]:s.RGBA32I,[mt.RGB_INTEGER]:s.RGB32I,[mt.RG_INTEGER]:s.RG32I,[mt.RED_INTEGER]:s.R32I},[Dt.FLOAT]:{[mt.RGBA]:s.RGBA32F,[mt.RGB]:s.RGB32F,[mt.RG]:s.RG32F,[mt.RED]:s.R32F,[mt.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[Dt.HALF_FLOAT]:{[mt.RGBA]:s.RGBA16F,[mt.RGB]:s.RGB16F,[mt.RG]:s.RG16F,[mt.RED]:s.R16F},[Dt.UNSIGNED_SHORT_5_6_5]:{[mt.RGB]:s.RGB565},[Dt.UNSIGNED_SHORT_4_4_4_4]:{[mt.RGBA]:s.RGBA4},[Dt.UNSIGNED_SHORT_5_5_5_1]:{[mt.RGBA]:s.RGB5_A1},[Dt.UNSIGNED_INT_2_10_10_10_REV]:{[mt.RGBA]:s.RGB10_A2,[mt.RGBA_INTEGER]:s.RGB10_A2UI},[Dt.UNSIGNED_INT_10F_11F_11F_REV]:{[mt.RGB]:s.R11F_G11F_B10F},[Dt.UNSIGNED_INT_5_9_9_9_REV]:{[mt.RGB]:s.RGB9_E5},[Dt.UNSIGNED_INT_24_8]:{[mt.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[Dt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[mt.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:t={[Dt.UNSIGNED_BYTE]:{[mt.RGBA]:s.RGBA,[mt.RGB]:s.RGB,[mt.ALPHA]:s.ALPHA,[mt.LUMINANCE]:s.LUMINANCE,[mt.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[Dt.UNSIGNED_SHORT_5_6_5]:{[mt.RGB]:s.RGB},[Dt.UNSIGNED_SHORT_4_4_4_4]:{[mt.RGBA]:s.RGBA},[Dt.UNSIGNED_SHORT_5_5_5_1]:{[mt.RGBA]:s.RGBA}},t}class Rx{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Pt,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=hA(t),this.samplerTypes=uA(t);const i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(let l=0;l<i;l++)this.boundTextures[l]=null;this.emptyTextures={};const n=new vf(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new vf(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let l=0;l<6;l++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let l=0;l<this.boundTextures.length;l++)this.bind(null,l)}bind(t,i=0){const{gl:n}=this;if(t=t?.castToBaseTexture(),t?.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const l=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[i]!==t&&(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(t.target,l.texture)),l.dirtyId!==t.dirtyId?(this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),this.updateTexture(t)):l.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[i]=t}else this.currentLocation!==i&&(this.currentLocation=i,n.activeTexture(n.TEXTURE0+i)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[i]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:i,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let l=0;l<n.length;l++)n[l]===this.unknownTexture&&this.bind(null,l)}for(let l=0;l<n.length;l++)n[l]===t&&(this.currentLocation!==l&&(i.activeTexture(i.TEXTURE0+l),this.currentLocation=l),i.bindTexture(t.target,this.emptyTextures[t.target].texture),n[l]=null)}ensureSamplerType(t){const{boundTextures:i,hasIntegerTextures:n,CONTEXT_UID:l}=this;if(n)for(let o=t-1;o>=0;--o){const h=i[o];h&&h._glTextures[l].samplerType!==bt.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(t){const i=new vf(this.gl.createTexture());return i.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),i}initTextureType(t,i){i.internalFormat=this.internalFormats[t.type]?.[t.format]??t.format,i.samplerType=this.samplerTypes[i.internalFormat]??bt.FLOAT,this.webGLVersion===2&&t.type===Dt.HALF_FLOAT?i.type=this.gl.HALF_FLOAT:i.type=t.type}updateTexture(t){const i=t._glTextures[this.CONTEXT_UID];if(!i)return;const n=this.renderer;if(this.initTextureType(t,i),t.resource?.upload(n,t,i))i.samplerType!==bt.FLOAT&&(this.hasIntegerTextures=!0);else{const l=t.realWidth,o=t.realHeight,h=n.gl;(i.width!==l||i.height!==o||i.dirtyId<0)&&(i.width=l,i.height=o,h.texImage2D(t.target,0,i.internalFormat,l,o,0,t.format,i.type,null))}t.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(t),i.dirtyId=t.dirtyId}destroyTexture(t,i){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!i)){const l=this.managedTextures.indexOf(t);l!==-1&&aa(this.managedTextures,l,1)}}updateTextureStyle(t){const i=t._glTextures[this.CONTEXT_UID];i&&((t.mipmap===cr.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?i.mipmap=!1:i.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?i.wrapMode=Tn.CLAMP:i.wrapMode=t.wrapMode,t.resource?.style(this.renderer,t,i)||this.setStyle(t,i),i.dirtyStyleId=t.dirtyStyleId)}setStyle(t,i){const n=this.gl;if(i.mipmap&&t.mipmap!==cr.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,i.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Pr.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const l=this.renderer.context.extensions.anisotropicFiltering;if(l&&t.anisotropicLevel>0&&t.scaleMode===Pr.LINEAR){const o=Math.min(t.anisotropicLevel,n.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,l.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Pr.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Pr.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}Rx.extension={type:_t.RendererSystem,name:"texture"};Rt.add(Rx);class Mx{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,l)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,i){const{gl:n,renderer:l}=this;i&&l.shader.bind(i),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:i,renderer:n,CONTEXT_UID:l}=this,o=i.createTransformFeedback();t._glTransformFeedbacks[l]=o,i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,o);for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];c&&(n.buffer.update(c),c._glBuffers[l].refCount++,i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,h,c._glBuffers[l].buffer||null))}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,i){const n=t._glTransformFeedbacks[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];if(!c)continue;const p=c._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!i&&o.dispose(c,i))}n&&(i||l.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Mx.extension={type:_t.RendererSystem,name:"transformFeedback"};Rt.add(Mx);class Ru{constructor(t){this.renderer=t}init(t){this.screen=new kt(0,0,t.width,t.height),this.element=t.view||Et.ADAPTER.createCanvas(),this.resolution=t.resolution||Et.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,i){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(i*this.resolution);const n=this.element.width/this.resolution,l=this.element.height/this.resolution;this.screen.width=n,this.screen.height=l,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${l}px`),this.renderer.emit("resize",n,l),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){t&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}Ru.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Ru.extension={type:[_t.RendererSystem,_t.CanvasRendererSystem],name:"_view"};Rt.add(Ru);Et.PREFER_ENV=us.WEBGL2;Et.STRICT_TEXTURE_CACHE=!1;Et.RENDER_OPTIONS={...wu.defaultOptions,...Au.defaultOptions,...Ru.defaultOptions,...Cu.defaultOptions};Object.defineProperties(Et,{WRAP_MODE:{get(){return Pt.defaultOptions.wrapMode},set(s){qt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Pt.defaultOptions.wrapMode=s}},SCALE_MODE:{get(){return Pt.defaultOptions.scaleMode},set(s){qt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Pt.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get(){return Pt.defaultOptions.mipmap},set(s){qt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Pt.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get(){return Pt.defaultOptions.anisotropicLevel},set(s){qt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Pt.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get(){return qt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Je.defaultResolution},set(s){Je.defaultResolution=s}},FILTER_MULTISAMPLE:{get(){return qt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Je.defaultMultisample},set(s){Je.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get(){return Jn.defaultMaxTextures},set(s){qt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Jn.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get(){return Jn.defaultBatchSize},set(s){qt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Jn.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get(){return Jn.canUploadSameBuffer},set(s){qt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Jn.canUploadSameBuffer=s}},GC_MODE:{get(){return ts.defaultMode},set(s){qt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),ts.defaultMode=s}},GC_MAX_IDLE:{get(){return ts.defaultMaxIdle},set(s){qt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),ts.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get(){return ts.defaultCheckCountMax},set(s){qt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),ts.defaultCheckCountMax=s}},PRECISION_VERTEX:{get(){return Gr.defaultVertexPrecision},set(s){qt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Gr.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get(){return Gr.defaultFragmentPrecision},set(s){qt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Gr.defaultFragmentPrecision=s}}});var ls=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(ls||{});class _f{constructor(t,i=null,n=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=i,this.priority=n,this.once=l}match(t,i=null){return this.fn===t&&this.context===i}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const i=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const Dx=class _i{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _f(null,null,1/0),this.deltaMS=1/_i.targetFPMS,this.elapsedMS=1/_i.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,n=ls.NORMAL){return this._addListener(new _f(t,i,n))}addOnce(t,i,n=ls.NORMAL){return this._addListener(new _f(t,i,n,!0))}_addListener(t){let i=this._head.next,n=this._head;if(!i)t.connect(n);else{for(;i;){if(t.priority>i.priority){t.connect(n);break}n=i,i=i.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,i){let n=this._head.next;for(;n;)n.match(t,i)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*_i.targetFPMS;const n=this._head;let l=n.next;for(;l;)l=l.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,i)/1e3,_i.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!_i._shared){const t=_i._shared=new _i;t.autoStart=!0,t._protected=!0}return _i._shared}static get system(){if(!_i._system){const t=_i._system=new _i;t.autoStart=!0,t._protected=!0}return _i._system}};Dx.targetFPMS=.06;let xi=Dx;Object.defineProperties(Et,{TARGET_FPMS:{get(){return xi.targetFPMS},set(s){qt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),xi.targetFPMS=s}}});class Ox{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,ls.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?xi.shared:new xi,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}Ox.extension=_t.Application;Rt.add(Ox);const Bx=[];Rt.handleByList(_t.Renderer,Bx);function cA(s){for(const t of Bx)if(t.test(s))return new t(s);throw new Error("Unable to auto-detect a suitable renderer.")}var dA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const pA=dA,Nx=fA;class Ix{constructor(t){this.renderer=t}contextChange(t){let i;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),i=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),i=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}i>=Oe.HIGH?this.multisample=Oe.HIGH:i>=Oe.MEDIUM?this.multisample=Oe.MEDIUM:i>=Oe.LOW?this.multisample=Oe.LOW:this.multisample=Oe.NONE}destroy(){}}Ix.extension={type:_t.RendererSystem,name:"_multisample"};Rt.add(Ix);class mA{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Ux{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glBuffers[n]||this.createGLBuffer(t);i.bindBuffer(t.type,l.buffer)}unbind(t){const{gl:i}=this;i.bindBuffer(t,null)}bindBufferBase(t,i){const{gl:n,CONTEXT_UID:l}=this;if(this.boundBufferBases[i]!==t){const o=t._glBuffers[l]||this.createGLBuffer(t);this.boundBufferBases[i]=t,n.bindBufferBase(n.UNIFORM_BUFFER,i,o.buffer)}}bindBufferRange(t,i,n){const{gl:l,CONTEXT_UID:o}=this;n=n||0;const h=t._glBuffers[o]||this.createGLBuffer(t);l.bindBufferRange(l.UNIFORM_BUFFER,i||0,h.buffer,n*256,256)}update(t){const{gl:i,CONTEXT_UID:n}=this,l=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==l.updateID)if(l.updateID=t._updateID,i.bindBuffer(t.type,l.buffer),l.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{const o=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;l.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,o)}}dispose(t,i){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],l=this.gl;t.disposeRunner.remove(this),n&&(i||l.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const i=Object.keys(this.managedBuffers);for(let n=0;n<i.length;n++)this.dispose(this.managedBuffers[i[n]],t)}createGLBuffer(t){const{CONTEXT_UID:i,gl:n}=this;return t._glBuffers[i]=new mA(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]}}Ux.extension={type:_t.RendererSystem,name:"buffer"};Rt.add(Ux);class Lx{constructor(t){this.renderer=t}render(t,i){const n=this.renderer;let l,o,h,c;if(i&&(l=i.renderTexture,o=i.clear,h=i.transform,c=i.skipUpdateTransform),this.renderingToScreen=!l,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=h,!n.context.isLost){if(l||(this.lastObjectRendered=t),!c){const p=t.enableTempParent();t.updateTransform(),t.disableTempParent(p)}n.renderTexture.bind(l),n.batch.currentRenderer.start(),(o??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),l&&(i.blit&&n.framebuffer.blit(),l.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Lx.extension={type:_t.RendererSystem,name:"objectRenderer"};Rt.add(Lx);const mu=class qf extends oA{constructor(t){super(),this.type=F_.WEBGL,t=Object.assign({},Et.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new qi({projectionMatrix:new me},!0);const i={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:qf.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(i),"useContextAlpha"in t&&(qt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=qf.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t?.forceCanvas?!1:FT()}render(t,i){this.objectRenderer.render(t,i)}resize(t,i){this._view.resizeView(t,i)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return qt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return qt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return qt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return qt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){qt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return qt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){qt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return qt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,i){return this.textureGenerator.generateTexture(t,i)}};mu.extension={type:_t.Renderer,priority:1},mu.__plugins={},mu.__systems={};let xp=mu;Rt.handleByMap(_t.RendererPlugin,xp.__plugins);Rt.handleByMap(_t.RendererSystem,xp.__systems);Rt.add(xp);class Px extends Al{constructor(t,i){const{width:n,height:l}=i||{};super(n,l),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const h=new Pt;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,i){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof Al?this.addResourceAt(t[n],n):this.addResourceAt(ex(t[n],i),n))}dispose(){for(let t=0,i=this.length;t<i;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,i){if(!this.items[i])throw new Error(`Index ${i} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[i].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let i=0;i<this.length;i++)this.items[i].parentTextureArray=t,this.items[i].on("update",t.update,t)}unbind(t){super.unbind(t);for(let i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(t).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),this.update(),Promise.resolve(this)}),this._load}}class gA extends Px{constructor(t,i){const{width:n,height:l}=i||{};let o,h;Array.isArray(t)?(o=t,h=t.length):h=t,super(h,{width:n,height:l}),o&&this.initFromArray(o,i)}addBaseTextureAt(t,i){if(t.resource)this.addResourceAt(t.resource,i);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=sa.TEXTURE_2D_ARRAY}upload(t,i,n){const{length:l,itemDirtyIds:o,items:h}=this,{gl:c}=t;n.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,l,0,i.format,n.type,null);for(let p=0;p<l;p++){const m=h[p];o[p]<m.dirtyId&&(o[p]=m.dirtyId,m.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,p,m.resource.width,m.resource.height,1,i.format,n.type,m.resource.source))}return!0}}class yA extends Hr{constructor(t){super(t)}static test(t){const{OffscreenCanvas:i}=globalThis;return i&&t instanceof i?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const Fx=class xl extends Px{constructor(t,i){const{width:n,height:l,autoLoad:o,linkBaseTexture:h}=i||{};if(t&&t.length!==xl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:l});for(let c=0;c<xl.SIDES;c++)this.items[c].target=sa.TEXTURE_CUBE_MAP_POSITIVE_X+c;this.linkBaseTexture=h!==!1,t&&this.initFromArray(t,i),o!==!1&&this.load()}bind(t){super.bind(t),t.target=sa.TEXTURE_CUBE_MAP}addBaseTextureAt(t,i,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[i])throw new Error(`Index ${i} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,i);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=sa.TEXTURE_CUBE_MAP_POSITIVE_X+i,t.parentTextureArray=this.baseTexture,this.items[i]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[i]=t,this}upload(t,i,n){const l=this.itemDirtyIds;for(let o=0;o<xl.SIDES;o++){const h=this.items[o];(l[o]<h.dirtyId||n.dirtyId<i.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,n),l[o]=h.dirtyId):l[o]<-1&&(t.gl.texImage2D(h.target,0,n.internalFormat,i.realWidth,i.realHeight,0,i.format,n.type,null),l[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===xl.SIDES}};Fx.SIDES=6;let vA=Fx;class na extends Hr{constructor(t,i){i=i||{};let n,l,o;typeof t=="string"?(n=na.EMPTY,l=t,o=!0):(n=t,l=null,o=!1),super(n),this.url=l,this.crossOrigin=i.crossOrigin??!0,this.alphaMode=typeof i.alphaMode=="number"?i.alphaMode:null,this.ownsImageBitmap=i.ownsImageBitmap??o,this._load=null,i.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,i)=>{if(this.url===null){t(this);return}try{const n=await Et.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const l=await n.blob();if(this.destroyed)return;const o=await createImageBitmap(l,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===oi.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(n){if(this.destroyed)return;i(n),this.onError.emit(n)}}),this._load)}upload(t,i,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(i.alphaMode=this.alphaMode),super.upload(t,i,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return na._EMPTY=na._EMPTY??Et.ADAPTER.createCanvas(0,0),na._EMPTY}}const Yf=class gu extends Hr{constructor(t,i){i=i||{},super(Et.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,i.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},gu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Hr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=i=>{this._resolve&&(t.onerror=null,this.onError.emit(i))},t.onload=()=>{if(!this._resolve)return;const i=t.width,n=t.height;if(!i||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let l=i*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(l=this._overrideWidth||this._overrideHeight/n*i,o=this._overrideHeight||this._overrideWidth/i*n),l=Math.round(l),o=Math.round(o);const h=this.source;h.width=l,h.height=o,h._pixiId=`canvas_${as()}`,h.getContext("2d").drawImage(t,0,0,i,n,0,0,l,o),this._resolve(),this._resolve=null}}static getSize(t){const i=gu.SVG_SIZE.exec(t),n={};return i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,i){return i==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&gu.SVG_XML.test(t)}};Yf.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(\x3C!--[^(-->)]*-->)?\s*\<svg/m,Yf.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let $f=Yf;class _A extends Hr{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const Wf=class Zf extends Hr{constructor(t,i){if(i=i||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");i.autoLoad!==!1&&n.setAttribute("preload","auto"),i.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),i.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),i.loop===!0&&n.setAttribute("loop",""),i.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const l=t[0].src||t[0];Hr.crossOrigin(n,l,i.crossorigin);for(let o=0;o<t.length;++o){const h=document.createElement("source");let{src:c,mime:p}=t[o];if(c=c||t[o],c.startsWith("data:"))p=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){const m=c.split("?").shift().toLowerCase(),g=m.slice(m.lastIndexOf(".")+1);p=p||Zf.MIME_TYPES[g]||`video/${g}`}h.src=c,p&&(h.type=p),n.appendChild(h)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=i.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),i.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const i=xi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((i,n)=>{this.valid?i(this):(this._resolve=i,this._reject=n,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const i=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!i&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(xi.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,i){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Zf.TYPES.includes(i)}};Wf.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Wf.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let kx=Wf;Lf.push(na,hx,yA,kx,_A,$f,Gu,vA,gA);class Mu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?kt.EMPTY:(t=t||new kt(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,i){const{a:n,b:l,c:o,d:h,tx:c,ty:p}=t,m=n*i.x+o*i.y+c,g=l*i.x+h*i.y+p;this.minX=Math.min(this.minX,m),this.maxX=Math.max(this.maxX,m),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(t){let i=this.minX,n=this.minY,l=this.maxX,o=this.maxY,h=t[0],c=t[1];i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[2],c=t[3],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[4],c=t[5],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,h=t[6],c=t[7],i=h<i?h:i,n=c<n?c:n,l=h>l?h:l,o=c>o?c:o,this.minX=i,this.minY=n,this.maxX=l,this.maxY=o}addFrame(t,i,n,l,o){this.addFrameMatrix(t.worldTransform,i,n,l,o)}addFrameMatrix(t,i,n,l,o){const h=t.a,c=t.b,p=t.c,m=t.d,g=t.tx,y=t.ty;let _=this.minX,E=this.minY,x=this.maxX,b=this.maxY,S=h*i+p*n+g,I=c*i+m*n+y;_=S<_?S:_,E=I<E?I:E,x=S>x?S:x,b=I>b?I:b,S=h*l+p*n+g,I=c*l+m*n+y,_=S<_?S:_,E=I<E?I:E,x=S>x?S:x,b=I>b?I:b,S=h*i+p*o+g,I=c*i+m*o+y,_=S<_?S:_,E=I<E?I:E,x=S>x?S:x,b=I>b?I:b,S=h*l+p*o+g,I=c*l+m*o+y,_=S<_?S:_,E=I<E?I:E,x=S>x?S:x,b=I>b?I:b,this.minX=_,this.minY=E,this.maxX=x,this.maxY=b}addVertexData(t,i,n){let l=this.minX,o=this.minY,h=this.maxX,c=this.maxY;for(let p=i;p<n;p+=2){const m=t[p],g=t[p+1];l=m<l?m:l,o=g<o?g:o,h=m>h?m:h,c=g>c?g:c}this.minX=l,this.minY=o,this.maxX=h,this.maxY=c}addVertices(t,i,n,l){this.addVerticesMatrix(t.worldTransform,i,n,l)}addVerticesMatrix(t,i,n,l,o=0,h=o){const c=t.a,p=t.b,m=t.c,g=t.d,y=t.tx,_=t.ty;let E=this.minX,x=this.minY,b=this.maxX,S=this.maxY;for(let I=n;I<l;I+=2){const B=i[I],M=i[I+1],k=c*B+m*M+y,N=g*M+p*B+_;E=Math.min(E,k-o),b=Math.max(b,k+o),x=Math.min(x,N-h),S=Math.max(S,N+h)}this.minX=E,this.minY=x,this.maxX=b,this.maxY=S}addBounds(t){const i=this.minX,n=this.minY,l=this.maxX,o=this.maxY;this.minX=t.minX<i?t.minX:i,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>l?t.maxX:l,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,i){const n=t.minX>i.minX?t.minX:i.minX,l=t.minY>i.minY?t.minY:i.minY,o=t.maxX<i.maxX?t.maxX:i.maxX,h=t.maxY<i.maxY?t.maxY:i.maxY;if(n<=o&&l<=h){const c=this.minX,p=this.minY,m=this.maxX,g=this.maxY;this.minX=n<c?n:c,this.minY=l<p?l:p,this.maxX=o>m?o:m,this.maxY=h>g?h:g}}addBoundsMatrix(t,i){this.addFrameMatrix(i,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,i){const n=t.minX>i.x?t.minX:i.x,l=t.minY>i.y?t.minY:i.y,o=t.maxX<i.x+i.width?t.maxX:i.x+i.width,h=t.maxY<i.y+i.height?t.maxY:i.y+i.height;if(n<=o&&l<=h){const c=this.minX,p=this.minY,m=this.maxX,g=this.maxY;this.minX=n<c?n:c,this.minY=l<p?l:p,this.maxX=o>m?o:m,this.maxY=h>g?h:g}}pad(t=0,i=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i)}addFramePad(t,i,n,l,o,h){t-=o,i-=h,n+=o,l+=h,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<i?this.minY:i,this.maxY=this.maxY>l?this.maxY:l}}class _e extends wl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new vp,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Mu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const i=Object.keys(t);for(let n=0;n<i.length;++n){const l=i[n];Object.defineProperty(_e.prototype,l,Object.getOwnPropertyDescriptor(t,l))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,i){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new kt),i=this._boundsRect),this._bounds.getRectangle(i)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new kt),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Mu);const i=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=n?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const l=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,t);return this.parent=n,this.transform=i,this._bounds=l,this._bounds.updateID+=this._boundsID-o,h}toGlobal(t,i,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,i)}toLocal(t,i,n,l){return i&&(t=i.toGlobal(t,n,l)),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){this.parent?.removeChild(this)}setTransform(t=0,i=0,n=1,l=1,o=0,h=0,c=0,p=0,m=0){return this.position.x=t,this.position.y=i,this.scale.x=n||1,this.scale.y=l||1,this.rotation=o,this.skew.x=h,this.skew.y=c,this.pivot.x=p,this.pivot.y=m,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new xA),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*dS}set angle(t){this.transform.rotation=t*fS}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount--,i._maskRefCount===0&&(i.renderable=!0,i.isMask=!1))}if(this._mask=t,this._mask){const i=this._mask.isMaskData?this._mask.maskObject:this._mask;i&&(i._maskRefCount===0&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++)}}}}class xA extends _e{constructor(){super(...arguments),this.sortDirty=null}}_e.prototype.displayObjectUpdateTransform=_e.prototype.updateTransform;const bA=new me;function EA(s,t){return s.zIndex===t.zIndex?s._lastSortedIndex-t._lastSortedIndex:s.zIndex-t.zIndex}const Gx=class Kf extends _e{constructor(){super(),this.children=[],this.sortableChildren=Kf.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let i=0;i<t.length;i++)this.addChild(t[i]);else{const i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]}addChildAt(t,i){if(i<0||i>this.children.length)throw new Error(`${t}addChildAt: The index ${i} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(i,0,t),this._boundsID++,this.onChildrenChange(i),t.emit("added",this),this.emit("childAdded",t,this,i),t}swapChildren(t,i){if(t===i)return;const n=this.getChildIndex(t),l=this.getChildIndex(i);this.children[n]=i,this.children[l]=t,this.onChildrenChange(n<l?n:l)}getChildIndex(t){const i=this.children.indexOf(t);if(i===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return i}setChildIndex(t,i){if(i<0||i>=this.children.length)throw new Error(`The index ${i} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);aa(this.children,n,1),this.children.splice(i,0,t),this.onChildrenChange(i)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let i=0;i<t.length;i++)this.removeChild(t[i]);else{const i=t[0],n=this.children.indexOf(i);if(n===-1)return null;i.parent=null,i.transform._parentID=-1,aa(this.children,n,1),this._boundsID++,this.onChildrenChange(n),i.emit("removed",this),this.emit("childRemoved",i,this,n)}return t[0]}removeChildAt(t){const i=this.getChildAt(t);return i.parent=null,i.transform._parentID=-1,aa(this.children,t,1),this._boundsID++,this.onChildrenChange(t),i.emit("removed",this),this.emit("childRemoved",i,this,t),i}removeChildren(t=0,i=this.children.length){const n=t,l=i,o=l-n;let h;if(o>0&&o<=l){h=this.children.splice(n,o);for(let c=0;c<h.length;++c)h[c].parent=null,h[c].transform&&(h[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let c=0;c<h.length;++c)h[c].emit("removed",this),this.emit("childRemoved",h[c],this,c);return h}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let i=0,n=this.children.length;i<n;++i){const l=this.children[i];l._lastSortedIndex=i,!t&&l.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(EA),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,i=this.children.length;t<i;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const i=this.children[t];if(!(!i.visible||!i.renderable))if(i.calculateBounds(),i._mask){const n=i._mask.isMaskData?i._mask.maskObject:i._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(i._bounds,n._bounds)):this._bounds.addBounds(i._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,i=!1){const n=super.getLocalBounds(t);if(!i)for(let l=0,o=this.children.length;l<o;++l){const h=this.children[l];h.visible&&h.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const i=t.renderTexture.sourceFrame;if(!(i.width>0&&i.height>0))return;let n,l;this.cullArea?(n=this.cullArea,l=this.worldTransform):this._render!==Kf.prototype._render&&(n=this.getBounds(!0));const o=t.projection.transform;if(o&&(l?(l=bA.copyFrom(l),l.prepend(o)):l=o),n&&i.intersects(n,l))this._render(t);else if(this.cullArea)return;for(let h=0,c=this.children.length;h<c;++h){const p=this.children[h],m=p.cullable;p.cullable=m||!this.cullArea,p.render(t),p.cullable=m}}render(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(t)}}renderAdvanced(t){const i=this.filters,n=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}const l=i&&this._enabledFilters?.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ne.NONE));if(l&&t.batch.flush(),i&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let o=0,h=this.children.length;o<h;++o)this.children[o].render(t)}l&&t.batch.flush(),n&&t.mask.pop(this),i&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const i=typeof t=="boolean"?t:t?.children,n=this.removeChildren(0,this.children.length);if(i)for(let l=0;l<n.length;++l)n[l].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const i=this.getLocalBounds().width;i!==0?this.scale.x=t/i:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const i=this.getLocalBounds().height;i!==0?this.scale.y=t/i:this.scale.y=1,this._height=t}};Gx.defaultSortableChildren=!1;let Yi=Gx;Yi.prototype.containerUpdateTransform=Yi.prototype.updateTransform;Object.defineProperties(Et,{SORTABLE_CHILDREN:{get(){return Yi.defaultSortableChildren},set(s){qt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Yi.defaultSortableChildren=s}}});const fl=new Kt,TA=new Uint16Array([0,1,2,0,2,3]);class fa extends Yi{constructor(t){super(),this._anchor=new kr(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new pe(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Nt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||Ct.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=TA,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Et.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=bn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=bn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const i=this.transform.worldTransform,n=i.a,l=i.b,o=i.c,h=i.d,c=i.tx,p=i.ty,m=this.vertexData,g=t.trim,y=t.orig,_=this._anchor;let E=0,x=0,b=0,S=0;if(g?(x=g.x-_._x*y.width,E=x+g.width,S=g.y-_._y*y.height,b=S+g.height):(x=-_._x*y.width,E=x+y.width,S=-_._y*y.height,b=S+y.height),m[0]=n*x+o*S+c,m[1]=h*S+l*x+p,m[2]=n*E+o*S+c,m[3]=h*S+l*E+p,m[4]=n*E+o*b+c,m[5]=h*b+l*E+p,m[6]=n*x+o*b+c,m[7]=h*b+l*x+p,this._roundPixels){const I=Et.RESOLUTION;for(let B=0;B<m.length;++B)m[B]=Math.round(m[B]*I)/I}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,i=this.vertexTrimmedData,n=t.orig,l=this._anchor,o=this.transform.worldTransform,h=o.a,c=o.b,p=o.c,m=o.d,g=o.tx,y=o.ty,_=-l._x*n.width,E=_+n.width,x=-l._y*n.height,b=x+n.height;if(i[0]=h*_+p*x+g,i[1]=m*x+c*_+y,i[2]=h*E+p*x+g,i[3]=m*x+c*E+y,i[4]=h*E+p*b+g,i[5]=m*b+c*E+y,i[6]=h*_+p*b+g,i[7]=m*b+c*_+y,this._roundPixels){const S=Et.RESOLUTION;for(let I=0;I<i.length;++I)i[I]=Math.round(i[I]*S)/S}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,i=this._texture.orig;!t||t.width===i.width&&t.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new Mu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new kt),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,fl);const i=this._texture.orig.width,n=this._texture.orig.height,l=-i*this.anchor.x;let o=0;return fl.x>=l&&fl.x<l+i&&(o=-n*this.anchor.y,fl.y>=o&&fl.y<o+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(t,i){const n=t instanceof Ct?t:Ct.from(t,i);return new fa(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const i=bn(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const i=bn(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||Ct.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const zx=new me;_e.prototype._cacheAsBitmap=!1;_e.prototype._cacheData=null;_e.prototype._cacheAsBitmapResolution=null;_e.prototype._cacheAsBitmapMultisample=null;class SA{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(_e.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;this._cacheAsBitmap=s;let t;s?(this._cacheData||(this._cacheData=new SA),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});_e.prototype._renderCached=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))};_e.prototype._initCachedDisplayObject=function(s){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,s.batch.flush();const i=this.getLocalBounds(new kt,!0);if(this.filters?.length){const _=this.filters[0].padding;i.pad(_)}const n=this.cacheAsBitmapResolution||s.resolution;i.ceil(n),i.width=Math.max(i.width,1/n),i.height=Math.max(i.height,1/n);const l=s.renderTexture.current,o=s.renderTexture.sourceFrame.clone(),h=s.renderTexture.destinationFrame.clone(),c=s.projection.transform,p=hs.create({width:i.width,height:i.height,resolution:n,multisample:this.cacheAsBitmapMultisample??s.multisample}),m=`cacheAsBitmap_${as()}`;this._cacheData.textureCacheId=m,Pt.addToCache(p.baseTexture,m),Ct.addToCache(p,m);const g=this.transform.localTransform.copyTo(zx).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:p,clear:!0,transform:g,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=c,s.renderTexture.bind(l,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const y=new fa(p);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(i.x/i.width),y.anchor.y=-(i.y/i.height),y.alpha=t,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)};_e.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))};_e.prototype._initCachedDisplayObjectCanvas=function(s){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new kt,!0),i=this.alpha;this.alpha=1;const n=s.canvasContext.activeContext,l=s._projTransform,o=this.cacheAsBitmapResolution||s.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const h=hs.create({width:t.width,height:t.height,resolution:o}),c=`cacheAsBitmap_${as()}`;this._cacheData.textureCacheId=c,Pt.addToCache(h.baseTexture,c),Ct.addToCache(h,c);const p=zx;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=t.x,p.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:h,clear:!0,transform:p,skipUpdateTransform:!1}),s.canvasContext.activeContext=n,s._projTransform=l,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const m=new fa(h);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(t.x/t.width),m.anchor.y=-(t.y/t.height),m.alpha=i,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=m.containsPoint.bind(m)};_e.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};_e.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};_e.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Pt.removeFromCache(this._cacheData.textureCacheId),Ct.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};_e.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)};_e.prototype.name=null;Yi.prototype.getChildByName=function(s,t){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===s)return this.children[i];if(t)for(let i=0,n=this.children.length;i<n;i++){const l=this.children[i];if(!l.getChildByName)continue;const o=l.getChildByName(s,!0);if(o)return o}return null};_e.prototype.getGlobalPosition=function(s=new Kt,t=!1){return this.parent?this.parent.toGlobal(this.position,s,t):(s.x=this.position.x,s.y=this.position.y),s};var AA=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class wA extends Je{constructor(t=1){super(pA,AA,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const CA={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},RA=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function MA(s){const t=CA[s],i=t.length;let n=RA,l="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let h;for(let c=0;c<s;c++){let p=o.replace("%index%",c.toString());h=c,c>=i&&(h=s-c-1),p=p.replace("%value%",t[h].toString()),l+=p,l+=`
`}return n=n.replace("%blur%",l),n=n.replace("%size%",s.toString()),n}const DA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function OA(s,t){const i=Math.ceil(s/2);let n=DA,l="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let h=0;h<s;h++){let c=o.replace("%index%",h.toString());c=c.replace("%sampleIndex%",`${h-(i-1)}.0`),l+=c,l+=`
`}return n=n.replace("%blur%",l),n=n.replace("%size%",s.toString()),n}class Qf extends Je{constructor(t,i=8,n=4,l=Je.defaultResolution,o=5){const h=OA(o,t),c=MA(o);super(h,c),this.horizontal=t,this.resolution=l,this._quality=0,this.quality=n,this.blur=i}apply(t,i,n,l){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/i.width):this.uniforms.strength=1/n.height*(n.height/i.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/i.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,i,n,l);else{const o=t.getFilterTexture(),h=t.renderer;let c=i,p=o;this.state.blend=!1,t.applyFilter(this,c,p,lr.CLEAR);for(let m=1;m<this.passes-1;m++){t.bindAndClear(c,lr.BLIT),this.uniforms.uSampler=p;const g=p;p=c,c=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,p,n,l),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class BA extends Je{constructor(t=8,i=4,n=Je.defaultResolution,l=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Qf(!0,t,i,n,l),this.blurYFilter=new Qf(!1,t,i,n,l),this.resolution=n,this.quality=i,this.blur=t,this.repeatEdgePixels=!1}apply(t,i,n,l){const o=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(o&&h){const c=t.getFilterTexture();this.blurXFilter.apply(t,i,c,lr.CLEAR),this.blurYFilter.apply(t,c,n,l),t.returnFilterTexture(c)}else h?this.blurYFilter.apply(t,i,n,l):this.blurXFilter.apply(t,i,n,l)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var NA=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Jf extends Je{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Nx,NA,t),this.alpha=1}_loadMatrix(t,i=!1){let n=t;i&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(t,i,n){return t[0]=i[0]*n[0]+i[1]*n[5]+i[2]*n[10]+i[3]*n[15],t[1]=i[0]*n[1]+i[1]*n[6]+i[2]*n[11]+i[3]*n[16],t[2]=i[0]*n[2]+i[1]*n[7]+i[2]*n[12]+i[3]*n[17],t[3]=i[0]*n[3]+i[1]*n[8]+i[2]*n[13]+i[3]*n[18],t[4]=i[0]*n[4]+i[1]*n[9]+i[2]*n[14]+i[3]*n[19]+i[4],t[5]=i[5]*n[0]+i[6]*n[5]+i[7]*n[10]+i[8]*n[15],t[6]=i[5]*n[1]+i[6]*n[6]+i[7]*n[11]+i[8]*n[16],t[7]=i[5]*n[2]+i[6]*n[7]+i[7]*n[12]+i[8]*n[17],t[8]=i[5]*n[3]+i[6]*n[8]+i[7]*n[13]+i[8]*n[18],t[9]=i[5]*n[4]+i[6]*n[9]+i[7]*n[14]+i[8]*n[19]+i[9],t[10]=i[10]*n[0]+i[11]*n[5]+i[12]*n[10]+i[13]*n[15],t[11]=i[10]*n[1]+i[11]*n[6]+i[12]*n[11]+i[13]*n[16],t[12]=i[10]*n[2]+i[11]*n[7]+i[12]*n[12]+i[13]*n[17],t[13]=i[10]*n[3]+i[11]*n[8]+i[12]*n[13]+i[13]*n[18],t[14]=i[10]*n[4]+i[11]*n[9]+i[12]*n[14]+i[13]*n[19]+i[14],t[15]=i[15]*n[0]+i[16]*n[5]+i[17]*n[10]+i[18]*n[15],t[16]=i[15]*n[1]+i[16]*n[6]+i[17]*n[11]+i[18]*n[16],t[17]=i[15]*n[2]+i[16]*n[7]+i[17]*n[12]+i[18]*n[17],t[18]=i[15]*n[3]+i[16]*n[8]+i[17]*n[13]+i[18]*n[18],t[19]=i[15]*n[4]+i[16]*n[9]+i[17]*n[14]+i[18]*n[19]+i[19],t}_colorMatrix(t){const i=new Float32Array(t);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i}brightness(t,i){const n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)}tint(t,i){const[n,l,o]=pe.shared.setValue(t).toArray(),h=[n,0,0,0,0,0,l,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(h,i)}greyscale(t,i){const n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,i)}blackAndWhite(t){const i=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(i,t)}hue(t,i){t=(t||0)/180*Math.PI;const n=Math.cos(t),l=Math.sin(t),o=Math.sqrt,h=1/3,c=o(h),p=n+(1-n)*h,m=h*(1-n)-c*l,g=h*(1-n)+c*l,y=h*(1-n)+c*l,_=n+h*(1-n),E=h*(1-n)-c*l,x=h*(1-n)-c*l,b=h*(1-n)+c*l,S=n+h*(1-n),I=[p,m,g,0,0,y,_,E,0,0,x,b,S,0,0,0,0,0,1,0];this._loadMatrix(I,i)}contrast(t,i){const n=(t||0)+1,l=-.5*(n-1),o=[n,0,0,0,l,0,n,0,0,l,0,0,n,0,l,0,0,0,1,0];this._loadMatrix(o,i)}saturate(t=0,i){const n=t*2/3+1,l=(n-1)*-.5,o=[n,l,l,0,0,l,n,l,0,0,l,l,n,0,0,0,0,0,1,0];this._loadMatrix(o,i)}desaturate(){this.saturate(-1)}negative(t){const i=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(i,t)}sepia(t){const i=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(i,t)}technicolor(t){const i=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(i,t)}polaroid(t){const i=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(i,t)}toBGR(t){const i=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(i,t)}kodachrome(t){const i=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(i,t)}browni(t){const i=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(i,t)}vintage(t){const i=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(i,t)}colorTone(t,i,n,l,o){t=t||.2,i=i||.15,n=n||16770432,l=l||3375104;const h=pe.shared,[c,p,m]=h.setValue(n).toArray(),[g,y,_]=h.setValue(l).toArray(),E=[.3,.59,.11,0,0,c,p,m,t,0,g,y,_,i,0,c-g,p-y,m-_,0,0];this._loadMatrix(E,o)}night(t,i){t=t||.1;const n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,i)}predator(t,i){const n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,i)}lsd(t){const i=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(i,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}Jf.prototype.grayscale=Jf.prototype.greyscale;var IA=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,UA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class LA extends Je{constructor(t,i){const n=new me;t.renderable=!1,super(UA,IA,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=n,i==null&&(i=20),this.scale=new Kt(i,i)}apply(t,i,n,l){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,h=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);h!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/h,this.uniforms.rotation[1]=o.b/h,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),t.applyFilter(this,i,n,l)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var PA=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,FA=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class kA extends Je{constructor(){super(FA,PA)}}var GA=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class zA extends Je{constructor(t=.5,i=Math.random()){super(Nx,GA,{uNoise:0,uSeed:0}),this.noise=t,this.seed=i}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const n_={AlphaFilter:wA,BlurFilter:BA,BlurFilterPass:Qf,ColorMatrixFilter:Jf,DisplacementFilter:LA,FXAAFilter:kA,NoiseFilter:zA};Object.entries(n_).forEach(([s,t])=>{Object.defineProperty(n_,s,{get(){return qt("7.1.0",`filters.${s} has moved to ${s}`),t}})});class HA{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(xi.system.add(this.tickerUpdate,this,ls.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(xi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const xn=new HA;class Cl{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Cl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Kt,this.page=new Kt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,i,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,i,n,l,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Du extends Cl{constructor(){super(...arguments),this.client=new Kt,this.movement=new Kt,this.offset=new Kt,this.global=new Kt,this.screen=new Kt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,i,n){return t.worldTransform.applyInverse(n||this.global,i)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,i,n,l,o,h,c,p,m,g,y,_,E,x,b){throw new Error("Method not implemented.")}}class ji extends Du{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class oa extends Du{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}oa.DOM_DELTA_PIXEL=0,oa.DOM_DELTA_LINE=1,oa.DOM_DELTA_PAGE=2;const jA=2048,XA=new Kt,xf=new Kt;class VA{constructor(t){this.dispatch=new wl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,i){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:i,priority:0}),this.mappingTable[t].sort((n,l)=>n.priority-l.priority)}dispatchEvent(t,i){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,i),this.dispatch.emit(i||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const i=this.mappingTable[t.type];if(i)for(let n=0,l=i.length;n<l;n++)i[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,i){xn.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",l=this[n](this.rootTarget,this.rootTarget.eventMode,XA.set(t,i),this.hitTestFn,this.hitPruneFn);return l&&l[0]}propagate(t,i){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let l=0,o=n.length-1;l<o;l++)if(t.currentTarget=n[l],this.notifyTarget(t,i),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,i),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let l=n.length-2;l>=0;l--)if(t.currentTarget=n[l],this.notifyTarget(t,i),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,i,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const l=Array.isArray(i)?i:[i];for(let o=n.length-1;o>=0;o--)l.forEach(h=>{t.currentTarget=n[o],this.notifyTarget(t,h)})}propagationPath(t){const i=[t];for(let n=0;n<jA&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");i.push(t.parent),t=t.parent}return i.reverse(),i}hitTestMoveRecursive(t,i,n,l,o,h=!1){let c=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||i==="dynamic")&&(xn.pauseUpdate=!1),t.interactiveChildren&&t.children){const g=t.children;for(let y=g.length-1;y>=0;y--){const _=g[y],E=this.hitTestMoveRecursive(_,this._isInteractive(i)?i:_.eventMode,n,l,o,h||o(t,n));if(E){if(E.length>0&&!E[E.length-1].parent)continue;const x=t.isInteractive();(E.length>0||x)&&(x&&this._allInteractiveElements.push(t),E.push(t)),this._hitElements.length===0&&(this._hitElements=E),c=!0}}}const p=this._isInteractive(i),m=t.isInteractive();return p&&m&&this._allInteractiveElements.push(t),h||this._hitElements.length>0?null:c?this._hitElements:p&&!o(t,n)&&l(t,n)?m?[t]:[]:null}hitTestRecursive(t,i,n,l,o){if(this._interactivePrune(t)||o(t,n))return null;if((t.eventMode==="dynamic"||i==="dynamic")&&(xn.pauseUpdate=!1),t.interactiveChildren&&t.children){const p=t.children;for(let m=p.length-1;m>=0;m--){const g=p[m],y=this.hitTestRecursive(g,this._isInteractive(i)?i:g.eventMode,n,l,o);if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=t.isInteractive();return(y.length>0||_)&&y.push(t),y}}}const h=this._isInteractive(i),c=t.isInteractive();return h&&l(t,n)?c?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,i){if(t.hitArea&&(t.worldTransform.applyInverse(i,xf),!t.hitArea.contains(xf.x,xf.y)))return!0;if(t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;if(n&&!n.containsPoint?.(i))return!0}return!1}hitTestFn(t,i){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(i):!1}notifyTarget(t,i){i=i??t.type;const n=`on${i}`;t.currentTarget[n]?.(t);const l=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${i}capture`:i;this.notifyListeners(t,l),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,i)}mapPointerDown(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerdown"),i.pointerType==="touch")this.dispatchEvent(i,"touchstart");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.dispatchEvent(i,l?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=i.composedPath(),this.freeEvent(i)}mapPointerMove(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const i=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=i.pointerType==="mouse"||i.pointerType==="pen",l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.overTargets);if(l.overTargets?.length>0&&o!==i.target){const p=t.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(t,p,o);if(this.dispatchEvent(m,"pointerout"),n&&this.dispatchEvent(m,"mouseout"),!i.composedPath().includes(o)){const g=this.createPointerEvent(t,"pointerleave",o);for(g.eventPhase=g.AT_TARGET;g.target&&!i.composedPath().includes(g.target);)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseleave"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(m)}if(o!==i.target){const p=t.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(i,p);this.dispatchEvent(m,"pointerover"),n&&this.dispatchEvent(m,"mouseover");let g=o?.parent;for(;g&&g!==this.rootTarget.parent&&g!==i.target;)g=g.parent;if(!g||g===this.rootTarget.parent){const y=this.clonePointerEvent(i,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==o&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(m)}const h=[],c=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(i,"pointermove"),c&&h.push("globalpointermove"),i.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),c&&h.push("globaltouchmove")),n&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),c&&h.push("globalmousemove"),this.cursor=i.target?.cursor),h.length>0&&this.all(i,h),this._allInteractiveElements.length=0,this._hitElements.length=0,l.overTargets=i.composedPath(),this.freeEvent(i)}mapPointerOver(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId),n=this.createPointerEvent(t),l=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),l&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=n.target?.cursor);const o=this.clonePointerEvent(n,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),l&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;i.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId);if(i.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",l=this.findMountedTarget(i.overTargets),o=this.createPointerEvent(t,"pointerout",l);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");const h=this.createPointerEvent(t,"pointerleave",l);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;i.overTargets=null,this.freeEvent(o),this.freeEvent(h)}this.cursor=null}mapPointerUp(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.dispatchEvent(n,c?"rightup":"mouseup")}const l=this.trackingData(t.pointerId),o=this.findMountedTarget(l.pressTargetsByButton[t.button]);let h=o;if(o&&!n.composedPath().includes(o)){let c=o;for(;c&&!n.composedPath().includes(c);){if(n.currentTarget=c,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const p=n.button===2;this.notifyTarget(n,p?"rightupoutside":"mouseupoutside")}c=c.parent}delete l.pressTargetsByButton[t.button],h=c}if(h){const c=this.clonePointerEvent(n,"click");c.target=h,c.path=null,l.clicksByButton[t.button]||(l.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:i});const p=l.clicksByButton[t.button];if(p.target===c.target&&i-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=c.target,p.timeStamp=i,c.detail=p.clickCount,c.pointerType==="mouse"){const m=c.button===2;this.dispatchEvent(c,m?"rightclick":"click")}else c.pointerType==="touch"&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof ji)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const i=this.trackingData(t.pointerId),n=this.findMountedTarget(i.pressTargetsByButton[t.button]),l=this.createPointerEvent(t);if(n){let o=n;for(;o;)l.currentTarget=o,this.notifyTarget(l,"pointerupoutside"),l.pointerType==="touch"?this.notifyTarget(l,"touchendoutside"):(l.pointerType==="mouse"||l.pointerType==="pen")&&this.notifyTarget(l,l.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete i.pressTargetsByButton[t.button]}this.freeEvent(l)}mapWheel(t){if(!(t instanceof oa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const i=this.createWheelEvent(t);this.dispatchEvent(i),this.freeEvent(i)}findMountedTarget(t){if(!t)return null;let i=t[0];for(let n=1;n<t.length&&t[n].parent===i;n++)i=t[n];return i}createPointerEvent(t,i,n){const l=this.allocateEvent(ji);return this.copyPointerData(t,l),this.copyMouseData(t,l),this.copyData(t,l),l.nativeEvent=t.nativeEvent,l.originalEvent=t,l.target=n??this.hitTest(l.global.x,l.global.y)??this._hitElements[0],typeof i=="string"&&(l.type=i),l}createWheelEvent(t){const i=this.allocateEvent(oa);return this.copyWheelData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=this.hitTest(i.global.x,i.global.y),i}clonePointerEvent(t,i){const n=this.allocateEvent(ji);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=i??n.type,n}copyWheelData(t,i){i.deltaMode=t.deltaMode,i.deltaX=t.deltaX,i.deltaY=t.deltaY,i.deltaZ=t.deltaZ}copyPointerData(t,i){t instanceof ji&&i instanceof ji&&(i.pointerId=t.pointerId,i.width=t.width,i.height=t.height,i.isPrimary=t.isPrimary,i.pointerType=t.pointerType,i.pressure=t.pressure,i.tangentialPressure=t.tangentialPressure,i.tiltX=t.tiltX,i.tiltY=t.tiltY,i.twist=t.twist)}copyMouseData(t,i){t instanceof Du&&i instanceof Du&&(i.altKey=t.altKey,i.button=t.button,i.buttons=t.buttons,i.client.copyFrom(t.client),i.ctrlKey=t.ctrlKey,i.metaKey=t.metaKey,i.movement.copyFrom(t.movement),i.screen.copyFrom(t.screen),i.shiftKey=t.shiftKey,i.global.copyFrom(t.global))}copyData(t,i){i.isTrusted=t.isTrusted,i.srcElement=t.srcElement,i.timeStamp=performance.now(),i.type=t.type,i.detail=t.detail,i.view=t.view,i.which=t.which,i.layer.copyFrom(t.layer),i.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const i=this.eventPool.get(t).pop()||new t(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=null,i.target=null,i}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const i=t.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),this.eventPool.get(i).push(t)}notifyListeners(t,i){const n=t.currentTarget._events[i];if(n&&t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(i,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let l=0,o=n.length;l<o&&!t.propagationImmediatelyStopped;l++)n[l].once&&t.currentTarget.removeListener(i,n[l].fn,void 0,!0),n[l].fn.call(n[l].context,t)}}const qA=1,YA={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},tp=class ep{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new VA(null),xn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ji(null),this.rootWheelEvent=new oa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...ep.defaultEventFeatures},{set:(i,n,l)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=l),i[n]=l,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:i,resolution:n}=this.renderer;this.setTargetElement(i),this.resolution=n,ep._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let i=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(i=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":i&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":i&&Object.assign(this.domElement.style,n);break}else i&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const i=this.normalizeToPointerData(t);this.autoPreventDefault&&i[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,l=i.length;n<l;n++){const o=i[n],h=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,xn.pointerMoved();const i=this.normalizeToPointerData(t);for(let n=0,l=i.length;n<l;n++){const o=this.bootstrapEvent(this.rootPointerEvent,i[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let i=t.target;t.composedPath&&t.composedPath().length>0&&(i=t.composedPath()[0]);const n=i!==this.domElement?"outside":"",l=this.normalizeToPointerData(t);for(let o=0,h=l.length;o<h;o++){const c=this.bootstrapEvent(this.rootPointerEvent,l[o]);c.type+=n,this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const i=this.normalizeToPointerData(t);for(let n=0,l=i.length;n<l;n++){const o=this.bootstrapEvent(this.rootPointerEvent,i[n]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const i=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(i)}setTargetElement(t){this.removeEvents(),this.domElement=t,xn.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;xn.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;xn.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,i,n){const l=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(i-l.left)*(this.domElement.width/l.width)*o,t.y=(n-l.top)*(this.domElement.height/l.height)*o}normalizeToPointerData(t){const i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,l=t.changedTouches.length;n<l;n++){const o=t.changedTouches[n];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,i.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=qA),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,i.push(n)}else i.push(t);return i}normalizeWheelEvent(t){const i=this.rootWheelEvent;return this.transferMouseData(i,t),i.deltaX=t.deltaX,i.deltaY=t.deltaY,i.deltaZ=t.deltaZ,i.deltaMode=t.deltaMode,this.mapPositionToPoint(i.screen,t.clientX,t.clientY),i.global.copyFrom(i.screen),i.offset.copyFrom(i.screen),i.nativeEvent=t,i.type=t.type,i}bootstrapEvent(t,i){return t.originalEvent=null,t.nativeEvent=i,t.pointerId=i.pointerId,t.width=i.width,t.height=i.height,t.isPrimary=i.isPrimary,t.pointerType=i.pointerType,t.pressure=i.pressure,t.tangentialPressure=i.tangentialPressure,t.tiltX=i.tiltX,t.tiltY=i.tiltY,t.twist=i.twist,this.transferMouseData(t,i),this.mapPositionToPoint(t.screen,i.clientX,i.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=i.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=YA[t.type]||t.type),t}transferMouseData(t,i){t.isTrusted=i.isTrusted,t.srcElement=i.srcElement,t.timeStamp=performance.now(),t.type=i.type,t.altKey=i.altKey,t.button=i.button,t.buttons=i.buttons,t.client.x=i.clientX,t.client.y=i.clientY,t.ctrlKey=i.ctrlKey,t.metaKey=i.metaKey,t.movement.x=i.movementX,t.movement.y=i.movementY,t.page.x=i.pageX,t.page.y=i.pageY,t.relatedTarget=null,t.shiftKey=i.shiftKey}};tp.extension={name:"events",type:[_t.RendererSystem,_t.CanvasRendererSystem]},tp.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let ip=tp;Rt.add(ip);function s_(s){return s==="dynamic"||s==="static"}const $A={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??s_(ip.defaultEventMode)},set interactive(s){qt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??ip.defaultEventMode},set eventMode(s){this._internalInteractive=s_(s),this._internalEventMode=s},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(s,t,i){const n=typeof i=="boolean"&&i||typeof i=="object"&&i.capture,l=typeof i=="object"?i.signal:void 0,o=typeof i=="object"?i.once===!0:!1,h=typeof t=="function"?void 0:t;s=n?`${s}capture`:s;const c=typeof t=="function"?t:t.handleEvent,p=this;l&&l.addEventListener("abort",()=>{p.off(s,c,h)}),o?p.once(s,c,h):p.on(s,c,h)},removeEventListener(s,t,i){const n=typeof i=="boolean"&&i||typeof i=="object"&&i.capture,l=typeof t=="function"?void 0:t;s=n?`${s}capture`:s,t=typeof t=="function"?t:t.handleEvent,this.off(s,t,l)},dispatchEvent(s){if(!(s instanceof Cl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};_e.mixin($A);const WA={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};_e.mixin(WA);const ZA=9,eu=100,KA=0,QA=0,a_=2,l_=1,JA=-1e3,tw=-1e3,ew=2;class Hx{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Fr.tablet||Fr.phone)&&this.createTouchHook();const i=document.createElement("div");i.style.width=`${eu}px`,i.style.height=`${eu}px`,i.style.position="absolute",i.style.top=`${KA}px`,i.style.left=`${QA}px`,i.style.zIndex=a_.toString(),this.div=i,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${l_}px`,t.style.height=`${l_}px`,t.style.position="absolute",t.style.top=`${JA}px`,t.style.left=`${tw}px`,t.style.zIndex=ew.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const i=t.children;if(i)for(let n=0;n<i.length;n++)this.updateAccessibleObjects(i[n])}update(){const t=performance.now();if(Fr.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:i,y:n,width:l,height:o}=this.renderer.view.getBoundingClientRect(),{width:h,height:c,resolution:p}=this.renderer,m=l/h*p,g=o/c*p;let y=this.div;y.style.left=`${i}px`,y.style.top=`${n}px`,y.style.width=`${h}px`,y.style.height=`${c}px`;for(let _=0;_<this.children.length;_++){const E=this.children[_];if(E.renderId!==this.renderId)E._accessibleActive=!1,aa(this.children,_,1),this.div.removeChild(E._accessibleDiv),this.pool.push(E._accessibleDiv),E._accessibleDiv=null,_--;else{y=E._accessibleDiv;let x=E.hitArea;const b=E.worldTransform;E.hitArea?(y.style.left=`${(b.tx+x.x*b.a)*m}px`,y.style.top=`${(b.ty+x.y*b.d)*g}px`,y.style.width=`${x.width*b.a*m}px`,y.style.height=`${x.height*b.d*g}px`):(x=E.getBounds(),this.capHitArea(x),y.style.left=`${x.x*m}px`,y.style.top=`${x.y*g}px`,y.style.width=`${x.width*m}px`,y.style.height=`${x.height*g}px`,y.title!==E.accessibleTitle&&E.accessibleTitle!==null&&(y.title=E.accessibleTitle),y.getAttribute("aria-label")!==E.accessibleHint&&E.accessibleHint!==null&&y.setAttribute("aria-label",E.accessibleHint)),(E.accessibleTitle!==y.title||E.tabIndex!==y.tabIndex)&&(y.title=E.accessibleTitle,y.tabIndex=E.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:i,height:n}=this.renderer;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>n&&(t.height=n-t.y)}addChild(t){let i=this.pool.pop();i||(i=document.createElement("button"),i.style.width=`${eu}px`,i.style.height=`${eu}px`,i.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",i.style.position="absolute",i.style.zIndex=a_.toString(),i.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?i.setAttribute("aria-live","off"):i.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?i.setAttribute("aria-relevant","additions"):i.setAttribute("aria-relevant","text"),i.addEventListener("click",this._onClick.bind(this)),i.addEventListener("focus",this._onFocus.bind(this)),i.addEventListener("focusout",this._onFocusOut.bind(this))),i.style.pointerEvents=t.accessiblePointerEvents,i.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?i.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(i.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&i.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(i),t._accessibleActive=!0,t._accessibleDiv=i,i.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,i){const{displayObject:n}=t.target,l=this.renderer.events.rootBoundary,o=Object.assign(new Cl(l),{target:n});l.rootTarget=this.renderer.lastObjectRendered,i.forEach(h=>l.dispatchEvent(o,h))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===ZA&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Hx.extension={name:"accessibility",type:[_t.RendererPlugin,_t.CanvasRendererPlugin]};Rt.add(Hx);const jx=class rp{constructor(t){this.stage=new Yi,t=Object.assign({forceCanvas:!1},t),this.renderer=cA(t),rp._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,i){const n=rp._plugins.slice(0);n.reverse(),n.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};jx._plugins=[];let Xx=jx;Rt.handleByList(_t.Application,Xx._plugins);class Vx{static init(t){Object.defineProperty(this,"resizeTo",{set(i){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let i,n;if(this._resizeTo===globalThis.window)i=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:l,clientHeight:o}=this._resizeTo;i=l,n=o}this.renderer.resize(i,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Vx.extension=_t.Application;Rt.add(Vx);const o_={loader:_t.LoadParser,resolver:_t.ResolveParser,cache:_t.CacheParser,detection:_t.DetectionParser};Rt.handle(_t.Asset,s=>{const t=s.ref;Object.entries(o_).filter(([i])=>!!t[i]).forEach(([i,n])=>Rt.add(Object.assign(t[i],{extension:t[i].extension??n})))},s=>{const t=s.ref;Object.keys(o_).filter(i=>!!t[i]).forEach(i=>Rt.remove(t[i]))});class iw{constructor(t,i=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=i}add(t){t.forEach(i=>{this._assetList.push(i)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],i=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<i;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function pa(s,t){if(Array.isArray(t)){for(const i of t)if(s.startsWith(`data:${i}`))return!0;return!1}return s.startsWith(`data:${t}`)}function wn(s,t){const i=s.split("?")[0],n=Fe.extname(i).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const Xi=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(n=>typeof n=="string"||i?t(n):n):s),np=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s};function qx(s,t,i,n,l){const o=t[i];for(let h=0;h<o.length;h++){const c=o[h];i<t.length-1?qx(s.replace(n[i],c),t,i+1,n,l):l.push(s.replace(n[i],c))}}function rw(s){const t=/\{(.*?)\}/g,i=s.match(t),n=[];if(i){const l=[];i.forEach(o=>{const h=o.substring(1,o.length-1).split(",");l.push(h)}),qx(s,l,0,i,n)}else n.push(s);return n}const Ou=s=>!Array.isArray(s);class nw{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const n=Xi(t);let l;for(let c=0;c<this.parsers.length;c++){const p=this.parsers[c];if(p.test(i)){l=p.getCacheableAssets(n,i);break}}l||(l={},n.forEach(c=>{l[c]=i}));const o=Object.keys(l),h={cacheKeys:o,keys:n};if(n.forEach(c=>{this._cacheMap.set(c,h)}),o.forEach(c=>{const p=l?l[c]:i;this._cache.has(c)&&this._cache.get(c)!==p&&console.warn("[Cache] already has key:",c),this._cache.set(c,l[c])}),i instanceof Ct){const c=i;n.forEach(p=>{c.baseTexture!==Ct.EMPTY.baseTexture&&Pt.addToCache(c.baseTexture,p),Ct.addToCache(c,p)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(n=>{this._cache.delete(n)}),i.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const es=new nw;class sw{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,i,n)=>(this._parsersValidated=!1,t[i]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,i){const n={promise:null,parser:null};return n.promise=(async()=>{let l=null,o=null;if(i.loadParser&&(o=this._parserHash[i.loadParser],o||console.warn(`[Assets] specified load parser "${i.loadParser}" not found while loading ${t}`)),!o){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&c.test?.(t,i,this)){o=c;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}l=await o.load(t,i,this),n.parser=o;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await c.testParse?.(l,i,this)&&(l=await c.parse(l,i,this)||l,n.parser=c)}return l})(),n}async load(t,i){this._parsersValidated||this._validateParsers();let n=0;const l={},o=Ou(t),h=Xi(t,m=>({alias:[m],src:m})),c=h.length,p=h.map(async m=>{const g=Fe.toAbsolute(m.src);if(!l[m.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,m)),l[m.src]=await this.promiseCache[g].promise,i&&i(++n/c)}catch(y){throw delete this.promiseCache[g],delete l[m.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(p),o?l[h[0].src]:l}async unload(t){const i=Xi(t,n=>({alias:[n],src:n})).map(async n=>{const l=Fe.toAbsolute(n.src),o=this.promiseCache[l];if(o){const h=await o.promise;delete this.promiseCache[l],o.parser?.unload?.(h,n,this)}});await Promise.all(i)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,i)=>(t[i.name]&&console.warn(`[Assets] loadParser name conflict "${i.name}"`),{...t,[i.name]:i}),{})}}var $i=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))($i||{});const aw=".json",lw="application/json",ow={extension:{type:_t.LoadParser,priority:$i.Low},name:"loadJson",test(s){return pa(s,lw)||wn(s,aw)},async load(s){return await(await Et.ADAPTER.fetch(s)).json()}};Rt.add(ow);const uw=".txt",hw="text/plain",cw={name:"loadTxt",extension:{type:_t.LoadParser,priority:$i.Low},test(s){return pa(s,hw)||wn(s,uw)},async load(s){return await(await Et.ADAPTER.fetch(s)).text()}};Rt.add(cw);const dw=["normal","bold","100","200","300","400","500","600","700","800","900"],fw=[".ttf",".otf",".woff",".woff2"],pw=["font/ttf","font/otf","font/woff","font/woff2"],mw=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function gw(s){const t=Fe.extname(s),i=Fe.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let n=i.length>0;for(const o of i)if(!o.match(mw)){n=!1;break}let l=i.join(" ");return n||(l=`"${l.replace(/[\\"]/g,"\\$&")}"`),l}const yw=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function vw(s){return yw.test(s)?s:encodeURI(s)}const _w={extension:{type:_t.LoadParser,priority:$i.Low},name:"loadWebFont",test(s){return pa(s,pw)||wn(s,fw)},async load(s,t){const i=Et.ADAPTER.getFontFaceSet();if(i){const n=[],l=t.data?.family??gw(s),o=t.data?.weights?.filter(c=>dw.includes(c))??["normal"],h=t.data??{};for(let c=0;c<o.length;c++){const p=o[c],m=new FontFace(l,`url(${vw(s)})`,{...h,weight:p});await m.load(),i.add(m),n.push(m)}return n.length===1?n[0]:n}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach(t=>Et.ADAPTER.getFontFaceSet().delete(t))}};Rt.add(_w);const xw=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let ua=null,sp=class{constructor(){ua||(ua=URL.createObjectURL(new Blob([xw],{type:"application/javascript"}))),this.worker=new Worker(ua)}};sp.revokeObjectURL=function(){ua&&(URL.revokeObjectURL(ua),ua=null)};const bw=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ha=null;class Yx{constructor(){ha||(ha=URL.createObjectURL(new Blob([bw],{type:"application/javascript"}))),this.worker=new Worker(ha)}}Yx.revokeObjectURL=function(){ha&&(URL.revokeObjectURL(ha),ha=null)};let u_=0,bf;class Ew{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:i}=new sp;i.addEventListener("message",n=>{i.terminate(),sp.revokeObjectURL(),t(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){bf===void 0&&(bf=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<bf&&(this._createdWorkers++,t=new Yx().worker,t.addEventListener("message",i=>{this.complete(i.data),this.returnWorker(i.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,i){await this._initWorkers();const n=new Promise((l,o)=>{this.queue.push({id:t,arguments:i,resolve:l,reject:o})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const i=this.queue.pop(),n=i.id;this.resolveHash[u_]={resolve:i.resolve,reject:i.reject},t.postMessage({data:i.arguments,uuid:u_++,id:n})}}const h_=new Ew;function Rl(s,t,i){s.resource.internal=!0;const n=new Ct(s),l=()=>{delete t.promiseCache[i],es.has(i)&&es.remove(i)};return n.baseTexture.once("destroyed",()=>{i in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),l())}),n.once("destroyed",()=>{s.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),l())}),n}const Tw=[".jpeg",".jpg",".png",".webp",".avif"],Sw=["image/jpeg","image/png","image/webp","image/avif"];async function Aw(s){const t=await Et.ADAPTER.fetch(s);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${t.status} ${t.statusText}`);const i=await t.blob();return await createImageBitmap(i)}const Vu={name:"loadTextures",extension:{type:_t.LoadParser,priority:$i.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return pa(s,Sw)||wn(s,Tw)},async load(s,t,i){const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let l;n?this.config.preferWorkers&&await h_.isImageBitmapSupported()?l=await h_.loadImageBitmap(s):l=await Aw(s):l=await new Promise((c,p)=>{const m=new Image;m.crossOrigin=this.config.crossOrigin,m.src=s,m.complete?c(m):(m.onload=()=>c(m),m.onerror=g=>p(g))});const o={...t.data};o.resolution??(o.resolution=zr(s)),n&&o.resourceOptions?.ownsImageBitmap===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const h=new Pt(l,o);return h.resource.src=s,Rl(h,i,s)},unload(s){s.destroy(!0)}};Rt.add(Vu);const ww=".svg",Cw="image/svg+xml",Rw={extension:{type:_t.LoadParser,priority:$i.High},name:"loadSVG",test(s){return pa(s,Cw)||wn(s,ww)},async testParse(s){return $f.test(s)},async parse(s,t,i){const n=new $f(s,t?.data?.resourceOptions);await n.load();const l=new Pt(n,{resolution:zr(s),...t?.data});return l.resource.src=t.src,Rl(l,i,t.src)},async load(s,t){return(await Et.ADAPTER.fetch(s)).text()},unload:Vu.unload};Rt.add(Rw);const Mw=[".mp4",".m4v",".webm",".ogv"],Dw=["video/mp4","video/webm","video/ogg"],Ow={name:"loadVideo",extension:{type:_t.LoadParser,priority:$i.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(s){return pa(s,Dw)||wn(s,Mw)},async load(s,t,i){let n;const l=await(await Et.ADAPTER.fetch(s)).blob(),o=URL.createObjectURL(l);try{const h={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...t?.data?.resourceOptions,autoLoad:!0},c=new kx(o,h);await c.load();const p=new Pt(c,{alphaMode:await PT(),resolution:zr(s),...t?.data});p.resource.src=s,n=Rl(p,i,s),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(h){throw URL.revokeObjectURL(o),h}return n},unload(s){s.destroy(!0)}};Rt.add(Ow);class Bw{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(i[n])}`).join("&")}}getAlias(t){const{alias:i,name:n,src:l,srcs:o}=t;return Xi(i||n||l||o,h=>typeof h=="string"?h:Array.isArray(h)?h.map(c=>c?.src??c?.srcs??c):h?.src||h?.srcs?h.src??h.srcs:h,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const n=[];Array.isArray(i)?i.forEach(l=>{const o=l.src??l.srcs,h=l.alias??l.name;let c;if(typeof h=="string"){const p=this._createBundleAssetId(t,h);n.push(p),c=[h,p]}else{const p=h.map(m=>this._createBundleAssetId(t,m));n.push(...p),c=[...h,...p]}this.add({...l,alias:c,src:o})}):Object.keys(i).forEach(l=>{const o=[l,this._createBundleAssetId(t,l)];if(typeof i[l]=="string")this.add({alias:o,src:i[l]});else if(Array.isArray(i[l]))this.add({alias:o,src:i[l]});else{const h=i[l],c=h.src??h.srcs;this.add({...h,alias:o,src:Array.isArray(c)?c:[c]})}n.push(...o)}),this._bundles[t]=n}add(t,i,n,l,o){const h=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(qt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:t,src:i,data:n,format:l,loadParser:o})):Array.isArray(t)?h.push(...t):h.push(t);let c;c=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Xi(h).forEach(p=>{const{src:m,srcs:g}=p;let{data:y,format:_,loadParser:E}=p;const x=Xi(m||g).map(I=>typeof I=="string"?rw(I):Array.isArray(I)?I:[I]),b=this.getAlias(p);Array.isArray(b)?b.forEach(c):c(b);const S=[];x.forEach(I=>{I.forEach(B=>{let M={};if(typeof B!="object"){M.src=B;for(let k=0;k<this._parsers.length;k++){const N=this._parsers[k];if(N.test(B)){M=N.parse(B);break}}}else y=B.data??y,_=B.format??_,E=B.loadParser??E,M={...M,...B};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${M.src}`);M=this.buildResolvedAsset(M,{aliases:b,data:y,format:_,loadParser:E}),S.push(M)})}),b.forEach(I=>{this._assetMap[I]=S})})}resolveBundle(t){const i=Ou(t);t=Xi(t);const n={};return t.forEach(l=>{const o=this._bundles[l];if(o){const h=this.resolve(o),c={};for(const p in h){const m=h[p];c[this._extractAssetIdFromBundle(l,p)]=m}n[l]=c}}),i?n[t[0]]:n}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const n={};for(const l in i)n[l]=i[l].src;return n}return i.src}resolve(t){const i=Ou(t);t=Xi(t);const n={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let o=this._assetMap[l];const h=o[0],c=this._getPreferredOrder(o);c?.priority.forEach(p=>{c.params[p].forEach(m=>{const g=o.filter(y=>y[p]?y[p]===m:!1);g.length&&(o=g)})}),this._resolverHash[l]=o[0]??h}else this._resolverHash[l]=this.buildResolvedAsset({alias:[l],src:l},{});n[l]=this._resolverHash[l]}),i?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const n=t[0],l=this._preferredOrder.find(o=>o.params.format.includes(n.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}buildResolvedAsset(t,i){const{aliases:n,data:l,loadParser:o,format:h}=i;return(this._basePath||this._rootPath)&&(t.src=Fe.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=o??t.loadParser,t.format=h??t.format??Fe.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class Nw{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Bw,this.loader=new sw,this.cache=es,this._backgroundLoader=new iw(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let o=t.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const i=t.texturePreference?.resolution??1,n=typeof i=="number"?[i]:i,l=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:l,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,i,n,l,o){this.resolver.add(t,i,n,l,o)}async load(t,i){this._initialized||await this.init();const n=Ou(t),l=Xi(t).map(c=>{if(typeof c!="string"){const p=this.resolver.getAlias(c);return p.some(m=>!this.resolver.hasKey(m))&&this.add(c),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),o=this.resolver.resolve(l),h=await this._mapLoadToResolve(o,i);return n?h[l[0]]:h}addBundle(t,i){this.resolver.addBundle(t,i)}async loadBundle(t,i){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const l=this.resolver.resolveBundle(t),o={},h=Object.keys(l);let c=0,p=0;const m=()=>{i?.(++c/p)},g=h.map(y=>{const _=l[y];return p+=Object.keys(_).length,this._mapLoadToResolve(_,m).then(E=>{o[y]=E})});return await Promise.all(g),n?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(i))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const i=this.resolver.resolveBundle(t);Object.values(i).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return es.get(t);const i={};for(let n=0;n<t.length;n++)i[n]=es.get(t[n]);return i}async _mapLoadToResolve(t,i){const n=Object.values(t),l=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(n,i);this._backgroundLoader.active=!0;const h={};return n.forEach((c,p)=>{const m=o[c.src],g=[c.src];c.alias&&g.push(...c.alias),h[l[p]]=m,es.set(g,m)}),h}async unload(t){this._initialized||await this.init();const i=Xi(t).map(l=>typeof l!="string"?l.src:l),n=this.resolver.resolve(i);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=Xi(t);const i=this.resolver.resolveBundle(t),n=Object.keys(i).map(l=>this._unloadFromResolved(i[l]));await Promise.all(n)}async _unloadFromResolved(t){const i=Object.values(t);i.forEach(n=>{es.remove(n.src)}),await this.loader.unload(i)}async _detectFormats(t){let i=[];t.preferredFormats&&(i=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?i=await n.add(i):t.skipDetections||(i=await n.remove(i));return i=i.filter((n,l)=>i.indexOf(n)===l),i}get detections(){return this._detections}get preferWorkers(){return Vu.config.preferWorkers}set preferWorkers(t){qt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(i=>{i.config&&Object.keys(i.config).filter(n=>n in t).forEach(n=>{i.config[n]=t[n]})})}}const iu=new Nw;Rt.handleByList(_t.LoadParser,iu.loader.parsers).handleByList(_t.ResolveParser,iu.resolver.parsers).handleByList(_t.CacheParser,iu.cache.parsers).handleByList(_t.DetectionParser,iu.detections);const Iw={extension:_t.CacheParser,test:s=>Array.isArray(s)&&s.every(t=>t instanceof Ct),getCacheableAssets:(s,t)=>{const i={};return s.forEach(n=>{t.forEach((l,o)=>{i[n+(o===0?"":o+1)]=l})}),i}};Rt.add(Iw);async function $x(s){if("Image"in globalThis)return new Promise(t=>{const i=new Image;i.onload=()=>{t(!0)},i.onerror=()=>{t(!1)},i.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const Uw={extension:{type:_t.DetectionParser,priority:1},test:async()=>$x("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")};Rt.add(Uw);const Lw={extension:{type:_t.DetectionParser,priority:0},test:async()=>$x("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};Rt.add(Lw);const c_=["png","jpg","jpeg"],Pw={extension:{type:_t.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...c_],remove:async s=>s.filter(t=>!c_.includes(t))};Rt.add(Pw);const Fw="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function bp(s){return Fw?!1:document.createElement("video").canPlayType(s)!==""}const kw={extension:{type:_t.DetectionParser,priority:0},test:async()=>bp("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")};Rt.add(kw);const Gw={extension:{type:_t.DetectionParser,priority:0},test:async()=>bp("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")};Rt.add(Gw);const zw={extension:{type:_t.DetectionParser,priority:0},test:async()=>bp("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")};Rt.add(zw);const Hw={extension:_t.ResolveParser,test:Vu.test,parse:s=>({resolution:parseFloat(Et.RETINA_PREFIX.exec(s)?.[1]??"1"),format:Fe.extname(s).slice(1),src:s})};Rt.add(Hw);var qe=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s))(qe||{});const Bu={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let nr,ea;function d_(){ea={bptc:nr.getExtension("EXT_texture_compression_bptc"),astc:nr.getExtension("WEBGL_compressed_texture_astc"),etc:nr.getExtension("WEBGL_compressed_texture_etc"),s3tc:nr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:nr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:nr.getExtension("WEBGL_compressed_texture_pvrtc")||nr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:nr.getExtension("WEBGL_compressed_texture_etc1"),atc:nr.getExtension("WEBGL_compressed_texture_atc")}}const jw={extension:{type:_t.DetectionParser,priority:2},test:async()=>{const s=Et.ADAPTER.createCanvas().getContext("webgl");return s?(nr=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{ea||d_();const t=[];for(const i in ea)ea[i]&&t.push(i);return[...t,...s]},remove:async s=>(ea||d_(),s.filter(t=>!(t in ea)))};Rt.add(jw);class Xw extends Gu{constructor(t,i={width:1,height:1,autoLoad:!0}){let n,l;typeof t=="string"?(n=t,l=new Uint8Array):(n=null,l=t),super(l,i),this.origin=n,this.buffer=l?new Uf(l):null,this._load=null,this.loaded=!1,this.origin!==null&&i.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new Uf(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class ss extends Xw{constructor(t,i){super(t,i),this.format=i.format,this.levels=i.levels||1,this._width=i.width,this._height=i.height,this._extension=ss._formatToExtension(this.format),(i.levelBuffers||this.buffer)&&(this._levelBuffers=i.levelBuffers||ss._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,i,n){const l=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;l.pixelStorei(l.UNPACK_ALIGNMENT,4);for(let o=0,h=this.levels;o<h;o++){const{levelID:c,levelWidth:p,levelHeight:m,levelBuffer:g}=this._levelBuffers[o];l.compressedTexImage2D(l.TEXTURE_2D,c,this.format,p,m,0,g)}return!0}onBlobLoaded(){this._levelBuffers=ss._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,i,n,l,o,h,c){const p=new Array(n);let m=t.byteOffset,g=h,y=c,_=g+l-1&~(l-1),E=y+o-1&~(o-1),x=_*E*Bu[i];for(let b=0;b<n;b++)p[b]={levelID:b,levelWidth:n>1?g:_,levelHeight:n>1?y:E,levelBuffer:new Uint8Array(t.buffer,m,x)},m+=x,g=g>>1||1,y=y>>1||1,_=g+l-1&~(l-1),E=y+o-1&~(o-1),x=_*E*Bu[i];return p}}const Ef=4,ru=124,Vw=32,f_=20,qw=542327876,nu={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Yw={FOURCC:2},su={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},$w=1,Ww=2,Zw=4,Kw=64,Qw=512,Jw=131072,t2=827611204,e2=861165636,i2=894720068,r2=808540228,n2=4,s2={[t2]:qe.COMPRESSED_RGBA_S3TC_DXT1_EXT,[e2]:qe.COMPRESSED_RGBA_S3TC_DXT3_EXT,[i2]:qe.COMPRESSED_RGBA_S3TC_DXT5_EXT},a2={70:qe.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:qe.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:qe.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:qe.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:qe.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:qe.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:qe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:qe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:qe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:qe.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:qe.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:qe.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:qe.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function l2(s){const t=new Uint32Array(s);if(t[0]!==qw)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(s,0,ru/Uint32Array.BYTES_PER_ELEMENT),n=i[nu.HEIGHT],l=i[nu.WIDTH],o=i[nu.MIPMAP_COUNT],h=new Uint32Array(s,nu.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Vw/Uint32Array.BYTES_PER_ELEMENT),c=h[$w];if(c&Zw){const p=h[Yw.FOURCC];if(p!==r2){const B=s2[p],M=Ef+ru,k=new Uint8Array(s,M);return[new ss(k,{format:B,width:l,height:n,levels:o})]}const m=Ef+ru,g=new Uint32Array(t.buffer,m,f_/Uint32Array.BYTES_PER_ELEMENT),y=g[su.DXGI_FORMAT],_=g[su.RESOURCE_DIMENSION],E=g[su.MISC_FLAG],x=g[su.ARRAY_SIZE],b=a2[y];if(b===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${y}`);if(E===n2)throw new Error("DDSParser does not support cubemap textures");if(_===6)throw new Error("DDSParser does not supported 3D texture data");const S=new Array,I=Ef+ru+f_;if(x===1)S.push(new Uint8Array(s,I));else{const B=Bu[b];let M=0,k=l,N=n;for(let T=0;T<o;T++){const P=Math.max(1,k+3&-4),q=Math.max(1,N+3&-4),it=P*q*B;M+=it,k=k>>>1,N=N>>>1}let H=I;for(let T=0;T<x;T++)S.push(new Uint8Array(s,H,M)),H+=M}return S.map(B=>new ss(B,{format:b,width:l,height:n,levels:o}))}throw c&Kw?new Error("DDSParser does not support uncompressed texture data."):c&Qw?new Error("DDSParser does not supported YUV uncompressed texture data."):c&Jw?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&Ww?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const p_=[171,75,84,88,32,49,49,187,13,10,26,10],o2=67305985,zi={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ap=64,m_={[Dt.UNSIGNED_BYTE]:1,[Dt.UNSIGNED_SHORT]:2,[Dt.INT]:4,[Dt.UNSIGNED_INT]:4,[Dt.FLOAT]:4,[Dt.HALF_FLOAT]:8},u2={[mt.RGBA]:4,[mt.RGB]:3,[mt.RG]:2,[mt.RED]:1,[mt.LUMINANCE]:1,[mt.LUMINANCE_ALPHA]:2,[mt.ALPHA]:1},h2={[Dt.UNSIGNED_SHORT_4_4_4_4]:2,[Dt.UNSIGNED_SHORT_5_5_5_1]:2,[Dt.UNSIGNED_SHORT_5_6_5]:2};function c2(s,t,i=!1){const n=new DataView(t);if(!d2(s,n))return null;const l=n.getUint32(zi.ENDIANNESS,!0)===o2,o=n.getUint32(zi.GL_TYPE,l),h=n.getUint32(zi.GL_FORMAT,l),c=n.getUint32(zi.GL_INTERNAL_FORMAT,l),p=n.getUint32(zi.PIXEL_WIDTH,l),m=n.getUint32(zi.PIXEL_HEIGHT,l)||1,g=n.getUint32(zi.PIXEL_DEPTH,l)||1,y=n.getUint32(zi.NUMBER_OF_ARRAY_ELEMENTS,l)||1,_=n.getUint32(zi.NUMBER_OF_FACES,l),E=n.getUint32(zi.NUMBER_OF_MIPMAP_LEVELS,l),x=n.getUint32(zi.BYTES_OF_KEY_VALUE_DATA,l);if(m===0||g!==1)throw new Error("Only 2D textures are supported");if(_!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");const b=4,S=4,I=p+3&-4,B=m+3&-4,M=new Array(y);let k=p*m;o===0&&(k=I*B);let N;if(o!==0?m_[o]?N=m_[o]*u2[h]:N=h2[o]:N=Bu[c],N===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const H=i?p2(n,x,l):null;let T=k*N,P=p,q=m,it=I,K=B,V=ap+x;for(let W=0;W<E;W++){const Y=n.getUint32(V,l);let ft=V+4;for(let A=0;A<y;A++){let D=M[A];D||(D=M[A]=new Array(E)),D[W]={levelID:W,levelWidth:E>1||o!==0?P:it,levelHeight:E>1||o!==0?q:K,levelBuffer:new Uint8Array(t,ft,T)},ft+=T}V+=Y+4,V=V%4!==0?V+4-V%4:V,P=P>>1||1,q=q>>1||1,it=P+b-1&-4,K=q+S-1&-4,T=it*K*N}return o!==0?{uncompressed:M.map(W=>{let Y=W[0].levelBuffer,ft=!1;return o===Dt.FLOAT?Y=new Float32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4):o===Dt.UNSIGNED_INT?(ft=!0,Y=new Uint32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4)):o===Dt.INT&&(ft=!0,Y=new Int32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4)),{resource:new Gu(Y,{width:W[0].levelWidth,height:W[0].levelHeight}),type:o,format:ft?f2(h):h}}),kvData:H}:{compressed:M.map(W=>new ss(null,{format:c,width:p,height:m,levels:E,levelBuffers:W})),kvData:H}}function d2(s,t){for(let i=0;i<p_.length;i++)if(t.getUint8(i)!==p_[i])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}function f2(s){switch(s){case mt.RGBA:return mt.RGBA_INTEGER;case mt.RGB:return mt.RGB_INTEGER;case mt.RG:return mt.RG_INTEGER;case mt.RED:return mt.RED_INTEGER;default:return s}}function p2(s,t,i){const n=new Map;let l=0;for(;l<t;){const o=s.getUint32(ap+l,i),h=ap+l+4,c=3-(o+3)%4;if(o===0||o>t-l){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let p=0;for(;p<o&&s.getUint8(h+p)!==0;p++);if(p===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const m=new TextDecoder().decode(new Uint8Array(s.buffer,h,p)),g=new DataView(s.buffer,h+p+1,o-p-1);n.set(m,g),l+=4+o+c}return n}const m2={extension:{type:_t.LoadParser,priority:$i.High},name:"loadDDS",test(s){return wn(s,".dds")},async load(s,t,i){const n=await(await Et.ADAPTER.fetch(s)).arrayBuffer(),l=l2(n).map(o=>{const h=new Pt(o,{mipmap:cr.OFF,alphaMode:oi.NO_PREMULTIPLIED_ALPHA,resolution:zr(s),...t.data});return Rl(h,i,s)});return l.length===1?l[0]:l},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};Rt.add(m2);const g2={extension:{type:_t.LoadParser,priority:$i.High},name:"loadKTX",test(s){return wn(s,".ktx")},async load(s,t,i){const n=await(await Et.ADAPTER.fetch(s)).arrayBuffer(),{compressed:l,uncompressed:o,kvData:h}=c2(s,n),c=l??o,p={mipmap:cr.OFF,alphaMode:oi.NO_PREMULTIPLIED_ALPHA,resolution:zr(s),...t.data},m=c.map(g=>{c===o&&Object.assign(p,{type:g.type,format:g.format});const y=g.resource??g,_=new Pt(y,p);return _.ktxKeyValueData=h,Rl(_,i,s)});return m.length===1?m[0]:m},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};Rt.add(g2);const y2=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],v2={extension:_t.ResolveParser,test:s=>{const t=Fe.extname(s).slice(1);return["basis","ktx","dds"].includes(t)},parse:s=>{const t=s.split("."),i=t.pop();if(["ktx","dds"].includes(i)){const n=t.pop();if(y2.includes(n))return{resolution:parseFloat(Et.RETINA_PREFIX.exec(s)?.[1]??"1"),format:n,src:s}}return{resolution:parseFloat(Et.RETINA_PREFIX.exec(s)?.[1]??"1"),format:i,src:s}}};Rt.add(v2);const au=new kt,_2=4,Wx=class bl{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,i,n,l){const o=new Image;return o.src=await this.base64(t,i,n,l),o}async base64(t,i,n,l){const o=this.canvas(t,l);if(o.toBlob!==void 0)return new Promise((h,c)=>{o.toBlob(p=>{if(!p){c(new Error("ICanvas.toBlob failed!"));return}const m=new FileReader;m.onload=()=>h(m.result),m.onerror=c,m.readAsDataURL(p)},i,n)});if(o.toDataURL!==void 0)return o.toDataURL(i,n);if(o.convertToBlob!==void 0){const h=await o.convertToBlob({type:i,quality:n});return new Promise((c,p)=>{const m=new FileReader;m.onload=()=>c(m.result),m.onerror=p,m.readAsDataURL(h)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,i){const{pixels:n,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,i);h&&bl._flipY(n,l,o),c&&bl._unpremultiplyAlpha(n);const p=new JT(l,o,1),m=new ImageData(new Uint8ClampedArray(n.buffer),l,o);return p.context.putImageData(m,0,0),p.canvas}pixels(t,i){const{pixels:n,width:l,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,i);return h&&bl._flipY(n,l,o),c&&bl._unpremultiplyAlpha(n),n}_rawPixels(t,i){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let l,o=!1,h=!1,c,p=!1;t&&(t instanceof hs?c=t:(c=n.generateTexture(t,{region:i,resolution:n.resolution,multisample:n.multisample}),p=!0,i&&(au.width=i.width,au.height=i.height,i=au)));const m=n.gl;if(c){if(l=c.baseTexture.resolution,i=i??c.frame,o=!1,h=c.baseTexture.alphaMode>0&&c.baseTexture.format===mt.RGBA,!p){n.renderTexture.bind(c);const E=c.framebuffer.glFramebuffers[n.CONTEXT_UID];E.blitFramebuffer&&n.framebuffer.bind(E.blitFramebuffer)}}else l=n.resolution,i||(i=au,i.width=n.width/l,i.height=n.height/l),o=!0,h=this._rendererPremultipliedAlpha,n.renderTexture.bind();const g=Math.max(Math.round(i.width*l),1),y=Math.max(Math.round(i.height*l),1),_=new Uint8Array(_2*g*y);return m.readPixels(Math.round(i.x*l),Math.round(i.y*l),g,y,m.RGBA,m.UNSIGNED_BYTE,_),p&&c?.destroy(!0),{pixels:_,width:g,height:y,flipY:o,premultipliedAlpha:h}}destroy(){this.renderer=null}static _flipY(t,i,n){const l=i<<2,o=n>>1,h=new Uint8Array(l);for(let c=0;c<o;c++){const p=c*l,m=(n-c-1)*l;h.set(t.subarray(p,p+l)),t.copyWithin(p,m,m+l),t.set(h,m)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const i=t.length;for(let n=0;n<i;n+=4){const l=t[n+3];if(l!==0){const o=255.001/l;t[n]=t[n]*o+.5,t[n+1]=t[n+1]*o+.5,t[n+2]=t[n+2]*o+.5}}}};Wx.extension={name:"extract",type:_t.RendererSystem};let x2=Wx;Rt.add(x2);const Nu={build(s){const t=s.points;let i,n,l,o,h,c;if(s.type===Ye.CIRC){const x=s.shape;i=x.x,n=x.y,h=c=x.radius,l=o=0}else if(s.type===Ye.ELIP){const x=s.shape;i=x.x,n=x.y,h=x.width,c=x.height,l=o=0}else{const x=s.shape,b=x.width/2,S=x.height/2;i=x.x+b,n=x.y+S,h=c=Math.max(0,Math.min(x.radius,Math.min(b,S))),l=b-h,o=S-c}if(!(h>=0&&c>=0&&l>=0&&o>=0)){t.length=0;return}const p=Math.ceil(2.3*Math.sqrt(h+c)),m=p*8+(l?4:0)+(o?4:0);if(t.length=m,m===0)return;if(p===0){t.length=8,t[0]=t[6]=i+l,t[1]=t[3]=n+o,t[2]=t[4]=i-l,t[5]=t[7]=n-o;return}let g=0,y=p*4+(l?2:0)+2,_=y,E=m;{const x=l+h,b=o,S=i+x,I=i-x,B=n+b;if(t[g++]=S,t[g++]=B,t[--y]=B,t[--y]=I,o){const M=n-b;t[_++]=I,t[_++]=M,t[--E]=M,t[--E]=S}}for(let x=1;x<p;x++){const b=Math.PI/2*(x/p),S=l+Math.cos(b)*h,I=o+Math.sin(b)*c,B=i+S,M=i-S,k=n+I,N=n-I;t[g++]=B,t[g++]=k,t[--y]=k,t[--y]=M,t[_++]=M,t[_++]=N,t[--E]=N,t[--E]=B}{const x=l,b=o+c,S=i+x,I=i-x,B=n+b,M=n-b;t[g++]=S,t[g++]=B,t[--E]=M,t[--E]=S,l&&(t[g++]=I,t[g++]=B,t[--E]=M,t[--E]=I)}},triangulate(s,t){const i=s.points,n=t.points,l=t.indices;if(i.length===0)return;let o=n.length/2;const h=o;let c,p;if(s.type!==Ye.RREC){const g=s.shape;c=g.x,p=g.y}else{const g=s.shape;c=g.x+g.width/2,p=g.y+g.height/2}const m=s.matrix;n.push(s.matrix?m.a*c+m.c*p+m.tx:c,s.matrix?m.b*c+m.d*p+m.ty:p),o++,n.push(i[0],i[1]);for(let g=2;g<i.length;g+=2)n.push(i[g],i[g+1]),l.push(o++,h,o);l.push(h+1,h,o)}};function g_(s,t=!1){const i=s.length;if(i<6)return;let n=0;for(let l=0,o=s[i-2],h=s[i-1];l<i;l+=2){const c=s[l],p=s[l+1];n+=(c-o)*(p+h),o=c,h=p}if(!t&&n>0||t&&n<=0){const l=i/2;for(let o=l+l%2;o<i;o+=2){const h=i-o-2,c=i-o-1,p=o,m=o+1;[s[h],s[p]]=[s[p],s[h]],[s[c],s[m]]=[s[m],s[c]]}}}const Zx={build(s){s.points=s.shape.points.slice()},triangulate(s,t){let i=s.points;const n=s.holes,l=t.points,o=t.indices;if(i.length>=6){g_(i,!1);const h=[];for(let m=0;m<n.length;m++){const g=n[m];g_(g.points,!0),h.push(i.length/2),i=i.concat(g.points)}const c=QE(i,h,2);if(!c)return;const p=l.length/2;for(let m=0;m<c.length;m+=3)o.push(c[m]+p),o.push(c[m+1]+p),o.push(c[m+2]+p);for(let m=0;m<i.length;m++)l.push(i[m])}}},b2={build(s){const t=s.shape,i=t.x,n=t.y,l=t.width,o=t.height,h=s.points;h.length=0,l>=0&&o>=0&&h.push(i,n,i+l,n,i+l,n+o,i,n+o)},triangulate(s,t){const i=s.points,n=t.points;if(i.length===0)return;const l=n.length/2;n.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),t.indices.push(l,l+1,l+2,l+1,l+2,l+3)}},E2={build(s){Nu.build(s)},triangulate(s,t){Nu.triangulate(s,t)}};var Bi=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(Bi||{}),En=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(En||{});const ca={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,t=20){if(!this.adaptive||!s||isNaN(s))return t;let i=Math.ceil(s/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}};class y_{static curveTo(t,i,n,l,o,h){const c=h[h.length-2],p=h[h.length-1]-i,m=c-t,g=l-i,y=n-t,_=Math.abs(p*y-m*g);if(_<1e-8||o===0)return(h[h.length-2]!==t||h[h.length-1]!==i)&&h.push(t,i),null;const E=p*p+m*m,x=g*g+y*y,b=p*g+m*y,S=o*Math.sqrt(E)/_,I=o*Math.sqrt(x)/_,B=S*b/E,M=I*b/x,k=S*y+I*m,N=S*g+I*p,H=m*(I+B),T=p*(I+B),P=y*(S+M),q=g*(S+M),it=Math.atan2(T-N,H-k),K=Math.atan2(q-N,P-k);return{cx:k+t,cy:N+i,radius:o,startAngle:it,endAngle:K,anticlockwise:m*g>y*p}}static arc(t,i,n,l,o,h,c,p,m){const g=c-h,y=ca._segmentsCount(Math.abs(g)*o,Math.ceil(Math.abs(g)/Su)*40),_=g/(y*2),E=_*2,x=Math.cos(_),b=Math.sin(_),S=y-1,I=S%1/S;for(let B=0;B<=S;++B){const M=B+I*B,k=_+h+E*M,N=Math.cos(k),H=-Math.sin(k);m.push((x*N+b*H)*o+n,(x*-H+b*N)*o+l)}}}class T2{constructor(){this.reset()}begin(t,i,n){this.reset(),this.style=t,this.start=i,this.attribStart=n}end(t,i){this.attribSize=i-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Ep{static curveLength(t,i,n,l,o,h,c,p){let m=0,g=0,y=0,_=0,E=0,x=0,b=0,S=0,I=0,B=0,M=0,k=t,N=i;for(let H=1;H<=10;++H)g=H/10,y=g*g,_=y*g,E=1-g,x=E*E,b=x*E,S=b*t+3*x*g*n+3*E*y*o+_*c,I=b*i+3*x*g*l+3*E*y*h+_*p,B=k-S,M=N-I,k=S,N=I,m+=Math.sqrt(B*B+M*M);return m}static curveTo(t,i,n,l,o,h,c){const p=c[c.length-2],m=c[c.length-1];c.length-=2;const g=ca._segmentsCount(Ep.curveLength(p,m,t,i,n,l,o,h));let y=0,_=0,E=0,x=0,b=0;c.push(p,m);for(let S=1,I=0;S<=g;++S)I=S/g,y=1-I,_=y*y,E=_*y,x=I*I,b=x*I,c.push(E*p+3*_*I*t+3*y*x*n+b*o,E*m+3*_*I*i+3*y*x*l+b*h)}}function v_(s,t,i,n,l,o,h,c){const p=s-i*l,m=t-n*l,g=s+i*o,y=t+n*o;let _,E;h?(_=n,E=-i):(_=-n,E=i);const x=p+_,b=m+E,S=g+_,I=y+E;return c.push(x,b,S,I),2}function $n(s,t,i,n,l,o,h,c){const p=i-s,m=n-t;let g=Math.atan2(p,m),y=Math.atan2(l-s,o-t);c&&g<y?g+=Math.PI*2:!c&&g>y&&(y+=Math.PI*2);let _=g;const E=y-g,x=Math.abs(E),b=Math.sqrt(p*p+m*m),S=(15*x*Math.sqrt(b)/Math.PI>>0)+1,I=E/S;if(_+=I,c){h.push(s,t,i,n);for(let B=1,M=_;B<S;B++,M+=I)h.push(s,t,s+Math.sin(M)*b,t+Math.cos(M)*b);h.push(s,t,l,o)}else{h.push(i,n,s,t);for(let B=1,M=_;B<S;B++,M+=I)h.push(s+Math.sin(M)*b,t+Math.cos(M)*b,s,t);h.push(l,o,s,t)}return S*2}function S2(s,t){const i=s.shape;let n=s.points||i.points.slice();const l=t.closePointEps;if(n.length===0)return;const o=s.lineStyle,h=new Kt(n[0],n[1]),c=new Kt(n[n.length-2],n[n.length-1]),p=i.type!==Ye.POLY||i.closeStroke,m=Math.abs(h.x-c.x)<l&&Math.abs(h.y-c.y)<l;if(p){n=n.slice(),m&&(n.pop(),n.pop(),c.set(n[n.length-2],n[n.length-1]));const D=(h.x+c.x)*.5,C=(c.y+h.y)*.5;n.unshift(D,C),n.push(D,C)}const g=t.points,y=n.length/2;let _=n.length;const E=g.length/2,x=o.width/2,b=x*x,S=o.miterLimit*o.miterLimit;let I=n[0],B=n[1],M=n[2],k=n[3],N=0,H=0,T=-(B-k),P=I-M,q=0,it=0,K=Math.sqrt(T*T+P*P);T/=K,P/=K,T*=x,P*=x;const V=o.alignment,W=(1-V)*2,Y=V*2;p||(o.cap===En.ROUND?_+=$n(I-T*(W-Y)*.5,B-P*(W-Y)*.5,I-T*W,B-P*W,I+T*Y,B+P*Y,g,!0)+2:o.cap===En.SQUARE&&(_+=v_(I,B,T,P,W,Y,!0,g))),g.push(I-T*W,B-P*W,I+T*Y,B+P*Y);for(let D=1;D<y-1;++D){I=n[(D-1)*2],B=n[(D-1)*2+1],M=n[D*2],k=n[D*2+1],N=n[(D+1)*2],H=n[(D+1)*2+1],T=-(B-k),P=I-M,K=Math.sqrt(T*T+P*P),T/=K,P/=K,T*=x,P*=x,q=-(k-H),it=M-N,K=Math.sqrt(q*q+it*it),q/=K,it/=K,q*=x,it*=x;const C=M-I,G=B-k,U=M-N,w=H-k,O=C*U+G*w,L=G*U-w*C,X=L<0;if(Math.abs(L)<.001*Math.abs(O)){g.push(M-T*W,k-P*W,M+T*Y,k+P*Y),O>=0&&(o.join===Bi.ROUND?_+=$n(M,k,M-T*W,k-P*W,M-q*W,k-it*W,g,!1)+4:_+=2,g.push(M-q*Y,k-it*Y,M+q*W,k+it*W));continue}const Q=(-T+I)*(-P+k)-(-T+M)*(-P+B),st=(-q+N)*(-it+k)-(-q+M)*(-it+H),ht=(C*st-U*Q)/L,dt=(w*Q-G*st)/L,ut=(ht-M)*(ht-M)+(dt-k)*(dt-k),lt=M+(ht-M)*W,gt=k+(dt-k)*W,yt=M-(ht-M)*Y,xt=k-(dt-k)*Y,At=Math.min(C*C+G*G,U*U+w*w),vt=X?W:Y,pt=At+vt*vt*b,It=ut<=pt;let Ht=o.join;if(Ht===Bi.MITER&&ut/b>S&&(Ht=Bi.BEVEL),It)switch(Ht){case Bi.MITER:{g.push(lt,gt,yt,xt);break}case Bi.BEVEL:{X?g.push(lt,gt,M+T*Y,k+P*Y,lt,gt,M+q*Y,k+it*Y):g.push(M-T*W,k-P*W,yt,xt,M-q*W,k-it*W,yt,xt),_+=2;break}case Bi.ROUND:{X?(g.push(lt,gt,M+T*Y,k+P*Y),_+=$n(M,k,M+T*Y,k+P*Y,M+q*Y,k+it*Y,g,!0)+4,g.push(lt,gt,M+q*Y,k+it*Y)):(g.push(M-T*W,k-P*W,yt,xt),_+=$n(M,k,M-T*W,k-P*W,M-q*W,k-it*W,g,!1)+4,g.push(M-q*W,k-it*W,yt,xt));break}}else{switch(g.push(M-T*W,k-P*W,M+T*Y,k+P*Y),Ht){case Bi.MITER:{X?g.push(yt,xt,yt,xt):g.push(lt,gt,lt,gt),_+=2;break}case Bi.ROUND:{X?_+=$n(M,k,M+T*Y,k+P*Y,M+q*Y,k+it*Y,g,!0)+2:_+=$n(M,k,M-T*W,k-P*W,M-q*W,k-it*W,g,!1)+2;break}}g.push(M-q*W,k-it*W,M+q*Y,k+it*Y),_+=2}}I=n[(y-2)*2],B=n[(y-2)*2+1],M=n[(y-1)*2],k=n[(y-1)*2+1],T=-(B-k),P=I-M,K=Math.sqrt(T*T+P*P),T/=K,P/=K,T*=x,P*=x,g.push(M-T*W,k-P*W,M+T*Y,k+P*Y),p||(o.cap===En.ROUND?_+=$n(M-T*(W-Y)*.5,k-P*(W-Y)*.5,M-T*W,k-P*W,M+T*Y,k+P*Y,g,!1)+2:o.cap===En.SQUARE&&(_+=v_(M,k,T,P,W,Y,!1,g)));const ft=t.indices,A=ca.epsilon*ca.epsilon;for(let D=E;D<_+E-2;++D)I=g[D*2],B=g[D*2+1],M=g[(D+1)*2],k=g[(D+1)*2+1],N=g[(D+2)*2],H=g[(D+2)*2+1],!(Math.abs(I*(k-H)+M*(H-B)+N*(B-k))<A)&&ft.push(D,D+1,D+2)}function A2(s,t){let i=0;const n=s.shape,l=s.points||n.points,o=n.type!==Ye.POLY||n.closeStroke;if(l.length===0)return;const h=t.points,c=t.indices,p=l.length/2,m=h.length/2;let g=m;for(h.push(l[0],l[1]),i=1;i<p;i++)h.push(l[i*2],l[i*2+1]),c.push(g,g+1),g++;o&&c.push(g,m)}function __(s,t){s.lineStyle.native?A2(s,t):S2(s,t)}class Tp{static curveLength(t,i,n,l,o,h){const c=t-2*n+o,p=i-2*l+h,m=2*n-2*t,g=2*l-2*i,y=4*(c*c+p*p),_=4*(c*m+p*g),E=m*m+g*g,x=2*Math.sqrt(y+_+E),b=Math.sqrt(y),S=2*y*b,I=2*Math.sqrt(E),B=_/b;return(S*x+b*_*(x-I)+(4*E*y-_*_)*Math.log((2*b+B+x)/(B+I)))/(4*S)}static curveTo(t,i,n,l,o){const h=o[o.length-2],c=o[o.length-1],p=ca._segmentsCount(Tp.curveLength(h,c,t,i,n,l));let m=0,g=0;for(let y=1;y<=p;++y){const _=y/p;m=h+(t-h)*_,g=c+(i-c)*_,o.push(m+(t+(n-t)*_-m)*_,g+(i+(l-i)*_-g)*_)}}}const Tf={[Ye.POLY]:Zx,[Ye.CIRC]:Nu,[Ye.ELIP]:Nu,[Ye.RECT]:b2,[Ye.RREC]:E2},x_=[],lu=[];class Iu{constructor(t,i=null,n=null,l=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=i,this.matrix=l,this.type=t.type}clone(){return new Iu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ks=new Kt,Kx=class Qx extends ix{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Mu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),lu.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const i=this.batches[t];i.reset(),x_.push(i)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,i=null,n=null,l=null){const o=new Iu(t,i,n,l);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,i=null){if(!this.graphicsData.length)return null;const n=new Iu(t,null,null,i),l=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=l.lineStyle,l.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const i=this.graphicsData;for(let n=0;n<i.length;++n){const l=i[n];if(l.fillStyle.visible&&l.shape&&(l.matrix?l.matrix.applyInverse(t,Ks):Ks.copyFrom(t),l.shape.contains(Ks.x,Ks.y))){let o=!1;if(l.holes){for(let h=0;h<l.holes.length;h++)if(l.holes[h].shape.contains(Ks.x,Ks.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,i=this.graphicsData;let n=null,l=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],l=n.style);for(let p=this.shapeIndex;p<i.length;p++){this.shapeIndex++;const m=i[p],g=m.fillStyle,y=m.lineStyle;Tf[m.type].build(m),m.matrix&&this.transformPoints(m.points,m.matrix),(g.visible||y.visible)&&this.processHoles(m.holes);for(let _=0;_<2;_++){const E=_===0?g:y;if(!E.visible)continue;const x=E.texture.baseTexture,b=this.indices.length,S=this.points.length/2;x.wrapMode=Tn.REPEAT,_===0?this.processFill(m):this.processLine(m);const I=this.points.length/2-S;I!==0&&(n&&!this._compareStyles(l,E)&&(n.end(b,S),n=null),n||(n=x_.pop()||new T2,n.begin(E,b,S),this.batches.push(n),l=E),this.addUvs(this.points,t,E.texture,S,I,E.matrix))}}const o=this.indices.length,h=this.points.length/2;if(n&&n.end(o,h),this.batches.length===0){this.batchable=!0;return}const c=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&c===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=c?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,i){return!(!t||!i||t.texture.baseTexture!==i.texture.baseTexture||t.color+t.alpha!==i.color+i.alpha||!!t.native!=!!i.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,i=this.graphicsData.length;t<i;t++){const n=this.graphicsData[t],l=n.fillStyle,o=n.lineStyle;if(l&&!l.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let i=0,n=t.length;i<n;i++){const l=t[i];for(let o=0;o<l.size;o++){const h=l.start+o;this.indicesUint16[h]=this.indicesUint16[h]-l.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<Qx.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Pt._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),lu.push(this.drawCalls[y]);this.drawCalls.length=0;const i=this.colors,n=this.textureIds;let l=lu.pop();l||(l=new Ff,l.texArray=new Hf),l.texArray.count=0,l.start=0,l.size=0,l.type=or.TRIANGLES;let o=0,h=null,c=0,p=!1,m=or.TRIANGLES,g=0;this.drawCalls.push(l);for(let y=0;y<this.batches.length;y++){const _=this.batches[y],E=8,x=_.style,b=x.texture.baseTexture;p!==!!x.native&&(p=!!x.native,m=p?or.LINES:or.TRIANGLES,h=null,o=E,t++),h!==b&&(h=b,b._batchEnabled!==t&&(o===E&&(t++,o=0,l.size>0&&(l=lu.pop(),l||(l=new Ff,l.texArray=new Hf),this.drawCalls.push(l)),l.start=g,l.size=0,l.texArray.count=0,l.type=m),b.touched=1,b._batchEnabled=t,b._batchLocation=o,b.wrapMode=Tn.REPEAT,l.texArray.elements[l.texArray.count++]=b,o++)),l.size+=_.size,g+=_.size,c=b._batchLocation,this.addColors(i,x.color,x.alpha,_.attribSize,_.attribStart),this.addTextureIds(n,c,_.attribSize,_.attribStart)}Pt._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,i=this.uvs,n=this.colors,l=this.textureIds,o=new ArrayBuffer(t.length*3*4),h=new Float32Array(o),c=new Uint32Array(o);let p=0;for(let m=0;m<t.length/2;m++)h[p++]=t[m*2],h[p++]=t[m*2+1],h[p++]=i[m*2],h[p++]=i[m*2+1],c[p++]=n[m],h[p++]=l[m];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Zx.triangulate(t,this):Tf[t.type].triangulate(t,this)}processLine(t){__(t,this);for(let i=0;i<t.holes.length;i++)__(t.holes[i],this)}processHoles(t){for(let i=0;i<t.length;i++){const n=t[i];Tf[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,i){for(let n=0;n<t.length/2;n++){const l=t[n*2],o=t[n*2+1];t[n*2]=i.a*l+i.c*o+i.tx,t[n*2+1]=i.b*l+i.d*o+i.ty}}addColors(t,i,n,l,o=0){const h=pe.shared.setValue(i).toLittleEndianNumber(),c=pe.shared.setValue(h).toPremultiplied(n);t.length=Math.max(t.length,o+l);for(let p=0;p<l;p++)t[o+p]=c}addTextureIds(t,i,n,l=0){t.length=Math.max(t.length,l+n);for(let o=0;o<n;o++)t[l+o]=i}addUvs(t,i,n,l,o,h=null){let c=0;const p=i.length,m=n.frame;for(;c<o;){let y=t[(l+c)*2],_=t[(l+c)*2+1];if(h){const E=h.a*y+h.c*_+h.tx;_=h.b*y+h.d*_+h.ty,y=E}c++,i.push(y/m.width,_/m.height)}const g=n.baseTexture;(m.width<g.width||m.height<g.height)&&this.adjustUvs(i,n,p,o)}adjustUvs(t,i,n,l){const o=i.baseTexture,h=1e-6,c=n+l*2,p=i.frame,m=p.width/o.width,g=p.height/o.height;let y=p.x/p.width,_=p.y/p.height,E=Math.floor(t[n]+h),x=Math.floor(t[n+1]+h);for(let b=n+2;b<c;b+=2)E=Math.min(E,Math.floor(t[b]+h)),x=Math.min(x,Math.floor(t[b+1]+h));y-=E,_-=x;for(let b=n;b<c;b+=2)t[b]=(t[b]+y)*m,t[b+1]=(t[b+1]+_)*g}};Kx.BATCHABLE_SIZE=100;let w2=Kx;class qu{constructor(){this.color=16777215,this.alpha=1,this.texture=Ct.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new qu;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=Ct.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Sp extends qu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=En.BUTT,this.join=Bi.MITER,this.miterLimit=10}clone(){const t=new Sp;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=En.BUTT,this.join=Bi.MITER,this.miterLimit=10}}const Sf={},lp=class yu extends Yi{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new qu,this._lineStyle=new Sp,this._matrix=null,this._holeMode=!1,this.state=dr.for2d(),this._geometry=t||new w2,this._geometry.refCount++,this._transformID=-1,this._tintColor=new pe(16777215),this.blendMode=Nt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new yu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,i=0,n,l=.5,o=!1){return typeof t=="number"&&(t={width:t,color:i,alpha:n,alignment:l,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const i={width:0,texture:Ct.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:En.BUTT,join:Bi.MITER,miterLimit:10};t=Object.assign(i,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new ns,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[i-2],t[i-1]))}else this.currentPath=new ns,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,i){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=i,this}lineTo(t,i){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,l=n[n.length-2],o=n[n.length-1];return(l!==t||o!==i)&&n.push(t,i),this}_initCurve(t=0,i=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,i]):this.moveTo(t,i)}quadraticCurveTo(t,i,n,l){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Tp.curveTo(t,i,n,l,o),this}bezierCurveTo(t,i,n,l,o,h){return this._initCurve(),Ep.curveTo(t,i,n,l,o,h,this.currentPath.points),this}arcTo(t,i,n,l,o){this._initCurve(t,i);const h=this.currentPath.points,c=y_.curveTo(t,i,n,l,o,h);if(c){const{cx:p,cy:m,radius:g,startAngle:y,endAngle:_,anticlockwise:E}=c;this.arc(p,m,g,y,_,E)}return this}arc(t,i,n,l,o,h=!1){if(l===o)return this;if(!h&&o<=l?o+=Su:h&&l<=o&&(l+=Su),o-l===0)return this;const c=t+Math.cos(l)*n,p=i+Math.sin(l)*n,m=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const y=Math.abs(g[g.length-2]-c),_=Math.abs(g[g.length-1]-p);y<m&&_<m||g.push(c,p)}else this.moveTo(c,p),g=this.currentPath.points;return y_.arc(c,p,t,i,n,l,o,h,g),this}beginFill(t=0,i){return this.beginTextureFill({texture:Ct.WHITE,color:t,alpha:i})}normalizeColor(t){const i=pe.shared.setValue(t.color??0);t.color=i.toNumber(),t.alpha??(t.alpha=i.alpha)}beginTextureFill(t){const i={texture:Ct.WHITE,color:16777215,matrix:null};t=Object.assign(i,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,i,n,l){return this.drawShape(new kt(t,i,n,l))}drawRoundedRect(t,i,n,l,o){return this.drawShape(new ju(t,i,n,l,o))}drawCircle(t,i,n){return this.drawShape(new zu(t,i,n))}drawEllipse(t,i,n,l){return this.drawShape(new Hu(t,i,n,l))}drawPolygon(...t){let i,n=!0;const l=t[0];l.points?(n=l.closeStroke,i=l.points):Array.isArray(t[0])?i=t[0]:i=t;const o=new ns(i);return o.closeStroke=n,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ye.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const i=this._geometry;i.updateBatches(),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,i=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let l=0;l<n;l++){const o=t.batches[l],h=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),p=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),m=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),g={vertexData:c,blendMode:i,indices:m,uvs:p,_batchRGB:pe.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[l]=g}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let i=0,n=this.batches.length;i<n;i++){const l=this.batches[i];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}_renderDirect(t){const i=this._resolveDirectShader(t),n=this._geometry,l=this.worldAlpha,o=i.uniforms,h=n.drawCalls;o.translationMatrix=this.transform.worldTransform,pe.shared.setValue(this._tintColor).premultiply(l).toArray(o.tint),t.shader.bind(i),t.geometry.bind(n,i),t.state.set(this.state);for(let c=0,p=h.length;c<p;c++)this._renderDrawCallDirect(t,n.drawCalls[c])}_renderDrawCallDirect(t,i){const{texArray:n,type:l,size:o,start:h}=i,c=n.count;for(let p=0;p<c;p++)t.texture.bind(n.elements[p],p);t.geometry.draw(l,o,h)}_resolveDirectShader(t){let i=this.shader;const n=this.pluginName;if(!i){if(!Sf[n]){const{maxTextures:l}=t.plugins[n],o=new Int32Array(l);for(let p=0;p<l;p++)o[p]=p;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new me,default:qi.from({uSamplers:o},!0)},c=t.plugins[n]._shader.program;Sf[n]=new hr(c,h)}i=Sf[n]}return i}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:i,minY:n,maxX:l,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,i,n,l,o)}containsPoint(t){return this.worldTransform.applyInverse(t,yu._TEMP_POINT),this._geometry.containsPoint(yu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const i=this.batches[t];i._tintRGB=pe.shared.setValue(this._tintColor).multiply(i._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const i=this.transform.worldTransform,n=i.a,l=i.b,o=i.c,h=i.d,c=i.tx,p=i.ty,m=this._geometry.points,g=this.vertexData;let y=0;for(let _=0;_<m.length;_+=2){const E=m[_],x=m[_+1];g[y++]=n*E+o*x+c,g[y++]=h*x+l*E+p}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};lp.curves=ca,lp._TEMP_POINT=new Kt;let is=lp;class C2{constructor(t,i){this.uvBuffer=t,this.uvMatrix=i,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const i=this.uvBuffer.data;(!this.data||this.data.length!==i.length)&&(this.data=new Float32Array(i.length)),this.uvMatrix.multiplyUvs(i,this.data),this._updateID++}}const Af=new Kt,b_=new ns,Jx=class tb extends Yi{constructor(t,i,n,l=or.TRIANGLES){super(),this.geometry=t,this.shader=i,this.state=n||dr.for2d(),this.drawMode=l,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Et.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===or.TRIANGLES&&i.length<tb.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),t.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(i),t.state.set(this.state),t.geometry.bind(this.geometry,i),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const i=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const l=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[l]),t.plugins[l].render(this)}calculateVertices(){const t=this.geometry.buffers[0],i=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));const l=this.transform.worldTransform,o=l.a,h=l.b,c=l.c,p=l.d,m=l.tx,g=l.ty,y=this.vertexData;for(let _=0;_<y.length/2;_++){const E=i[_*2],x=i[_*2+1];y[_*2]=o*E+c*x+m,y[_*2+1]=h*E+p*x+g}if(this._roundPixels){const _=Et.RESOLUTION;for(let E=0;E<y.length;++E)y[E]=Math.round(y[E]*_)/_}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new C2(t,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Af);const i=this.geometry.getBuffer("aVertexPosition").data,n=b_.points,l=this.geometry.getIndex().data,o=l.length,h=this.drawMode===4?3:1;for(let c=0;c+2<o;c+=h){const p=l[c]*2,m=l[c+1]*2,g=l[c+2]*2;if(n[0]=i[p],n[1]=i[p+1],n[2]=i[m],n[3]=i[m+1],n[4]=i[g],n[5]=i[g+1],b_.contains(Af.x,Af.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Jx.BATCHABLE_SIZE=100;let E_=Jx;class R2 extends Sn{constructor(t,i,n){super();const l=new Ae(t),o=new Ae(i,!0),h=new Ae(n,!0,!0);this.addAttribute("aVertexPosition",l,2,!1,Dt.FLOAT).addAttribute("aTextureCoord",o,2,!1,Dt.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var M2=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,D2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class T_ extends hr{constructor(t,i){const n={uSampler:t,alpha:1,uTextureMatrix:me.IDENTITY,uColor:new Float32Array([1,1,1,1])};i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i),i.uniforms&&Object.assign(n,i.uniforms),super(i.program||Gr.from(D2,M2),n),this._colorDirty=!1,this.uvMatrix=new gx(t),this.batchable=i.program===void 0,this.pluginName=i.pluginName,this._tintColor=new pe(i.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=i.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;pe.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class S_{constructor(t,i,n){this.geometry=new Sn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let l=0;l<t.length;++l){let o=t[l];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Dt.FLOAT,offset:o.offset},i[l]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let i=0;this.indexBuffer=new Ae(KT(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];c.offset=i,i+=c.size,this.dynamicStride+=c.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ae(this.dynamicData,!1,!1);let l=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];c.offset=l,l+=c.size,this.staticStride+=c.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Ae(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===Dt.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===Dt.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}}uploadDynamic(t,i,n){for(let l=0;l<this.dynamicProperties.length;l++){const o=this.dynamicProperties[l];o.uploadFunction(t,i,n,o.type===Dt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,i,n){for(let l=0;l<this.staticProperties.length;l++){const o=this.staticProperties[l];o.uploadFunction(t,i,n,o.type===Dt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var O2=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,B2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class eb extends Xu{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new me,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Dt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=hr.from(B2,O2,{}),this.state=dr.for2d()}render(t){const i=t.children,n=t._maxSize,l=t._batchSize,o=this.renderer;let h=i.length;if(h===0)return;h>n&&!t.autoResize&&(h=n);let c=t._buffers;c||(c=t._buffers=this.generateBuffers(t));const p=i[0]._texture.baseTexture,m=p.alphaMode>0;this.state.blendMode=J_(t.blendMode,m),o.state.set(this.state);const g=o.gl,y=t.worldTransform.copyTo(this.tempMatrix);y.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=pe.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,m).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let _=!1;for(let E=0,x=0;E<h;E+=l,x+=1){let b=h-E;b>l&&(b=l),x>=c.length&&c.push(this._generateOneMoreBuffer(t));const S=c[x];S.uploadDynamic(i,E,b);const I=t._bufferUpdateIDs[x]||0;_=_||S._updateID<I,_&&(S._updateID=t._updateID,S.uploadStatic(i,E,b)),o.geometry.bind(S.geometry),g.drawElements(g.TRIANGLES,b*6,g.UNSIGNED_SHORT,0)}}generateBuffers(t){const i=[],n=t._maxSize,l=t._batchSize,o=t._properties;for(let h=0;h<n;h+=l)i.push(new S_(this.properties,o,l));return i}_generateOneMoreBuffer(t){const i=t._batchSize,n=t._properties;return new S_(this.properties,n,i)}uploadVertices(t,i,n,l,o,h){let c=0,p=0,m=0,g=0;for(let y=0;y<n;++y){const _=t[i+y],E=_._texture,x=_.scale.x,b=_.scale.y,S=E.trim,I=E.orig;S?(p=S.x-_.anchor.x*I.width,c=p+S.width,g=S.y-_.anchor.y*I.height,m=g+S.height):(c=I.width*(1-_.anchor.x),p=I.width*-_.anchor.x,m=I.height*(1-_.anchor.y),g=I.height*-_.anchor.y),l[h]=p*x,l[h+1]=g*b,l[h+o]=c*x,l[h+o+1]=g*b,l[h+o*2]=c*x,l[h+o*2+1]=m*b,l[h+o*3]=p*x,l[h+o*3+1]=m*b,h+=o*4}}uploadPosition(t,i,n,l,o,h){for(let c=0;c<n;c++){const p=t[i+c].position;l[h]=p.x,l[h+1]=p.y,l[h+o]=p.x,l[h+o+1]=p.y,l[h+o*2]=p.x,l[h+o*2+1]=p.y,l[h+o*3]=p.x,l[h+o*3+1]=p.y,h+=o*4}}uploadRotation(t,i,n,l,o,h){for(let c=0;c<n;c++){const p=t[i+c].rotation;l[h]=p,l[h+o]=p,l[h+o*2]=p,l[h+o*3]=p,h+=o*4}}uploadUvs(t,i,n,l,o,h){for(let c=0;c<n;++c){const p=t[i+c]._texture._uvs;p?(l[h]=p.x0,l[h+1]=p.y0,l[h+o]=p.x1,l[h+o+1]=p.y1,l[h+o*2]=p.x2,l[h+o*2+1]=p.y2,l[h+o*3]=p.x3,l[h+o*3+1]=p.y3,h+=o*4):(l[h]=0,l[h+1]=0,l[h+o]=0,l[h+o+1]=0,l[h+o*2]=0,l[h+o*2+1]=0,l[h+o*3]=0,l[h+o*3+1]=0,h+=o*4)}}uploadTint(t,i,n,l,o,h){for(let c=0;c<n;++c){const p=t[i+c],m=pe.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);l[h]=m,l[h+o]=m,l[h+o*2]=m,l[h+o*3]=m,h+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}eb.extension={name:"particle",type:_t.RendererPlugin};Rt.add(eb);var Yu=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(Yu||{});const ou={willReadFrequently:!0},sr=class Mt{static get experimentalLetterSpacingSupported(){let t=Mt._experimentalLetterSpacingSupported;if(t!==void 0){const i=Et.ADAPTER.getCanvasRenderingContext2D().prototype;t=Mt._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return t}constructor(t,i,n,l,o,h,c,p,m){this.text=t,this.style=i,this.width=n,this.height=l,this.lines=o,this.lineWidths=h,this.lineHeight=c,this.maxLineWidth=p,this.fontProperties=m}static measureText(t,i,n,l=Mt._canvas){n=n??i.wordWrap;const o=i.toFontString(),h=Mt.measureFont(o);h.fontSize===0&&(h.fontSize=i.fontSize,h.ascent=i.fontSize);const c=l.getContext("2d",ou);c.font=o;const p=(n?Mt.wordWrap(t,i,l):t).split(/(?:\r\n|\r|\n)/),m=new Array(p.length);let g=0;for(let x=0;x<p.length;x++){const b=Mt._measureText(p[x],i.letterSpacing,c);m[x]=b,g=Math.max(g,b)}let y=g+i.strokeThickness;i.dropShadow&&(y+=i.dropShadowDistance);const _=i.lineHeight||h.fontSize+i.strokeThickness;let E=Math.max(_,h.fontSize+i.strokeThickness*2)+i.leading+(p.length-1)*(_+i.leading);return i.dropShadow&&(E+=i.dropShadowDistance),new Mt(t,i,y,E,p,m,_+i.leading,g,h)}static _measureText(t,i,n){let l=!1;Mt.experimentalLetterSpacingSupported&&(Mt.experimentalLetterSpacing?(n.letterSpacing=`${i}px`,n.textLetterSpacing=`${i}px`,l=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let o=n.measureText(t).width;return o>0&&(l?o-=i:o+=(Mt.graphemeSegmenter(t).length-1)*i),o}static wordWrap(t,i,n=Mt._canvas){const l=n.getContext("2d",ou);let o=0,h="",c="";const p=Object.create(null),{letterSpacing:m,whiteSpace:g}=i,y=Mt.collapseSpaces(g),_=Mt.collapseNewlines(g);let E=!y;const x=i.wordWrapWidth+m,b=Mt.tokenize(t);for(let S=0;S<b.length;S++){let I=b[S];if(Mt.isNewline(I)){if(!_){c+=Mt.addLine(h),E=!y,h="",o=0;continue}I=" "}if(y){const M=Mt.isBreakingSpace(I),k=Mt.isBreakingSpace(h[h.length-1]);if(M&&k)continue}const B=Mt.getFromCache(I,m,p,l);if(B>x)if(h!==""&&(c+=Mt.addLine(h),h="",o=0),Mt.canBreakWords(I,i.breakWords)){const M=Mt.wordWrapSplit(I);for(let k=0;k<M.length;k++){let N=M[k],H=N,T=1;for(;M[k+T];){const q=M[k+T];if(!Mt.canBreakChars(H,q,I,k,i.breakWords))N+=q;else break;H=q,T++}k+=T-1;const P=Mt.getFromCache(N,m,p,l);P+o>x&&(c+=Mt.addLine(h),E=!1,h="",o=0),h+=N,o+=P}}else{h.length>0&&(c+=Mt.addLine(h),h="",o=0);const M=S===b.length-1;c+=Mt.addLine(I,!M),E=!1,h="",o=0}else B+o>x&&(E=!1,c+=Mt.addLine(h),h="",o=0),(h.length>0||!Mt.isBreakingSpace(I)||E)&&(h+=I,o+=B)}return c+=Mt.addLine(h,!1),c}static addLine(t,i=!0){return t=Mt.trimRight(t),t=i?`${t}
`:t,t}static getFromCache(t,i,n,l){let o=n[t];return typeof o!="number"&&(o=Mt._measureText(t,i,l)+i,n[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let i=t.length-1;i>=0;i--){const n=t[i];if(!Mt.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Mt._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,i){return typeof t!="string"?!1:Mt._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const i=[];let n="";if(typeof t!="string")return i;for(let l=0;l<t.length;l++){const o=t[l],h=t[l+1];if(Mt.isBreakingSpace(o,h)||Mt.isNewline(o)){n!==""&&(i.push(n),n=""),i.push(o);continue}n+=o}return n!==""&&i.push(n),i}static canBreakWords(t,i){return i}static canBreakChars(t,i,n,l,o){return!0}static wordWrapSplit(t){return Mt.graphemeSegmenter(t)}static measureFont(t){if(Mt._fonts[t])return Mt._fonts[t];const i={ascent:0,descent:0,fontSize:0},n=Mt._canvas,l=Mt._context;l.font=t;const o=Mt.METRICS_STRING+Mt.BASELINE_SYMBOL,h=Math.ceil(l.measureText(o).width);let c=Math.ceil(l.measureText(Mt.BASELINE_SYMBOL).width);const p=Math.ceil(Mt.HEIGHT_MULTIPLIER*c);if(c=c*Mt.BASELINE_MULTIPLIER|0,h===0||p===0)return Mt._fonts[t]=i,i;n.width=h,n.height=p,l.fillStyle="#f00",l.fillRect(0,0,h,p),l.font=t,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(o,0,c);const m=l.getImageData(0,0,h,p).data,g=m.length,y=h*4;let _=0,E=0,x=!1;for(_=0;_<c;++_){for(let b=0;b<y;b+=4)if(m[E+b]!==255){x=!0;break}if(!x)E+=y;else break}for(i.ascent=c-_,E=g-y,x=!1,_=p;_>c;--_){for(let b=0;b<y;b+=4)if(m[E+b]!==255){x=!0;break}if(!x)E-=y;else break}return i.descent=_-c,i.fontSize=i.ascent+i.descent,Mt._fonts[t]=i,i}static clearMetrics(t=""){t?delete Mt._fonts[t]:Mt._fonts={}}static get _canvas(){if(!Mt.__canvas){let t;try{const i=new OffscreenCanvas(0,0);if(i.getContext("2d",ou)?.measureText)return Mt.__canvas=i,i;t=Et.ADAPTER.createCanvas()}catch{t=Et.ADAPTER.createCanvas()}t.width=t.height=10,Mt.__canvas=t}return Mt.__canvas}static get _context(){return Mt.__context||(Mt.__context=Mt._canvas.getContext("2d",ou)),Mt.__context}};sr.METRICS_STRING="|q",sr.BASELINE_SYMBOL="M",sr.BASELINE_MULTIPLIER=1.4,sr.HEIGHT_MULTIPLIER=2,sr.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const s=new Intl.Segmenter;return t=>[...s.segment(t)].map(i=>i.segment)}return s=>[...s]})(),sr.experimentalLetterSpacing=!1,sr._fonts={},sr._newlines=[10,13],sr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let _n=sr;const N2=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ib=class El{constructor(t){this.styleID=0,this.reset(),Cf(this,t,t)}clone(){const t={};return Cf(t,this,El.defaultStyle),new El(t)}reset(){Cf(this,El.defaultStyle,El.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const i=wf(t);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const i=wf(t);this._fill!==i&&(this._fill=i,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){I2(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const i=wf(t);this._stroke!==i&&(this._stroke=i,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(let n=i.length-1;n>=0;n--){let l=i[n].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&!N2.includes(l)&&(l=`"${l}"`),i[n]=l}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${i.join(",")}`}};ib.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Yu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let An=ib;function wf(s){const t=pe.shared,i=n=>{const l=t.setValue(n);return l.alpha===1?l.toHex():l.toRgbaString()};return Array.isArray(s)?s.map(i):i(s)}function I2(s,t){if(!Array.isArray(s)||!Array.isArray(t)||s.length!==t.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==t[i])return!1;return!0}function Cf(s,t,i){for(const n in i)Array.isArray(t[n])?s[n]=t[n].slice():s[n]=t[n]}const U2={texture:!0,children:!1,baseTexture:!0},rb=class op extends fa{constructor(t,i,n){let l=!1;n||(n=Et.ADAPTER.createCanvas(),l=!0),n.width=3,n.height=3;const o=Ct.from(n);o.orig=new kt,o.trim=new kt,super(o),this._ownCanvas=l,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=op.defaultResolution??Et.RESOLUTION,this._autoResolution=op.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=i,this.localStyleID=-1}static get experimentalLetterSpacing(){return _n.experimentalLetterSpacing}static set experimentalLetterSpacing(t){qt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),_n.experimentalLetterSpacing=t}updateText(t){const i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,l=_n.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=l.width,h=l.height,c=l.lines,p=l.lineHeight,m=l.lineWidths,g=l.maxLineWidth,y=l.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+i.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+i.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=i.strokeThickness,n.textBaseline=i.textBaseline,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit;let _,E;const x=i.dropShadow?2:1;for(let b=0;b<x;++b){const S=i.dropShadow&&b===0,I=S?Math.ceil(Math.max(1,h)+i.padding*2):0,B=I*this._resolution;if(S){n.fillStyle="black",n.strokeStyle="black";const k=i.dropShadowColor,N=i.dropShadowBlur*this._resolution,H=i.dropShadowDistance*this._resolution;n.shadowColor=pe.shared.setValue(k).setAlpha(i.dropShadowAlpha).toRgbaString(),n.shadowBlur=N,n.shadowOffsetX=Math.cos(i.dropShadowAngle)*H,n.shadowOffsetY=Math.sin(i.dropShadowAngle)*H+B}else n.fillStyle=this._generateFillStyle(i,c,l),n.strokeStyle=i.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let M=(p-y.fontSize)/2;p-y.fontSize<0&&(M=0);for(let k=0;k<c.length;k++)_=i.strokeThickness/2,E=i.strokeThickness/2+k*p+y.ascent+M,i.align==="right"?_+=g-m[k]:i.align==="center"&&(_+=(g-m[k])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(c[k],_+i.padding,E+i.padding-I,!0),i.fill&&this.drawLetterSpacing(c[k],_+i.padding,E+i.padding-I)}this.updateTexture()}drawLetterSpacing(t,i,n,l=!1){const o=this._style.letterSpacing;let h=!1;if(_n.experimentalLetterSpacingSupported&&(_n.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||h){l?this.context.strokeText(t,i,n):this.context.fillText(t,i,n);return}let c=i;const p=_n.graphemeSegmenter(t);let m=this.context.measureText(t).width,g=0;for(let y=0;y<p.length;++y){const _=p[y];l?this.context.strokeText(_,c,n):this.context.fillText(_,c,n);let E="";for(let x=y+1;x<p.length;++x)E+=p[x];g=this.context.measureText(E).width,c+=m-g+o,m=g}}updateTexture(){const t=this.canvas;if(this._style.trim){const h=eS(t);h.data&&(t.width=h.width,t.height=h.height,this.context.putImageData(h.data,0,0))}const i=this._texture,n=this._style,l=n.trim?0:n.padding,o=i.baseTexture;i.trim.width=i._frame.width=t.width/this._resolution,i.trim.height=i._frame.height=t.height/this._resolution,i.trim.x=-l,i.trim.y=-l,i.orig.width=i._frame.width-l*2,i.orig.height=i._frame.height-l*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),i.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,i){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,i)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,i,n){const l=t.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;let o;const h=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,p=this.canvas.width/this._resolution-h-c*2,m=this.canvas.height/this._resolution-h-c*2,g=l.slice(),y=t.fillGradientStops.slice();if(!y.length){const _=g.length+1;for(let E=1;E<_;++E)y.push(E/_)}if(g.unshift(l[0]),y.unshift(0),g.push(l[l.length-1]),y.push(1),t.fillGradientType===Yu.LINEAR_VERTICAL){o=this.context.createLinearGradient(p/2,c,p/2,m+c);const _=n.fontProperties.fontSize+t.strokeThickness;for(let E=0;E<i.length;E++){const x=n.lineHeight*(E-1)+_,b=n.lineHeight*E;let S=b;E>0&&x>b&&(S=(b+x)/2);const I=b+_,B=n.lineHeight*(E+1);let M=I;E+1<i.length&&B<I&&(M=(I+B)/2);const k=(M-S)/m;for(let N=0;N<g.length;N++){let H=0;typeof y[N]=="number"?H=y[N]:H=N/g.length;let T=Math.min(1,Math.max(0,S/m+H*k));T=Number(T.toFixed(5)),o.addColorStop(T,g[N])}}}else{o=this.context.createLinearGradient(c,m/2,p+c,m/2);const _=g.length+1;let E=1;for(let x=0;x<g.length;x++){let b;typeof y[x]=="number"?b=y[x]:b=E/_,o.addColorStop(b,g[x]),E++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},U2,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const i=bn(this.scale.x)||1;this.scale.x=i*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const i=bn(this.scale.y)||1;this.scale.y=i*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof An?this._style=t:this._style=new An(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};rb.defaultAutoResolution=!0;let rs=rb;class L2{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function P2(s,t){let i=!1;if(s?._textures?.length){for(let n=0;n<s._textures.length;n++)if(s._textures[n]instanceof Ct){const l=s._textures[n].baseTexture;t.includes(l)||(t.push(l),i=!0)}}return i}function F2(s,t){if(s.baseTexture instanceof Pt){const i=s.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function k2(s,t){if(s._texture&&s._texture instanceof Ct){const i=s._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function G2(s,t){return t instanceof rs?(t.updateText(!0),!0):!1}function z2(s,t){if(t instanceof An){const i=t.toFontString();return _n.measureFont(i),!0}return!1}function H2(s,t){if(s instanceof rs){t.includes(s.style)||t.push(s.style),t.includes(s)||t.push(s);const i=s._texture.baseTexture;return t.includes(i)||t.push(i),!0}return!1}function j2(s,t){return s instanceof An?(t.includes(s)||t.push(s),!0):!1}const nb=class sb{constructor(t){this.limiter=new L2(sb.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(H2),this.registerFindHook(j2),this.registerFindHook(P2),this.registerFindHook(F2),this.registerFindHook(k2),this.registerUploadHook(G2),this.registerUploadHook(z2)}upload(t){return new Promise(i=>{t&&this.add(t),this.queue.length?(this.completes.push(i),this.ticking||(this.ticking=!0,xi.system.addOnce(this.tick,this,ls.UTILITY))):i()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let i=!1;if(t&&!t._destroyed){for(let n=0,l=this.uploadHooks.length;n<l;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),i=!0;break}}i||this.queue.shift()}if(this.queue.length)xi.system.addOnce(this.tick,this,ls.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let i=0,n=t.length;i<n;i++)t[i]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let i=0,n=this.addHooks.length;i<n&&!this.addHooks[i](t,this.queue);i++);if(t instanceof Yi)for(let i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this}destroy(){this.ticking&&xi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};nb.uploadsPerFrame=4;let up=nb;Object.defineProperties(Et,{UPLOADS_PER_FRAME:{get(){return up.uploadsPerFrame},set(s){qt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),up.uploadsPerFrame=s}}});function ab(s,t){return t instanceof Pt?(t._glTextures[s.CONTEXT_UID]||s.texture.bind(t),!0):!1}function X2(s,t){if(!(t instanceof is))return!1;const{geometry:i}=t;t.finishPoly(),i.updateBatches();const{batches:n}=i;for(let l=0;l<n.length;l++){const{texture:o}=n[l].style;o&&ab(s,o.baseTexture)}return i.batchable||s.geometry.bind(i,t._resolveDirectShader(s)),!0}function V2(s,t){return s instanceof is?(t.push(s),!0):!1}class lb extends up{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(V2),this.registerUploadHook(ab),this.registerUploadHook(X2)}}lb.extension={name:"prepare",type:_t.RendererSystem};Rt.add(lb);var q2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Y2=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$2=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,A_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,W2=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const uu=new me;class ob extends Xu{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new dx,this.state=dr.for2d()}contextChange(){const t=this.renderer,i={globals:t.globalUniforms};this.simpleShader=hr.from(A_,W2,i),this.shader=t.context.webGLVersion>1?hr.from(Y2,q2,i):hr.from(A_,$2,i)}render(t){const i=this.renderer,n=this.quad;let l=n.vertices;l[0]=l[6]=t._width*-t.anchor.x,l[1]=l[3]=t._height*-t.anchor.y,l[2]=l[4]=t._width*(1-t.anchor.x),l[5]=l[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;l=n.uvs,l[0]=l[6]=-o,l[1]=l[3]=-h,l[2]=l[4]=1-o,l[5]=l[7]=1-h,n.invalidate();const c=t._texture,p=c.baseTexture,m=p.alphaMode>0,g=t.tileTransform.localTransform,y=t.uvMatrix;let _=p.isPowerOfTwo&&c.frame.width===p.width&&c.frame.height===p.height;_&&(p._glTextures[i.CONTEXT_UID]?_=p.wrapMode!==Tn.CLAMP:p.wrapMode===Tn.CLAMP&&(p.wrapMode=Tn.REPEAT));const E=_?this.simpleShader:this.shader,x=c.width,b=c.height,S=t._width,I=t._height;uu.set(g.a*x/S,g.b*x/I,g.c*b/S,g.d*b/I,g.tx/S,g.ty/I),uu.invert(),_?uu.prepend(y.mapCoord):(E.uniforms.uMapCoord=y.mapCoord.toArray(!0),E.uniforms.uClampFrame=y.uClampFrame,E.uniforms.uClampOffset=y.uClampOffset),E.uniforms.uTransform=uu.toArray(!0),E.uniforms.uColor=pe.shared.setValue(t.tint).premultiply(t.worldAlpha,m).toArray(E.uniforms.uColor),E.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),E.uniforms.uSampler=c,i.shader.bind(E),i.geometry.bind(n),this.state.blendMode=J_(t.blendMode,m),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}ob.extension={name:"tilingSprite",type:_t.RendererPlugin};Rt.add(ob);const ub=class Tl{constructor(t,i,n){this.linkedSheets=[],(t instanceof Pt||t instanceof Ct)&&(t={texture:t,data:i,resolutionFilename:n});const{texture:l,data:o,resolutionFilename:h=null,cachePrefix:c=""}=t;this.cachePrefix=c,this._texture=l instanceof Ct?l:null,this.baseTexture=l instanceof Pt?l:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const p=this.baseTexture.resource;this.resolution=this._updateResolution(h||(p?p.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:i}=this.data.meta;let n=zr(t,null);return n===null&&(n=typeof i=="number"?i:parseFloat(i??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Tl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const n=Tl.BATCH_SIZE;for(;i-t<n&&i<this._frameKeys.length;){const l=this._frameKeys[i],o=this._frames[l],h=o.frame;if(h){let c=null,p=null;const m=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new kt(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);o.rotated?c=new kt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):c=new kt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(p=new kt(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[l]=new Ct(this.baseTexture,c,g,p,o.rotated?2:0,o.anchor,o.borders),Ct.addToCache(this.textures[l],this.cachePrefix+l.toString())}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let n=0;n<t[i].length;n++){const l=t[i][n];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Tl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Tl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};ub.BATCH_SIZE=1e3;let w_=ub;const Z2=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function hb(s,t,i){const n={};if(s.forEach(l=>{n[l]=t}),Object.keys(t.textures).forEach(l=>{n[`${t.cachePrefix}${l}`]=t.textures[l]}),!i){const l=Fe.dirname(s[0]);t.linkedSheets.forEach((o,h)=>{Object.assign(n,hb([`${l}/${t.data.meta.related_multi_packs[h]}`],o,!0))})}return n}const K2={extension:_t.Asset,cache:{test:s=>s instanceof w_,getCacheableAssets:(s,t)=>hb(s,t,!1)},resolver:{test:s=>{const t=s.split("?")[0].split("."),i=t.pop(),n=t.pop();return i==="json"&&Z2.includes(n)},parse:s=>{const t=s.split(".");return{resolution:parseFloat(Et.RETINA_PREFIX.exec(s)?.[1]??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:_t.LoadParser,priority:$i.Normal},async testParse(s,t){return Fe.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){const{texture:n,imageFilename:l,cachePrefix:o}=t?.data??{};let h=Fe.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let c;if(n&&n.baseTexture)c=n;else{const g=np(h+(l??s.meta.image),t.src);c=(await i.load([g]))[g]}const p=new w_({texture:c.baseTexture,data:s,resolutionFilename:t.src,cachePrefix:o});await p.parse();const m=s?.meta?.related_multi_packs;if(Array.isArray(m)){const g=[];for(const _ of m){if(typeof _!="string")continue;let E=h+_;t.data?.ignoreMultiPack||(E=np(E,t.src),g.push(i.load({src:E,data:{ignoreMultiPack:!0}})))}const y=await Promise.all(g);p.linkedSheets=y,y.forEach(_=>{_.linkedSheets=[p].concat(p.linkedSheets.filter(E=>E!==_))})}return p},unload(s){s.destroy(!0)}}};Rt.add(K2);class Uu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class vu{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const i=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in i){const h=i[o].match(/^[a-z]+/gm)[0],c=i[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const m in c){const g=c[m].split("="),y=g[0],_=g[1].replace(/"/gm,""),E=parseFloat(_),x=isNaN(E)?_:E;p[y]=x}n[h].push(p)}const l=new Uu;return n.info.forEach(o=>l.info.push({face:o.face,size:parseInt(o.size,10)})),n.common.forEach(o=>l.common.push({lineHeight:parseInt(o.lineHeight,10)})),n.page.forEach(o=>l.page.push({id:parseInt(o.id,10),file:o.file})),n.char.forEach(o=>l.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),n.kerning.forEach(o=>l.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),n.distanceField.forEach(o=>l.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),l}}class hp{static test(t){const i=t;return typeof t!="string"&&"getElementsByTagName"in t&&i.getElementsByTagName("page").length&&i.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const i=new Uu,n=t.getElementsByTagName("info"),l=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),h=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning"),p=t.getElementsByTagName("distanceField");for(let m=0;m<n.length;m++)i.info.push({face:n[m].getAttribute("face"),size:parseInt(n[m].getAttribute("size"),10)});for(let m=0;m<l.length;m++)i.common.push({lineHeight:parseInt(l[m].getAttribute("lineHeight"),10)});for(let m=0;m<o.length;m++)i.page.push({id:parseInt(o[m].getAttribute("id"),10)||0,file:o[m].getAttribute("file")});for(let m=0;m<h.length;m++){const g=h[m];i.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let m=0;m<c.length;m++)i.kerning.push({first:parseInt(c[m].getAttribute("first"),10),second:parseInt(c[m].getAttribute("second"),10),amount:parseInt(c[m].getAttribute("amount"),10)});for(let m=0;m<p.length;m++)i.distanceField.push({fieldType:p[m].getAttribute("fieldType"),distanceRange:parseInt(p[m].getAttribute("distanceRange"),10)});return i}}class cp{static test(t){return typeof t=="string"&&t.includes("<font>")?hp.test(Et.ADAPTER.parseXML(t)):!1}static parse(t){return hp.parse(Et.ADAPTER.parseXML(t))}}const Rf=[vu,hp,cp];function Q2(s){for(let t=0;t<Rf.length;t++)if(Rf[t].test(s))return Rf[t];return null}function J2(s,t,i,n,l,o){const h=i.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let c;const p=i.dropShadow?i.dropShadowDistance:0,m=i.padding||0,g=s.width/n-p-m*2,y=s.height/n-p-m*2,_=h.slice(),E=i.fillGradientStops.slice();if(!E.length){const x=_.length+1;for(let b=1;b<x;++b)E.push(b/x)}if(_.unshift(h[0]),E.unshift(0),_.push(h[h.length-1]),E.push(1),i.fillGradientType===Yu.LINEAR_VERTICAL){c=t.createLinearGradient(g/2,m,g/2,y+m);let x=0;const b=(o.fontProperties.fontSize+i.strokeThickness)/y;for(let S=0;S<l.length;S++){const I=o.lineHeight*S;for(let B=0;B<_.length;B++){let M=0;typeof E[B]=="number"?M=E[B]:M=B/_.length;const k=I/y+M*b;let N=Math.max(x,k);N=Math.min(N,1),c.addColorStop(N,_[B]),x=N}}}else{c=t.createLinearGradient(m,y/2,g+m,y/2);const x=_.length+1;let b=1;for(let S=0;S<_.length;S++){let I;typeof E[S]=="number"?I=E[S]:I=b/x,c.addColorStop(I,_[S]),b++}}return c}function tC(s,t,i,n,l,o,h){const c=i.text,p=i.fontProperties;t.translate(n,l),t.scale(o,o);const m=h.strokeThickness/2,g=-(h.strokeThickness/2);if(t.font=h.toFontString(),t.lineWidth=h.strokeThickness,t.textBaseline=h.textBaseline,t.lineJoin=h.lineJoin,t.miterLimit=h.miterLimit,t.fillStyle=J2(s,t,h,o,[c],i),t.strokeStyle=h.stroke,h.dropShadow){const y=h.dropShadowColor,_=h.dropShadowBlur*o,E=h.dropShadowDistance*o;t.shadowColor=pe.shared.setValue(y).setAlpha(h.dropShadowAlpha).toRgbaString(),t.shadowBlur=_,t.shadowOffsetX=Math.cos(h.dropShadowAngle)*E,t.shadowOffsetY=Math.sin(h.dropShadowAngle)*E}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;h.stroke&&h.strokeThickness&&t.strokeText(c,m,g+i.lineHeight-p.descent),h.fill&&t.fillText(c,m,g+i.lineHeight-p.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function _u(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}function cb(s){return Array.from?Array.from(s):s.split("")}function eC(s){typeof s=="string"&&(s=[s]);const t=[];for(let i=0,n=s.length;i<n;i++){const l=s[i];if(Array.isArray(l)){if(l.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${l.length}.`);const o=l[0].charCodeAt(0),h=l[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(let c=o,p=h;c<=p;c++)t.push(String.fromCharCode(c))}else t.push(...cb(l))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const yn=class ar{constructor(t,i,n){const[l]=t.info,[o]=t.common,[h]=t.page,[c]=t.distanceField,p=zr(h.file),m={};this._ownsTextures=n,this.font=l.face,this.size=l.size,this.lineHeight=o.lineHeight/p,this.chars={},this.pageTextures=m;for(let g=0;g<t.page.length;g++){const{id:y,file:_}=t.page[g];m[y]=i instanceof Array?i[g]:i[_],c?.fieldType&&c.fieldType!=="none"&&(m[y].baseTexture.alphaMode=oi.NO_PREMULTIPLIED_ALPHA,m[y].baseTexture.mipmap=cr.OFF)}for(let g=0;g<t.char.length;g++){const{id:y,page:_}=t.char[g];let{x:E,y:x,width:b,height:S,xoffset:I,yoffset:B,xadvance:M}=t.char[g];E/=p,x/=p,b/=p,S/=p,I/=p,B/=p,M/=p;const k=new kt(E+m[_].frame.x/p,x+m[_].frame.y/p,b,S);this.chars[y]={xOffset:I,yOffset:B,xAdvance:M,kerning:{},texture:new Ct(m[_].baseTexture,k),page:_}}for(let g=0;g<t.kerning.length;g++){let{first:y,second:_,amount:E}=t.kerning[g];y/=p,_/=p,E/=p,this.chars[_]&&(this.chars[_].kerning[y]=E)}this.distanceFieldRange=c?.distanceRange,this.distanceFieldType=c?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,i,n){let l;if(t instanceof Uu)l=t;else{const h=Q2(t);if(!h)throw new Error("Unrecognized data format for font.");l=h.parse(t)}i instanceof Ct&&(i=[i]);const o=new ar(l,i,n);return ar.available[o.font]=o,o}static uninstall(t){const i=ar.available[t];if(!i)throw new Error(`No font found named '${t}'`);i.destroy(),delete ar.available[t]}static from(t,i,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:l,padding:o,resolution:h,textureWidth:c,textureHeight:p,...m}=Object.assign({},ar.defaultOptions,n),g=eC(l),y=i instanceof An?i:new An(i),_=c,E=new Uu;E.info[0]={face:y.fontFamily,size:y.fontSize},E.common[0]={lineHeight:y.fontSize};let x=0,b=0,S,I,B,M=0;const k=[];for(let H=0;H<g.length;H++){S||(S=Et.ADAPTER.createCanvas(),S.width=c,S.height=p,I=S.getContext("2d"),B=new Pt(S,{resolution:h,...m}),k.push(new Ct(B)),E.page.push({id:k.length-1,file:""}));const T=g[H],P=_n.measureText(T,y,!1,S),q=P.width,it=Math.ceil(P.height),K=Math.ceil((y.fontStyle==="italic"?2:1)*q);if(b>=p-it*h){if(b===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${T}')`);--H,S=null,I=null,B=null,b=0,x=0,M=0;continue}if(M=Math.max(it+P.fontProperties.descent,M),K*h+x>=_){if(x===0)throw new Error(`[BitmapFont] textureWidth ${c}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${T}')`);--H,b+=M*h,b=Math.ceil(b),x=0,M=0;continue}tC(S,I,P,x,b,h,y);const V=_u(P.text);E.char.push({id:V,page:k.length-1,x:x/h,y:b/h,width:K,height:it,xoffset:0,yoffset:0,xadvance:q-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),x+=(K+2*o)*h,x=Math.ceil(x)}if(!n?.skipKerning)for(let H=0,T=g.length;H<T;H++){const P=g[H];for(let q=0;q<T;q++){const it=g[q],K=I.measureText(P).width,V=I.measureText(it).width,W=I.measureText(P+it).width-(K+V);W&&E.kerning.push({first:_u(P),second:_u(it),amount:W})}}const N=new ar(E,k,!0);return ar.available[t]!==void 0&&ar.uninstall(t),ar.available[t]=N,N}};yn.ALPHA=[["a","z"],["A","Z"]," "],yn.NUMERIC=[["0","9"]],yn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],yn.ASCII=[[" ","~"]],yn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:yn.ALPHANUMERIC},yn.available={};let vn=yn;var iC=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,rC=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const C_=[],R_=[],M_=[],nC=class db extends Yi{constructor(t,i={}){super();const{align:n,tint:l,maxWidth:o,letterSpacing:h,fontName:c,fontSize:p}=Object.assign({},db.styleDefaults,i);if(!vn.available[c])throw new Error(`Missing BitmapFont "${c}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new pe(l),this._font=void 0,this._fontName=c,this._fontSize=p,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new kr(()=>{this.dirty=!0},this,0,0),this._roundPixels=Et.ROUND_PIXELS,this.dirty=!0,this._resolution=Et.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=vn.available[this._fontName],i=this.fontSize,n=i/t.size,l=new Kt,o=[],h=[],c=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",m=cb(p),g=this._maxWidth*t.size/i,y=t.distanceFieldType==="none"?C_:R_;let _=null,E=0,x=0,b=0,S=-1,I=0,B=0,M=0,k=0;for(let K=0;K<m.length;K++){const V=m[K],W=_u(V);if(/(?:\s)/.test(V)&&(S=K,I=E,k++),V==="\r"||V===`
`){h.push(E),c.push(-1),x=Math.max(x,E),++b,++B,l.x=0,l.y+=t.lineHeight,_=null,k=0;continue}const Y=t.chars[W];if(!Y)continue;_&&Y.kerning[_]&&(l.x+=Y.kerning[_]);const ft=M_.pop()||{texture:Ct.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Kt};ft.texture=Y.texture,ft.line=b,ft.charCode=W,ft.position.x=Math.round(l.x+Y.xOffset+this._letterSpacing/2),ft.position.y=Math.round(l.y+Y.yOffset),ft.prevSpaces=k,o.push(ft),E=ft.position.x+Math.max(Y.xAdvance-Y.xOffset,Y.texture.orig.width),l.x+=Y.xAdvance+this._letterSpacing,M=Math.max(M,Y.yOffset+Y.texture.height),_=W,S!==-1&&g>0&&l.x>g&&(++B,aa(o,1+S-B,1+K-S),K=S,S=-1,h.push(I),c.push(o.length>0?o[o.length-1].prevSpaces:0),x=Math.max(x,I),b++,l.x=0,l.y+=t.lineHeight,_=null,k=0)}const N=m[m.length-1];N!=="\r"&&N!==`
`&&(/(?:\s)/.test(N)&&(E=I),h.push(E),x=Math.max(x,E),c.push(-1));const H=[];for(let K=0;K<=b;K++){let V=0;this._align==="right"?V=x-h[K]:this._align==="center"?V=(x-h[K])/2:this._align==="justify"&&(V=c[K]<0?0:(x-h[K])/c[K]),H.push(V)}const T=o.length,P={},q=[],it=this._activePagesMeshData;y.push(...it);for(let K=0;K<T;K++){const V=o[K].texture,W=V.baseTexture.uid;if(!P[W]){let Y=y.pop();if(!Y){const A=new R2;let D,C;t.distanceFieldType==="none"?(D=new T_(Ct.EMPTY),C=Nt.NORMAL):(D=new T_(Ct.EMPTY,{program:Gr.from(rC,iC),uniforms:{uFWidth:0}}),C=Nt.NORMAL_NPM);const G=new E_(A,D);G.blendMode=C,Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;const{_textureCache:ft}=this;ft[W]=ft[W]||new Ct(V.baseTexture),Y.mesh.texture=ft[W],Y.mesh.tint=this._tintColor.value,q.push(Y),P[W]=Y}P[W].total++}for(let K=0;K<it.length;K++)q.includes(it[K])||this.removeChild(it[K].mesh);for(let K=0;K<q.length;K++)q[K].mesh.parent!==this&&this.addChild(q[K].mesh);this._activePagesMeshData=q;for(const K in P){const V=P[K],W=V.total;if(!(V.indices?.length>6*W)||V.vertices.length<E_.BATCHABLE_SIZE*2)V.vertices=new Float32Array(8*W),V.uvs=new Float32Array(8*W),V.indices=new Uint16Array(6*W);else{const Y=V.total,ft=V.vertices;for(let A=Y*4*2;A<ft.length;A++)ft[A]=0}V.mesh.size=6*W}for(let K=0;K<T;K++){const V=o[K];let W=V.position.x+H[V.line]*(this._align==="justify"?V.prevSpaces:1);this._roundPixels&&(W=Math.round(W));const Y=W*n,ft=V.position.y*n,A=V.texture,D=P[A.baseTexture.uid],C=A.frame,G=A._uvs,U=D.index++;D.indices[U*6+0]=0+U*4,D.indices[U*6+1]=1+U*4,D.indices[U*6+2]=2+U*4,D.indices[U*6+3]=0+U*4,D.indices[U*6+4]=2+U*4,D.indices[U*6+5]=3+U*4,D.vertices[U*8+0]=Y,D.vertices[U*8+1]=ft,D.vertices[U*8+2]=Y+C.width*n,D.vertices[U*8+3]=ft,D.vertices[U*8+4]=Y+C.width*n,D.vertices[U*8+5]=ft+C.height*n,D.vertices[U*8+6]=Y,D.vertices[U*8+7]=ft+C.height*n,D.uvs[U*8+0]=G.x0,D.uvs[U*8+1]=G.y0,D.uvs[U*8+2]=G.x1,D.uvs[U*8+3]=G.y1,D.uvs[U*8+4]=G.x2,D.uvs[U*8+5]=G.y2,D.uvs[U*8+6]=G.x3,D.uvs[U*8+7]=G.y3}this._textWidth=x*n,this._textHeight=(l.y+t.lineHeight)*n;for(const K in P){const V=P[K];if(this.anchor.x!==0||this.anchor.y!==0){let A=0;const D=this._textWidth*this.anchor.x,C=this._textHeight*this.anchor.y;for(let G=0;G<V.total;G++)V.vertices[A++]-=D,V.vertices[A++]-=C,V.vertices[A++]-=D,V.vertices[A++]-=C,V.vertices[A++]-=D,V.vertices[A++]-=C,V.vertices[A++]-=D,V.vertices[A++]-=C}this._maxLineHeight=M*n;const W=V.mesh.geometry.getBuffer("aVertexPosition"),Y=V.mesh.geometry.getBuffer("aTextureCoord"),ft=V.mesh.geometry.getIndex();W.data=V.vertices,Y.data=V.uvs,ft.data=V.indices,W.update(),Y.update(),ft.update()}for(let K=0;K<o.length;K++)M_.push(o[K]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:i,distanceFieldType:n,size:l}=vn.available[this._fontName];if(n!=="none"){const{a:o,b:h,c,d:p}=this.worldTransform,m=Math.sqrt(o*o+h*h),g=Math.sqrt(c*c+p*p),y=(Math.abs(m)+Math.abs(g))/2,_=this.fontSize/l,E=t._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=y*i*_*E}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=vn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!vn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??vn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:i}=this,n=vn.available[this._fontName].distanceFieldType==="none"?C_:R_;n.push(...this._activePagesMeshData);for(const l of this._activePagesMeshData)this.removeChild(l.mesh);this._activePagesMeshData=[],n.filter(l=>i[l.mesh.texture.baseTexture.uid]).forEach(l=>{l.mesh.texture=Ct.EMPTY});for(const l in i)i[l].destroy(),delete i[l];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};nC.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const sC=[".xml",".fnt"],aC={extension:{type:_t.LoadParser,priority:$i.Normal},name:"loadBitmapFont",test(s){return sC.includes(Fe.extname(s).toLowerCase())},async testParse(s){return vu.test(s)||cp.test(s)},async parse(s,t,i){const n=vu.test(s)?vu.parse(s):cp.parse(s),{src:l}=t,{page:o}=n,h=[];for(let m=0;m<o.length;++m){const g=o[m].file;let y=Fe.join(Fe.dirname(l),g);y=np(y,l),h.push(y)}const c=await i.load(h),p=h.map(m=>c[m]);return vn.install(n,p,!0)},async load(s,t){return(await Et.ADAPTER.fetch(s)).text()},unload(s){s.destroy()}};Rt.add(aC);const dp=class ia extends An{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new ia(Object.keys(ia.defaultOptions).reduce((i,n)=>({...i,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete ia.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,i={}){const{availableFonts:n}=ia;if(n[t]){const l=n[t];return this._fonts.push(l),l.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Et.ADAPTER.fetch(t).then(l=>l.blob()).then(async l=>new Promise((o,h)=>{const c=URL.createObjectURL(l),p=new FileReader;p.onload=()=>o([c,p.result]),p.onerror=h,p.readAsDataURL(l)})).then(async([l,o])=>{const h=Object.assign({family:Fe.basename(t,Fe.extname(t)),weight:"normal",style:"normal",display:"auto",src:l,dataSrc:o,refs:1,originalUrl:t,fontFace:null},i);n[t]=h,this._fonts.push(h),this.styleID++;const c=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=c,await c.load(),document.fonts.add(c),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const i=t.filter(n=>!this._overrides.includes(n));i.length>0&&(this._overrides.push(...i),this.styleID++)}removeOverride(...t){const i=t.filter(n=>this._overrides.includes(n));i.length>0&&(this._overrides=this._overrides.filter(n=>!i.includes(n)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,i)=>`${t}
            @font-face {
                font-family: "${i.family}";
                src: url('${i.dataSrc}');
                font-weight: ${i.weight};
                font-style: ${i.style};
                font-display: ${i.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=WT(t)),typeof t=="number"?$T(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const i=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),l=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&i<1&&(t+=(i*255|0).toString(16).padStart(2,"0"));const o=`${n}px ${l}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,ia.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(i=>setTimeout(i,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=Et.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};dp.availableFonts={},dp.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Mf=dp;const hu=class ra extends fa{constructor(t="",i={}){super(Ct.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,l=Ct.from(n,{scaleMode:Et.SCALE_MODE,resourceOptions:{autoLoad:!1}});l.orig=new kt,l.trim=new kt,this.texture=l;const o="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg"),p=document.createElementNS(o,"foreignObject"),m=document.createElementNS(h,"div"),g=document.createElementNS(h,"style");p.setAttribute("width","10000"),p.setAttribute("height","10000"),p.style.overflow="hidden",c.appendChild(p),this.maxWidth=ra.defaultMaxWidth,this.maxHeight=ra.defaultMaxHeight,this._domElement=m,this._styleElement=g,this._svgRoot=c,this._foreignObject=p,this._foreignObject.appendChild(g),this._foreignObject.appendChild(m),this._image=n,this._loadImage=new Image,this._autoResolution=ra.defaultAutoResolution,this._resolution=ra.defaultResolution??Et.RESOLUTION,this.text=t,this.style=i}measureText(t){const{text:i,style:n,resolution:l}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:i,style:n.toCSS(l)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:h,height:c}=o;(h>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const p=Math.min(this.maxWidth,Math.ceil(h)),m=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",p.toString()),this._svgRoot.setAttribute("height",m.toString()),i!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(l)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:p+n.padding*2,height:m+n.padding*2}}async updateText(t=!0){const{style:i,_image:n,_loadImage:l}=this;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&t)return;const{width:o,height:h}=this.measureText();n.width=l.width=Math.ceil(Math.max(1,o)),n.height=l.height=Math.ceil(Math.max(1,h)),this._updateID++;const c=this._updateID;await new Promise(p=>{l.onload=async()=>{if(c<this._updateID){p();return}await i.onBeforeDraw(),n.src=l.src,l.onload=null,l.src="",this.updateTexture(),p()};const m=new XMLSerializer().serializeToString(this._svgRoot);l.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(m)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:i,_image:n,resolution:l}=this,{padding:o}=t,{baseTexture:h}=i;i.trim.width=i._frame.width=n.width/l,i.trim.height=i._frame.height=n.height/l,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),h.setRealSize(n.width,n.height,l),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},ra.defaultDestroyOptions,t),super.destroy(t);const i=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=i,this._svgRoot?.remove(),this._svgRoot=i,this._domElement?.remove(),this._domElement=i,this._foreignObject?.remove(),this._foreignObject=i,this._styleElement?.remove(),this._styleElement=i,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=i,this._image.src="",this._image=i}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const i=bn(this.scale.x)||1;this.scale.x=i*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const i=bn(this.scale.y)||1;this.scale.y=i*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Mf?(this.ownsStyle=!1,this._style=t):t instanceof An?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Mf.from(t)):(this.ownsStyle=!0,this._style=new Mf(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};hu.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},hu.defaultMaxWidth=2024,hu.defaultMaxHeight=2024,hu.defaultAutoResolution=!0;function lC(){const{data:s}=Ui(),{isDark:t}=Pu(),i=St.useRef(null),n=St.useRef(null),l=St.useRef({}),[o,h]=St.useState(new Set),[c,p]=St.useState(new Set),[m,g]=St.useState(!1),{modules:y,relationships:_,contextGroups:E}=St.useMemo(()=>{if(!s)return{modules:[],relationships:[],contextGroups:{}};const B=[],M=[],k={};s.contexts.forEach(H=>{H.modules.forEach(T=>{const P=`${H.name}/${T.name}`;k[P]=B.length,B.push({context:H.name,name:T.name,key:P})})}),s.contexts.forEach(H=>{H.modules.forEach(T=>{const P=`${H.name}/${T.name}`;(T.externalCalls??[]).forEach(q=>{const it=`${q.targetContext}/${q.targetModule}`;k[it]!==void 0&&M.push({from:P,to:it,type:q.type==="query"?"query":"command",label:q.type==="query"?"Query Bus":"Command Bus"})})})}),s.contexts.forEach(H=>{H.modules.forEach(T=>{const P=`${H.name}/${T.name}`;(T.eventSubscribers??[]).forEach(q=>{for(const it of s.contexts)for(const K of it.modules){const V=`${it.name}/${K.name}`;if(V===P)continue;(K.domainEvents??[]).some(Y=>Y.class===q.eventClass)&&!M.some(Y=>Y.from===V&&Y.to===P&&Y.type==="event")&&M.push({from:V,to:P,type:"event",label:"Event"})}})})});const N={};return B.forEach(H=>{N[H.context]||(N[H.context]=[]),N[H.context].push(H)}),{modules:B,relationships:M,contextGroups:N}},[s]),x=St.useMemo(()=>Object.keys(E),[E]),b=St.useCallback(()=>{const B=n.current;if(!B)return;B.stage.removeChildren();const M=40,k=80,N=600,H=400,T=y.filter(O=>!o.has(O.context)&&!c.has(O.key));if(T.length===0){B.renderer.resize(400,100);const O=new rs("No modules visible. Use filters to show modules.",{fontFamily:"DM Sans, sans-serif",fontSize:14,fill:t?9741240:6583435});O.anchor.set(.5),O.x=200,O.y=50,B.stage.addChild(O);return}const P=_.filter(O=>!o.has(O.from.split("/")[0])&&!o.has(O.to.split("/")[0])&&!c.has(O.from)&&!c.has(O.to)),q={};T.forEach(O=>{q[O.context]||(q[O.context]=[]),q[O.context].push(O)});const it=Object.keys(q),K=it.length,V=Math.max(N,K*220)/2,W=Math.max(H,K*180)/2,Y=Math.min(V,W)-k-M*2,ft={};it.forEach((O,L)=>{const X=l.current[O]??{x:0,y:0},Q=L/K*Math.PI*2-Math.PI/2,st=V+Math.cos(Q)*Y+X.x,ht=W+Math.sin(Q)*Y+X.y,dt=q[O],ut=Math.min(80,40+dt.length*15);dt.forEach((lt,gt)=>{const yt=gt/dt.length*Math.PI*2-Math.PI/2;ft[lt.key]={x:st+Math.cos(yt)*ut,y:ht+Math.sin(yt)*ut,context:O}})});const A=Math.max(N,V*2+k),D=Math.max(H,W*2+k);B.renderer.resize(A,D);const C={module:t?8490232:5195493,moduleBg:t?3223169:14739455,text:t?14870768:3359061,command:t?440020:561586,query:t?9133302:8141549,event:t?16096779:14251782,contextBg:t?1976635:15857145};it.forEach(O=>{const L=q[O];if(L.length===0)return;let X=1/0,Q=1/0,st=-1/0,ht=-1/0;L.forEach(xt=>{const At=ft[xt.key];X=Math.min(X,At.x),Q=Math.min(Q,At.y),st=Math.max(st,At.x),ht=Math.max(ht,At.y)});const dt=M+30,ut=new is;ut.beginFill(C.contextBg,.5),ut.lineStyle(2,t?4674921:9741240),ut.drawRoundedRect(X-dt,Q-dt,st-X+dt*2,ht-Q+dt*2,12),ut.endFill(),ut.eventMode="static",ut.cursor="grab";let lt=!1,gt={x:0,y:0};ut.on("pointerdown",xt=>{lt=!0,ut.cursor="grabbing",gt={x:xt.global.x,y:xt.global.y}}),B.stage.eventMode="static",B.stage.on("pointermove",xt=>{if(!lt)return;const At=xt.global.x-gt.x,vt=xt.global.y-gt.y;gt={x:xt.global.x,y:xt.global.y},l.current[O]||(l.current[O]={x:0,y:0}),l.current[O].x+=At,l.current[O].y+=vt,b()}),B.stage.on("pointerup",()=>{lt=!1,ut.cursor="grab"}),B.stage.on("pointerupoutside",()=>{lt=!1,ut.cursor="grab"}),B.stage.addChild(ut);const yt=new rs(O,{fontFamily:"DM Sans, sans-serif",fontSize:12,fontWeight:"600",fill:t?9741240:6583435});yt.x=X-dt+10,yt.y=Q-dt+8,B.stage.addChild(yt)});const G={},U={};P.forEach(O=>{const L=[O.from,O.to].sort().join("|");G[L]=(G[L]??0)+1}),P.forEach(O=>{const L=[O.from,O.to].sort().join("|");U[L]||(U[L]=0),O.pairIndex=U[L]++,O.pairTotal=G[L]});const w=[];if(P.forEach(O=>{const L=ft[O.from],X=ft[O.to];if(!L||!X)return;const Q=O.type==="event"?C.event:O.type==="query"?C.query:C.command,st=X.x-L.x,ht=X.y-L.y,dt=Math.sqrt(st*st+ht*ht);if(dt===0)return;const ut=st/dt,lt=ht/dt,yt=[O.from,O.to].sort()[0]!==O.from,xt=yt?lt:-lt,At=yt?-ut:ut,vt=(O.pairTotal??1)>1?((O.pairIndex??0)-((O.pairTotal??1)-1)/2)*70:15,pt=L.x+ut*M,It=L.y+lt*M,Ht=X.x-ut*(M+8),we=X.y-lt*(M+8),ge=(pt+Ht)/2+xt*vt,zt=(It+we)/2+At*vt,Yt=new is;O.type!=="event"?(Yt.lineStyle(2,Q,.8),Yt.moveTo(pt,It),Yt.quadraticCurveTo(ge,zt,Ht,we)):w.push({graphics:Yt,color:Q,startX:pt,startY:It,midX:ge,midY:zt,endX:Ht,endY:we}),B.stage.addChild(Yt);const se=.98,jt=2*(1-se)*(ge-pt)+2*se*(Ht-ge),Wi=2*(1-se)*(zt-It)+2*se*(we-zt),fr=Math.sqrt(jt*jt+Wi*Wi),bi=jt/fr,ti=Wi/fr,ke=new is;ke.beginFill(Q,.8),ke.moveTo(Ht,we),ke.lineTo(Ht-bi*8-ti*4,we-ti*8+bi*4),ke.lineTo(Ht-bi*8+ti*4,we-ti*8-bi*4),ke.closePath(),ke.endFill(),B.stage.addChild(ke);const ui=new is,he=new rs(O.label,{fontFamily:"DM Sans, sans-serif",fontSize:9,fontWeight:"500",fill:Q});he.anchor.set(.5),he.x=ge,he.y=zt,ui.beginFill(t?988970:16777215,.9),ui.drawRoundedRect(ge-he.width/2-4,zt-he.height/2-2,he.width+8,he.height+4,3),ui.endFill(),B.stage.addChild(ui),B.stage.addChild(he)}),w.length>0){let O=0;const L=8,X=6,Q=60,st=()=>{w.forEach(({graphics:dt,color:ut,startX:lt,startY:gt,midX:yt,midY:xt,endX:At,endY:vt})=>{dt.clear(),dt.lineStyle(2,ut,.8);const pt=[];for(let zt=0;zt<=Q;zt++){const Yt=zt/Q;pt.push({x:(1-Yt)*(1-Yt)*lt+2*(1-Yt)*Yt*yt+Yt*Yt*At,y:(1-Yt)*(1-Yt)*gt+2*(1-Yt)*Yt*xt+Yt*Yt*vt})}const It=[0];for(let zt=1;zt<pt.length;zt++){const Yt=pt[zt].x-pt[zt-1].x,se=pt[zt].y-pt[zt-1].y;It.push(It[zt-1]+Math.sqrt(Yt*Yt+se*se))}const Ht=It[It.length-1],we=L+X;let ge=-O;for(;ge<Ht;){const zt=Math.max(0,ge),Yt=Math.min(Ht,ge+L);if(Yt>0&&zt<Ht){let se=0,jt=0;for(let he=0;he<It.length-1;he++)It[he]<=zt&&It[he+1]>zt&&(se=he),It[he]<=Yt&&It[he+1]>Yt&&(jt=he);Yt>=Ht&&(jt=It.length-2);const Wi=(zt-It[se])/(It[se+1]-It[se]||1),fr=pt[se].x+Wi*(pt[se+1].x-pt[se].x),bi=pt[se].y+Wi*(pt[se+1].y-pt[se].y),ti=(Yt-It[jt])/(It[jt+1]-It[jt]||1),ke=pt[jt].x+ti*(pt[jt+1].x-pt[jt].x),ui=pt[jt].y+ti*(pt[jt+1].y-pt[jt].y);dt.moveTo(fr,bi);for(let he=se+1;he<=jt;he++)dt.lineTo(pt[he].x,pt[he].y);dt.lineTo(ke,ui)}ge+=we}})};st();const ht=L+X;B.ticker.add(()=>{O=(O-.3+ht)%ht,st()})}T.forEach(O=>{const L=ft[O.key],X=new is;X.beginFill(C.moduleBg,.8),X.lineStyle(2,C.module),X.drawCircle(0,0,M),X.endFill(),X.x=L.x,X.y=L.y,B.stage.addChild(X);const Q=new rs(O.name.substring(0,3).toUpperCase(),{fontFamily:"DM Sans, sans-serif",fontSize:14,fontWeight:"bold",fill:C.module});Q.anchor.set(.5),Q.x=L.x,Q.y=L.y-4,B.stage.addChild(Q);const st=new rs(O.name,{fontFamily:"DM Sans, sans-serif",fontSize:10,fill:C.text});st.anchor.set(.5,0),st.x=L.x,st.y=L.y+M+4,B.stage.addChild(st)})},[y,_,t,o,c]);St.useEffect(()=>{const B=i.current;if(!B)return;const M=new Xx({view:B,width:600,height:400,backgroundAlpha:0,antialias:!0,resolution:window.devicePixelRatio||1,autoDensity:!0});return n.current=M,b(),()=>{M.destroy(!1),n.current=null}},[]),St.useEffect(()=>{b()},[b]);const S=St.useCallback((B,M)=>{h(k=>{const N=new Set(k);return M?N.delete(B):N.add(B),N})},[]),I=St.useCallback((B,M)=>{p(k=>{const N=new Set(k);return M?N.delete(B):N.add(B),N})},[]);return s?j.jsxs("section",{className:"mt-14",children:[j.jsx("h2",{className:"text-xl font-bold mb-6",children:"Context Map"}),j.jsxs("div",{className:"bg-white dark:bg-slate-800/40 rounded-xl border border-slate-200 dark:border-slate-700/60 p-5",children:[j.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4",children:[j.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600 dark:text-slate-400",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"inline-block w-8 h-0.5 bg-cyan-500"}),j.jsx("span",{children:"Command Bus"})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"inline-block w-8 h-0.5 bg-violet-500"}),j.jsx("span",{children:"Query Bus"})]}),j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("span",{className:"inline-block w-8 h-0.5 bg-amber-500",style:{background:"repeating-linear-gradient(90deg, rgb(245 158 11) 0px, rgb(245 158 11) 6px, transparent 6px, transparent 12px)"}}),j.jsx("span",{children:"Event-Driven"})]}),j.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[j.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.move})}),j.jsx("span",{children:"Drag contexts to reposition"})]})]}),j.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[j.jsx("button",{className:"px-2 py-1 text-xs font-medium text-slate-600 dark:text-slate-200 hover:text-slate-800 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors",onClick:()=>g(B=>!B),children:m?"Hide Filters":"Filters"}),m&&j.jsx("div",{className:"flex flex-wrap gap-3",children:x.map(B=>{const M=E[B],k=o.has(B);return j.jsxs("details",{className:"relative",open:!k,children:[j.jsxs("summary",{className:"flex items-center gap-2 cursor-pointer select-none",children:[j.jsx("input",{type:"checkbox",checked:!k,className:"rounded border-slate-300 dark:border-slate-600 text-primary-500 focus:ring-primary-500",onChange:N=>S(B,N.target.checked)}),j.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:B}),j.jsx("svg",{className:"h-4 w-4 text-slate-400 chevron transition-transform",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.chevronRight})})]}),j.jsx("div",{className:"pl-6 mt-1 space-y-1",children:M.map(N=>j.jsxs("label",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-400",children:[j.jsx("input",{type:"checkbox",checked:!c.has(N.key),className:"rounded border-slate-300 dark:border-slate-600 text-primary-500 focus:ring-primary-500",onChange:H=>I(N.key,H.target.checked)}),N.name]},N.key))})]},B)})})]})]}),j.jsx("div",{className:"flex justify-center overflow-auto",children:j.jsx("canvas",{ref:i})})]})]}):null}function oC(){const{data:s}=Ui();return s?j.jsxs("div",{className:"fade-in",children:[j.jsxs("header",{className:"mb-14",children:[j.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-primary-500 dark:text-primary-400 mb-3",children:s.meta.company}),j.jsx("h1",{className:"text-4xl font-extrabold tracking-tight sm:text-5xl bg-gradient-to-r from-slate-900 via-primary-700 to-primary-500 dark:from-white dark:via-primary-300 dark:to-primary-400 bg-clip-text text-transparent",children:s.meta.project}),j.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-400 max-w-3xl leading-relaxed",children:"Interactive architecture reference for bounded contexts, modules, commands, queries, domain events, and their relationships."}),j.jsxs("p",{className:"mt-3 text-sm text-slate-400 dark:text-slate-500 font-mono",children:["Generated ",new Date(s.meta.generatedAt).toLocaleString()]})]}),j.jsx(jE,{}),j.jsx(XE,{}),j.jsx(lC,{}),j.jsx("div",{className:"h-12"})]}):null}function uC({sections:s,module:t,activeKey:i,onTabChange:n}){return j.jsx("nav",{className:"flex flex-wrap gap-1 p-1 bg-slate-100 dark:bg-slate-800/70 rounded-xl w-fit mb-8 border border-slate-200/50 dark:border-slate-700/30",children:s.map(l=>{const o=t[l.key]?.length??0,h=l.key===i;return j.jsxs("button",{type:"button",className:`flex items-center gap-2 px-3.5 py-2 text-sm font-medium rounded-lg transition-all ${h?"bg-white dark:bg-slate-700 text-primary-700 dark:text-primary-300 shadow-sm ring-1 ring-slate-200/50 dark:ring-slate-600/30":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-200/70 dark:hover:bg-slate-700/50"}`,onClick:()=>n(l.key),children:[j.jsx("svg",{className:`h-4 w-4 ${bu[l.color].icon}`,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:l.iconPath})}),l.title,j.jsx("span",{className:"text-xs min-w-5 text-center px-1.5 py-0.5 rounded-full bg-slate-200 dark:bg-slate-600 text-slate-600 dark:text-slate-300 tabular-nums",children:o})]},l.key)})})}function Lu({label:s,color:t}){return j.jsx("span",{className:`text-[11px] font-semibold px-2 py-0.5 rounded-md tabular-nums ${bu[t].badge}`,children:s})}function D_({items:s}){return j.jsx("div",{className:"mt-4 rounded-lg border border-slate-100 dark:border-slate-700/50 overflow-hidden",children:j.jsxs("table",{className:"w-full text-sm",children:[j.jsx("thead",{children:j.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-800/60 border-b border-slate-200 dark:border-slate-700/50",children:[j.jsx("th",{className:"text-left py-2 px-3 font-semibold text-slate-500 dark:text-slate-400 text-xs uppercase tracking-wider",children:"Name"}),j.jsx("th",{className:"text-left py-2 px-3 font-semibold text-slate-500 dark:text-slate-400 text-xs uppercase tracking-wider",children:"Type"}),j.jsx("th",{className:"text-left py-2 px-3 font-semibold text-slate-500 dark:text-slate-400 text-xs uppercase tracking-wider",children:"Description"})]})}),j.jsx("tbody",{children:s.map(t=>j.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-800/50 last:border-0 hover:bg-slate-50/50 dark:hover:bg-slate-800/30 transition-colors",children:[j.jsx("td",{className:"py-2 px-3 font-mono text-sm text-primary-600 dark:text-primary-400",children:t.name}),j.jsx("td",{className:`py-2 px-3 text-slate-600 dark:text-slate-400 ${t.class?"cursor-help":""}`,title:t.class,children:t.type}),j.jsx("td",{className:"py-2 px-3 text-slate-500 dark:text-slate-400 text-xs",children:t.description??"-"})]},t.name))})]})})}const hC={commands:"command",queries:"query",domainEvents:"event",eventSubscribers:"subscriber"},O_={emerald:"rgb(16 185 129)",violet:"rgb(139 92 246)",amber:"rgb(245 158 11)",rose:"rgb(244 63 94)",cyan:"rgb(6 182 212)",primary:"rgb(99 102 241)",slate:"rgb(148 163 184)"};function cC({item:s,type:t,color:i}){const{findEventLocation:n}=Ui(),{navigate:l}=os(),o=hC[t]??t,h="class"in s&&s.class,c="input"in s?s.input:void 0,p="output"in s?s.output:void 0,m="properties"in s?s.properties:void 0,g="event"in s?s.event:void 0,y="eventClass"in s?s.eventClass:void 0,_="description"in s?s.description:void 0;return j.jsxs("article",{className:"item-card rounded-lg p-5 bg-white dark:bg-slate-800/40 border border-slate-200 dark:border-slate-700/50",style:{"--card-accent":O_[i]??O_.primary},children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j.jsx("h3",{className:`text-base font-semibold ${h?"cursor-help border-b border-dashed border-slate-400 dark:border-slate-600":""}`,title:h?s.class:void 0,children:s.name}),j.jsx(Lu,{label:o,color:i})]}),_&&j.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:_}),c&&c.length>0&&j.jsx(D_,{items:c}),p&&p.type!=="void"&&j.jsxs("div",{className:"mt-4 text-sm",children:[j.jsx("span",{className:"text-slate-500",children:"Returns: "}),j.jsx("span",{className:`font-medium text-slate-700 dark:text-slate-300 ${p.class?"cursor-help border-b border-dashed border-slate-400 dark:border-slate-600":""}`,title:p.class,children:p.type})]}),m&&m.length>0&&j.jsx(D_,{items:m}),g&&y&&(()=>{const E=n(y);return j.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm",children:[j.jsx("span",{className:"text-slate-500",children:"Listens to:"}),j.jsxs("a",{href:"#",className:"inline-flex items-center gap-1 px-2 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 font-medium hover:bg-amber-200 dark:hover:bg-amber-800/40 transition-colors",title:y,onClick:x=>{x.preventDefault(),E&&l({type:"module",context:E.context,module:E.module,tab:"domainEvents"})},children:[j.jsx("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:j.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:Qe.bell})}),g]})]})})()]})}function pl(s){return"#"+s.toString(16).padStart(6,"0")}function B_(s,t,i,n,l){return(s-i)**2+(t-n)**2<=l**2}function dC({item:s,color:t,moduleName:i,index:n}){const{findCallDescription:l}=Ui(),{navigate:o}=os(),{isDark:h}=Pu(),c=St.useRef(null),p=St.useRef(null),m=l(s.targetClass,s.type),g=s.type==="command"?"emerald":"violet",y=s.type==="query"?"queries":"commands",_=St.useRef(o);_.current=o;const E=St.useCallback(b=>{const S=c.current;if(!S)return;const I=S.getBoundingClientRect(),B=window.devicePixelRatio||1,M=(b.clientX-I.left)*B,k=(b.clientY-I.top)*B,N=S.width,H=S.height,T=32*B,P=20*B,q=H/2-5*B,it=N-P-T-20*B;B_(M,k,it,q,T)&&_.current({type:"module",context:s.targetContext,module:s.targetModule,tab:y})},[s.targetContext,s.targetModule,y]),x=St.useCallback(b=>{const S=c.current;if(!S)return;const I=S.getBoundingClientRect(),B=window.devicePixelRatio||1,M=(b.clientX-I.left)*B,k=(b.clientY-I.top)*B,N=S.width,H=S.height,T=32*B,P=20*B,q=H/2-5*B,it=N-P-T-20*B;S.style.cursor=B_(M,k,it,q,T)?"pointer":"default"},[]);return St.useEffect(()=>{const b=c.current;if(!b)return;const S=window.devicePixelRatio||1,I=Math.min(p.current?.offsetWidth??420,420),B=120;b.width=I*S,b.height=B*S,b.style.width=`${I}px`,b.style.height=`${B}px`;const M=b.getContext("2d");if(!M)return;const k=b.width,N=b.height,H=pl(h?8490232:5195493),T=h?"rgba(129,140,248,0.15)":"rgba(79,70,229,0.15)",P=pl(h?10859772:6514417),q=pl(h?14870768:3359061),it=pl(s.type==="query"?h?4988309:15591934:h?413243:13761253),K=pl(s.type==="query"?h?12891645:5972406:h?7268279:292951),V=32*S,W=20*S,Y=N/2-5*S,ft=W+V+20*S,A=k-W-V-20*S,D=ft+V,C=A-V,G=8*S,U=6*S,w=G+U;let O=0,L=0;function X(dt,ut,lt,gt,yt){M.beginPath(),M.arc(dt,ut,lt,0,Math.PI*2),M.fillStyle=gt,M.fill(),M.strokeStyle=yt,M.lineWidth=2*S,M.stroke()}function Q(dt,ut,lt,gt,yt){M.font=gt,M.fillStyle=yt,M.textAlign="center",M.textBaseline="middle",M.fillText(dt,ut,lt)}function st(){M.clearRect(0,0,k,N),X(ft,Y,V,T,H),Q(i.substring(0,3).toUpperCase(),ft,Y,`bold ${14*S}px "DM Sans", sans-serif`,H),Q(i,ft,Y+V+10*S,`${10*S}px "DM Sans", sans-serif`,q),X(A,Y,V,T,H),Q(s.targetModule.substring(0,3).toUpperCase(),A,Y,`bold ${14*S}px "DM Sans", sans-serif`,H),Q(`${s.targetContext}/${s.targetModule}`,A,Y+V+10*S,`${10*S}px "DM Sans", sans-serif`,q),M.strokeStyle=P,M.lineWidth=2*S;let dt=D-w+O;for(;dt<C-10*S;){const vt=Math.max(dt,D),pt=Math.min(dt+G,C-10*S);vt<pt&&(M.beginPath(),M.moveTo(vt,Y),M.lineTo(pt,Y),M.stroke()),dt+=w}M.fillStyle=P,M.beginPath(),M.moveTo(C,Y),M.lineTo(C-10*S,Y-6*S),M.lineTo(C-10*S,Y+6*S),M.closePath(),M.fill(),M.font=`500 ${11*S}px "DM Sans", sans-serif`;const ut=(D+C)/2,lt=Y-20*S,gt=M.measureText(s.name),yt=8*S,xt=gt.width+yt*2,At=11*S+yt*2;M.fillStyle=it,fC(M,ut-xt/2,lt-At/2,xt,At,4*S),M.fillStyle=K,M.textAlign="center",M.textBaseline="middle",M.fillText(s.name,ut,lt)}function ht(){O=(O+.3*S)%w,st(),L=requestAnimationFrame(ht)}return st(),L=requestAnimationFrame(ht),b.addEventListener("click",E),b.addEventListener("mousemove",x),()=>{cancelAnimationFrame(L),b.removeEventListener("click",E),b.removeEventListener("mousemove",x)}},[h,s,i,E,x]),j.jsxs("article",{className:"item-card rounded-lg p-5 bg-white dark:bg-slate-800/40 border border-slate-200 dark:border-slate-700/50",style:{"--card-accent":"rgb(6 182 212)"},children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[j.jsx("h3",{className:"text-base font-semibold cursor-help border-b border-dashed border-slate-400 dark:border-slate-600",title:s.sourceClass,children:s.source}),j.jsx(Lu,{label:"calls",color:t}),j.jsx("span",{className:"text-base font-semibold cursor-help border-b border-dashed border-slate-400 dark:border-slate-600",title:s.targetClass,children:s.name}),j.jsx(Lu,{label:s.type,color:g})]}),m&&j.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:m}),j.jsx("div",{ref:p,className:"flex justify-start",children:j.jsx("canvas",{ref:c},`ext-call-${n}-${h}`)})]})}function fC(s,t,i,n,l,o){s.beginPath(),s.moveTo(t+o,i),s.lineTo(t+n-o,i),s.quadraticCurveTo(t+n,i,t+n,i+o),s.lineTo(t+n,i+l-o),s.quadraticCurveTo(t+n,i+l,t+n-o,i+l),s.lineTo(t+o,i+l),s.quadraticCurveTo(t,i+l,t,i+l-o),s.lineTo(t,i+o),s.quadraticCurveTo(t,i,t+o,i),s.closePath(),s.fill()}function ml(s){return"#"+s.toString(16).padStart(6,"0")}function N_(s,t,i,n,l){return(s-i)**2+(t-n)**2<=l**2}function pC({item:s,color:t,moduleName:i,index:n}){const{findEventLocation:l}=Ui(),{navigate:o}=os(),{isDark:h}=Pu(),c=St.useRef(null),p=St.useRef(null),m=l(s.eventClass),g=St.useRef(o);g.current=o;const y=St.useRef(m);y.current=m;const _=St.useCallback(x=>{const b=c.current,S=y.current;if(!b||!S)return;const I=b.getBoundingClientRect(),B=window.devicePixelRatio||1,M=(x.clientX-I.left)*B,k=(x.clientY-I.top)*B,N=b.width,H=b.height,T=32*B,P=20*B,q=H/2-5*B,it=N-P-T-20*B;N_(M,k,it,q,T)&&g.current({type:"module",context:S.context,module:S.module,tab:"domainEvents"})},[]),E=St.useCallback(x=>{const b=c.current,S=y.current;if(!b||!S)return;const I=b.getBoundingClientRect(),B=window.devicePixelRatio||1,M=(x.clientX-I.left)*B,k=(x.clientY-I.top)*B,N=b.width,H=b.height,T=32*B,P=20*B,q=H/2-5*B,it=N-P-T-20*B;b.style.cursor=N_(M,k,it,q,T)?"pointer":"default"},[]);return St.useEffect(()=>{const x=c.current;if(!x)return;const b=window.devicePixelRatio||1,S=Math.min(p.current?.offsetWidth??420,420),I=120;x.width=S*b,x.height=I*b,x.style.width=`${S}px`,x.style.height=`${I}px`;const B=x.getContext("2d");if(!B)return;const M=x.width,k=x.height,N=ml(h?16007006:14753096),H=h?"rgba(244,63,94,0.15)":"rgba(225,29,72,0.15)",T=ml(h?16478597:16007006),P=ml(h?14870768:3359061),q=ml(h?4988309:16708551),it=ml(h?16498468:11817737),K=32*b,V=20*b,W=k/2-5*b,Y=V+K+20*b,ft=M-V-K-20*b,A=Y+K+10*b,D=ft-K,C=8*b,G=6*b,U=C+G;let w=0,O=0;const L=m?m.module.substring(0,3).toUpperCase():"?",X=m?`${m.context}/${m.module}`:"External";function Q(ut,lt,gt,yt,xt){B.beginPath(),B.arc(ut,lt,gt,0,Math.PI*2),B.fillStyle=yt,B.fill(),B.strokeStyle=xt,B.lineWidth=2*b,B.stroke()}function st(ut,lt,gt,yt,xt){B.font=yt,B.fillStyle=xt,B.textAlign="center",B.textBaseline="middle",B.fillText(ut,lt,gt)}function ht(){B.clearRect(0,0,M,k),Q(Y,W,K,H,N),st(i.substring(0,3).toUpperCase(),Y,W,`bold ${14*b}px "DM Sans", sans-serif`,N),st(i,Y,W+K+10*b,`${10*b}px "DM Sans", sans-serif`,P),Q(ft,W,K,H,N),st(L,ft,W,`bold ${14*b}px "DM Sans", sans-serif`,N),st(X,ft,W+K+10*b,`${10*b}px "DM Sans", sans-serif`,P),B.strokeStyle=T,B.lineWidth=2*b;let ut=A-U+w;for(;ut<D;){const It=Math.max(ut,A),Ht=Math.min(ut+C,D);It<Ht&&(B.beginPath(),B.moveTo(It,W),B.lineTo(Ht,W),B.stroke()),ut+=U}const lt=Y+K;B.fillStyle=T,B.beginPath(),B.moveTo(lt,W),B.lineTo(lt+10*b,W-6*b),B.lineTo(lt+10*b,W+6*b),B.closePath(),B.fill(),B.font=`500 ${11*b}px "DM Sans", sans-serif`;const gt=(A+D)/2,yt=W-20*b,xt=B.measureText(s.event),At=8*b,vt=xt.width+At*2,pt=11*b+At*2;B.fillStyle=q,mC(B,gt-vt/2,yt-pt/2,vt,pt,4*b),B.fillStyle=it,B.textAlign="center",B.textBaseline="middle",B.fillText(s.event,gt,yt)}function dt(){w=(w-.3*b+U)%U,ht(),O=requestAnimationFrame(dt)}return ht(),O=requestAnimationFrame(dt),x.addEventListener("click",_),x.addEventListener("mousemove",E),()=>{cancelAnimationFrame(O),x.removeEventListener("click",_),x.removeEventListener("mousemove",E)}},[h,s,i,m,_,E]),j.jsxs("article",{className:"item-card rounded-lg p-5 bg-white dark:bg-slate-800/40 border border-slate-200 dark:border-slate-700/50",style:{"--card-accent":"rgb(244 63 94)"},children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j.jsx("h3",{className:"text-base font-semibold cursor-help border-b border-dashed border-slate-400 dark:border-slate-600",title:s.class,children:s.name}),j.jsx(Lu,{label:"subscriber",color:t})]}),s.description&&j.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:s.description}),j.jsx("div",{ref:p,className:"flex justify-start",children:j.jsx("canvas",{ref:c},`subscriber-${n}-${h}`)})]})}function mC(s,t,i,n,l,o){s.beginPath(),s.moveTo(t+o,i),s.lineTo(t+n-o,i),s.quadraticCurveTo(t+n,i,t+n,i+o),s.lineTo(t+n,i+l-o),s.quadraticCurveTo(t+n,i+l,t+n-o,i+l),s.lineTo(t+o,i+l),s.quadraticCurveTo(t,i+l,t,i+l-o),s.lineTo(t,i+o),s.quadraticCurveTo(t,i,t+o,i),s.closePath(),s.fill()}function gC({contextName:s,moduleName:t,initialTab:i}){const{data:n}=Ui(),l=St.useMemo(()=>n?.contexts.find(E=>E.name===s)?.modules.find(E=>E.name===t)??null,[n,s,t]),o=St.useMemo(()=>cu.filter(_=>{const E=l?.[_.key];return E&&E.length>0}),[l]),h=St.useMemo(()=>{if(i){const _=o.find(E=>E.key===i);if(_)return _.key}return o[0]?.key??""},[i,o]),[c,p]=St.useState(h),[m,g]=St.useState(`${s}:${t}:${i??""}`),y=`${s}:${t}:${i??""}`;if(y!==m){g(y);const _=i?o.find(E=>E.key===i)?.key??o[0]?.key??"":o[0]?.key??"";p(_)}return l?j.jsxs("div",{className:"fade-in",children:[j.jsxs("header",{className:"mb-10",children:[j.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-primary-500 dark:text-primary-400 mb-2",children:s}),j.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:t}),l.description&&j.jsx("p",{className:"mt-3 text-slate-600 dark:text-slate-400 leading-relaxed",children:l.description})]}),o.length===0?j.jsx("p",{className:"text-slate-500",children:"No elements in this module."}):j.jsxs(j.Fragment,{children:[j.jsx(uC,{sections:o,module:l,activeKey:c,onTabChange:p}),o.filter(_=>_.key===c).map(_=>j.jsxs("div",{className:"grid grid-cols-1 gap-6 fade-in",children:[_.key==="externalCalls"&&l.externalCalls?.map((E,x)=>j.jsx(dC,{item:E,color:_.color,moduleName:t,index:x},x)),_.key==="eventSubscribers"&&l.eventSubscribers?.map((E,x)=>j.jsx(pC,{item:E,color:_.color,contextName:s,moduleName:t,index:x},x)),_.key!=="externalCalls"&&_.key!=="eventSubscribers"&&l[_.key]?.map((E,x)=>j.jsx(cC,{item:E,type:_.key,color:_.color},x))]},_.key))]})]}):null}function yC(){const{view:s}=os(),{data:t,loading:i,error:n}=Ui();return i?j.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:j.jsx(GE,{})}):n||!t?j.jsx("p",{className:"text-red-500",children:"Failed to load architecture data. Make sure arch.json exists."}):s.type==="module"?j.jsx(gC,{contextName:s.context,moduleName:s.module,initialTab:s.tab}):j.jsx(oC,{})}function vC(){return j.jsx(NE,{children:j.jsx(UE,{children:j.jsxs(IE,{children:[j.jsxs("div",{className:"flex min-h-screen",children:[j.jsx(PE,{}),j.jsxs("main",{className:"flex-1 ml-72 bg-grid",children:[j.jsx(FE,{}),j.jsx("div",{className:"px-8 py-8 max-w-5xl",children:j.jsx(yC,{})})]})]}),j.jsx(kE,{})]})})})}BE.createRoot(document.getElementById("root")).render(j.jsx(St.StrictMode,{children:j.jsx(vC,{})}));</script>
  <style rel="stylesheet" crossorigin>/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-space-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-500:oklch(63.7% .237 25.331);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-900:oklch(37.8% .077 168.94);--color-cyan-100:oklch(95.6% .045 203.388);--color-cyan-300:oklch(86.5% .127 207.078);--color-cyan-400:oklch(78.9% .154 211.53);--color-cyan-500:oklch(71.5% .143 215.221);--color-cyan-600:oklch(60.9% .126 221.723);--color-cyan-700:oklch(52% .105 223.128);--color-cyan-900:oklch(39.8% .07 227.392);--color-violet-100:oklch(94.3% .029 294.588);--color-violet-300:oklch(81.1% .111 293.571);--color-violet-400:oklch(70.2% .183 293.541);--color-violet-500:oklch(60.6% .25 292.717);--color-violet-600:oklch(54.1% .281 293.009);--color-violet-700:oklch(49.1% .27 292.581);--color-violet-900:oklch(38% .189 293.745);--color-rose-100:oklch(94.1% .03 12.58);--color-rose-300:oklch(81% .117 11.638);--color-rose-400:oklch(71.2% .194 13.428);--color-rose-500:oklch(64.5% .246 16.439);--color-rose-600:oklch(58.6% .253 17.585);--color-rose-700:oklch(51.4% .222 16.935);--color-rose-900:oklch(41% .159 10.272);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-slate-950:oklch(12.9% .042 264.695);--color-white:#fff;--spacing:.25rem;--container-3xl:48rem;--container-5xl:64rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-5xl:3rem;--text-5xl--line-height:1;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-extrabold:800;--tracking-tight:-.025em;--tracking-wider:.05em;--leading-relaxed:1.625;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--blur-sm:8px;--blur-lg:16px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-primary-50:#eef2ff;--color-primary-100:#e0e7ff;--color-primary-200:#c7d2fe;--color-primary-300:#a5b4fc;--color-primary-400:#818cf8;--color-primary-500:#6366f1;--color-primary-600:#4f46e5;--color-primary-700:#4338ca;--color-primary-800:#3730a3;--color-primary-900:#312e81}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.visible{visibility:visible}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-y-0{inset-block:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.left-0{left:calc(var(--spacing)*0)}.z-10{z-index:10}.mt-0\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-14{margin-top:calc(var(--spacing)*14)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.mb-10{margin-bottom:calc(var(--spacing)*10)}.mb-14{margin-bottom:calc(var(--spacing)*14)}.ml-72{margin-left:calc(var(--spacing)*72)}.ml-auto{margin-left:auto}.flex{display:flex}.grid{display:grid}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.h-0\.5{height:calc(var(--spacing)*.5)}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.min-h-\[50vh\]{min-height:50vh}.min-h-screen{min-height:100vh}.w-3{width:calc(var(--spacing)*3)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-72{width:calc(var(--spacing)*72)}.w-fit{width:fit-content}.w-full{width:100%}.max-w-3xl{max-width:var(--container-3xl)}.max-w-5xl{max-width:var(--container-5xl)}.min-w-5{min-width:calc(var(--spacing)*5)}.flex-1{flex:1}.shrink-0{flex-shrink:0}.cursor-help{cursor:help}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-start{justify-content:flex-start}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-t-\[3px\]{border-top-style:var(--tw-border-style);border-top-width:3px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-slate-100{border-color:var(--color-slate-100)}.border-slate-200{border-color:var(--color-slate-200)}.border-slate-200\/50{border-color:#e2e8f080}@supports (color:color-mix(in lab,red,red)){.border-slate-200\/50{border-color:color-mix(in oklab,var(--color-slate-200)50%,transparent)}}.border-slate-300{border-color:var(--color-slate-300)}.border-slate-400{border-color:var(--color-slate-400)}.border-transparent{border-color:#0000}.border-t-amber-500{border-top-color:var(--color-amber-500)}.border-t-cyan-500{border-top-color:var(--color-cyan-500)}.border-t-emerald-500{border-top-color:var(--color-emerald-500)}.border-t-primary-500{border-top-color:var(--color-primary-500)}.border-t-rose-500{border-top-color:var(--color-rose-500)}.border-t-slate-400{border-top-color:var(--color-slate-400)}.border-t-violet-500{border-top-color:var(--color-violet-500)}.bg-amber-100{background-color:var(--color-amber-100)}.bg-amber-500{background-color:var(--color-amber-500)}.bg-cyan-100{background-color:var(--color-cyan-100)}.bg-cyan-500{background-color:var(--color-cyan-500)}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-primary-100{background-color:var(--color-primary-100)}.bg-rose-100{background-color:var(--color-rose-100)}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-100{background-color:var(--color-slate-100)}.bg-slate-200{background-color:var(--color-slate-200)}.bg-violet-100{background-color:var(--color-violet-100)}.bg-violet-500{background-color:var(--color-violet-500)}.bg-white{background-color:var(--color-white)}.bg-white\/85{background-color:#ffffffd9}@supports (color:color-mix(in lab,red,red)){.bg-white\/85{background-color:color-mix(in oklab,var(--color-white)85%,transparent)}}.bg-white\/95{background-color:#fffffff2}@supports (color:color-mix(in lab,red,red)){.bg-white\/95{background-color:color-mix(in oklab,var(--color-white)95%,transparent)}}.bg-gradient-to-b{--tw-gradient-position:to bottom in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-primary-100{--tw-gradient-from:var(--color-primary-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-primary-400{--tw-gradient-from:var(--color-primary-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-slate-900{--tw-gradient-from:var(--color-slate-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-white{--tw-gradient-from:var(--color-white);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.via-primary-700{--tw-gradient-via:var(--color-primary-700);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-white{--tw-gradient-via:var(--color-white);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.to-primary-50{--tw-gradient-to:var(--color-primary-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-primary-500{--tw-gradient-to:var(--color-primary-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-primary-600{--tw-gradient-to:var(--color-primary-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-slate-50{--tw-gradient-to:var(--color-slate-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-white\/95{--tw-gradient-to:#fffffff2}@supports (color:color-mix(in lab,red,red)){.to-white\/95{--tw-gradient-to:color-mix(in oklab,var(--color-white)95%,transparent)}}.to-white\/95{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.p-1{padding:calc(var(--spacing)*1)}.p-2{padding:calc(var(--spacing)*2)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.px-1\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-3\.5{padding-inline:calc(var(--spacing)*3.5)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-8{padding-inline:calc(var(--spacing)*8)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-2{padding-block:calc(var(--spacing)*2)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-5{padding-block:calc(var(--spacing)*5)}.py-8{padding-block:calc(var(--spacing)*8)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pl-6{padding-left:calc(var(--spacing)*6)}.text-center{text-align:center}.text-left{text-align:left}.font-mono{font-family:var(--font-mono)}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[11px\]{font-size:11px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-extrabold{--tw-font-weight:var(--font-weight-extrabold);font-weight:var(--font-weight-extrabold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-\[0\.2em\]{--tw-tracking:.2em;letter-spacing:.2em}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-cyan-600{color:var(--color-cyan-600)}.text-cyan-700{color:var(--color-cyan-700)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-700{color:var(--color-emerald-700)}.text-primary-500{color:var(--color-primary-500)}.text-primary-600{color:var(--color-primary-600)}.text-primary-700{color:var(--color-primary-700)}.text-red-500{color:var(--color-red-500)}.text-rose-600{color:var(--color-rose-600)}.text-rose-700{color:var(--color-rose-700)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-900{color:var(--color-slate-900)}.text-transparent{color:#0000}.text-violet-600{color:var(--color-violet-600)}.text-violet-700{color:var(--color-violet-700)}.text-white{color:var(--color-white)}.uppercase{text-transform:uppercase}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.opacity-70{opacity:.7}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-primary-500\/30{--tw-shadow-color:#6366f14d}@supports (color:color-mix(in lab,red,red)){.shadow-primary-500\/30{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-primary-500)30%,transparent)var(--tw-shadow-alpha),transparent)}}.ring-primary-200\/50{--tw-ring-color:#c7d2fe80}@supports (color:color-mix(in lab,red,red)){.ring-primary-200\/50{--tw-ring-color:color-mix(in oklab,var(--color-primary-200)50%,transparent)}}.ring-slate-200\/50{--tw-ring-color:#e2e8f080}@supports (color:color-mix(in lab,red,red)){.ring-slate-200\/50{--tw-ring-color:color-mix(in oklab,var(--color-slate-200)50%,transparent)}}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-lg{--tw-backdrop-blur:blur(var(--blur-lg));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.select-none{-webkit-user-select:none;user-select:none}.last\:border-0:last-child{border-style:var(--tw-border-style);border-width:0}@media(hover:hover){.hover\:bg-amber-200:hover{background-color:var(--color-amber-200)}.hover\:bg-slate-50\/50:hover{background-color:#f8fafc80}@supports (color:color-mix(in lab,red,red)){.hover\:bg-slate-50\/50:hover{background-color:color-mix(in oklab,var(--color-slate-50)50%,transparent)}}.hover\:bg-slate-100:hover{background-color:var(--color-slate-100)}.hover\:bg-slate-200\/70:hover{background-color:#e2e8f0b3}@supports (color:color-mix(in lab,red,red)){.hover\:bg-slate-200\/70:hover{background-color:color-mix(in oklab,var(--color-slate-200)70%,transparent)}}.hover\:text-primary-600:hover{color:var(--color-primary-600)}.hover\:text-slate-700:hover{color:var(--color-slate-700)}.hover\:text-slate-800:hover{color:var(--color-slate-800)}.hover\:text-slate-900:hover{color:var(--color-slate-900)}}.focus\:ring-primary-500:focus{--tw-ring-color:var(--color-primary-500)}@media(min-width:40rem){.sm\:text-5xl{font-size:var(--text-5xl);line-height:var(--tw-leading,var(--text-5xl--line-height))}}@media(min-width:48rem){.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}.dark\:border-slate-600:where(.dark,.dark *){border-color:var(--color-slate-600)}.dark\:border-slate-700\/30:where(.dark,.dark *){border-color:#3141584d}@supports (color:color-mix(in lab,red,red)){.dark\:border-slate-700\/30:where(.dark,.dark *){border-color:color-mix(in oklab,var(--color-slate-700)30%,transparent)}}.dark\:border-slate-700\/50:where(.dark,.dark *){border-color:#31415880}@supports (color:color-mix(in lab,red,red)){.dark\:border-slate-700\/50:where(.dark,.dark *){border-color:color-mix(in oklab,var(--color-slate-700)50%,transparent)}}.dark\:border-slate-700\/60:where(.dark,.dark *){border-color:#31415899}@supports (color:color-mix(in lab,red,red)){.dark\:border-slate-700\/60:where(.dark,.dark *){border-color:color-mix(in oklab,var(--color-slate-700)60%,transparent)}}.dark\:border-slate-800:where(.dark,.dark *){border-color:var(--color-slate-800)}.dark\:border-slate-800\/50:where(.dark,.dark *){border-color:#1d293d80}@supports (color:color-mix(in lab,red,red)){.dark\:border-slate-800\/50:where(.dark,.dark *){border-color:color-mix(in oklab,var(--color-slate-800)50%,transparent)}}.dark\:bg-amber-900\/30:where(.dark,.dark *){background-color:#7b33064d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-amber-900\/30:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-amber-900)30%,transparent)}}.dark\:bg-amber-900\/50:where(.dark,.dark *){background-color:#7b330680}@supports (color:color-mix(in lab,red,red)){.dark\:bg-amber-900\/50:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-amber-900)50%,transparent)}}.dark\:bg-cyan-900\/50:where(.dark,.dark *){background-color:#104e6480}@supports (color:color-mix(in lab,red,red)){.dark\:bg-cyan-900\/50:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-cyan-900)50%,transparent)}}.dark\:bg-emerald-900\/50:where(.dark,.dark *){background-color:#004e3b80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-emerald-900\/50:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-emerald-900)50%,transparent)}}.dark\:bg-primary-900\/30:where(.dark,.dark *){background-color:#312e814d}@supports (color:color-mix(in lab,red,red)){.dark\:bg-primary-900\/30:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-primary-900)30%,transparent)}}.dark\:bg-rose-900\/50:where(.dark,.dark *){background-color:#8b083680}@supports (color:color-mix(in lab,red,red)){.dark\:bg-rose-900\/50:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-rose-900)50%,transparent)}}.dark\:bg-slate-600:where(.dark,.dark *){background-color:var(--color-slate-600)}.dark\:bg-slate-700:where(.dark,.dark *){background-color:var(--color-slate-700)}.dark\:bg-slate-800:where(.dark,.dark *){background-color:var(--color-slate-800)}.dark\:bg-slate-800\/40:where(.dark,.dark *){background-color:#1d293d66}@supports (color:color-mix(in lab,red,red)){.dark\:bg-slate-800\/40:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-slate-800)40%,transparent)}}.dark\:bg-slate-800\/60:where(.dark,.dark *){background-color:#1d293d99}@supports (color:color-mix(in lab,red,red)){.dark\:bg-slate-800\/60:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-slate-800)60%,transparent)}}.dark\:bg-slate-800\/70:where(.dark,.dark *){background-color:#1d293db3}@supports (color:color-mix(in lab,red,red)){.dark\:bg-slate-800\/70:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-slate-800)70%,transparent)}}.dark\:bg-slate-900:where(.dark,.dark *){background-color:var(--color-slate-900)}.dark\:bg-slate-900\/85:where(.dark,.dark *){background-color:#0f172bd9}@supports (color:color-mix(in lab,red,red)){.dark\:bg-slate-900\/85:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-slate-900)85%,transparent)}}.dark\:bg-slate-900\/95:where(.dark,.dark *){background-color:#0f172bf2}@supports (color:color-mix(in lab,red,red)){.dark\:bg-slate-900\/95:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-slate-900)95%,transparent)}}.dark\:bg-violet-900\/50:where(.dark,.dark *){background-color:#4d179a80}@supports (color:color-mix(in lab,red,red)){.dark\:bg-violet-900\/50:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-violet-900)50%,transparent)}}.dark\:from-primary-900\/40:where(.dark,.dark *){--tw-gradient-from:#312e8166}@supports (color:color-mix(in lab,red,red)){.dark\:from-primary-900\/40:where(.dark,.dark *){--tw-gradient-from:color-mix(in oklab,var(--color-primary-900)40%,transparent)}}.dark\:from-primary-900\/40:where(.dark,.dark *){--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:from-slate-900:where(.dark,.dark *){--tw-gradient-from:var(--color-slate-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:from-white:where(.dark,.dark *){--tw-gradient-from:var(--color-white);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:via-primary-300:where(.dark,.dark *){--tw-gradient-via:var(--color-primary-300);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.dark\:via-slate-900:where(.dark,.dark *){--tw-gradient-via:var(--color-slate-900);--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.dark\:to-primary-400:where(.dark,.dark *){--tw-gradient-to:var(--color-primary-400);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:to-primary-800\/20:where(.dark,.dark *){--tw-gradient-to:#3730a333}@supports (color:color-mix(in lab,red,red)){.dark\:to-primary-800\/20:where(.dark,.dark *){--tw-gradient-to:color-mix(in oklab,var(--color-primary-800)20%,transparent)}}.dark\:to-primary-800\/20:where(.dark,.dark *){--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:to-slate-900\/95:where(.dark,.dark *){--tw-gradient-to:#0f172bf2}@supports (color:color-mix(in lab,red,red)){.dark\:to-slate-900\/95:where(.dark,.dark *){--tw-gradient-to:color-mix(in oklab,var(--color-slate-900)95%,transparent)}}.dark\:to-slate-900\/95:where(.dark,.dark *){--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:to-slate-950:where(.dark,.dark *){--tw-gradient-to:var(--color-slate-950);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.dark\:text-amber-300:where(.dark,.dark *){color:var(--color-amber-300)}.dark\:text-amber-400:where(.dark,.dark *){color:var(--color-amber-400)}.dark\:text-cyan-300:where(.dark,.dark *){color:var(--color-cyan-300)}.dark\:text-cyan-400:where(.dark,.dark *){color:var(--color-cyan-400)}.dark\:text-emerald-300:where(.dark,.dark *){color:var(--color-emerald-300)}.dark\:text-emerald-400:where(.dark,.dark *){color:var(--color-emerald-400)}.dark\:text-primary-300:where(.dark,.dark *){color:var(--color-primary-300)}.dark\:text-primary-400:where(.dark,.dark *){color:var(--color-primary-400)}.dark\:text-rose-300:where(.dark,.dark *){color:var(--color-rose-300)}.dark\:text-rose-400:where(.dark,.dark *){color:var(--color-rose-400)}.dark\:text-slate-100:where(.dark,.dark *){color:var(--color-slate-100)}.dark\:text-slate-200:where(.dark,.dark *){color:var(--color-slate-200)}.dark\:text-slate-300:where(.dark,.dark *){color:var(--color-slate-300)}.dark\:text-slate-400:where(.dark,.dark *){color:var(--color-slate-400)}.dark\:text-slate-500:where(.dark,.dark *){color:var(--color-slate-500)}.dark\:text-violet-300:where(.dark,.dark *){color:var(--color-violet-300)}.dark\:text-violet-400:where(.dark,.dark *){color:var(--color-violet-400)}.dark\:ring-primary-700\/30:where(.dark,.dark *){--tw-ring-color:#4338ca4d}@supports (color:color-mix(in lab,red,red)){.dark\:ring-primary-700\/30:where(.dark,.dark *){--tw-ring-color:color-mix(in oklab,var(--color-primary-700)30%,transparent)}}.dark\:ring-slate-600\/30:where(.dark,.dark *){--tw-ring-color:#45556c4d}@supports (color:color-mix(in lab,red,red)){.dark\:ring-slate-600\/30:where(.dark,.dark *){--tw-ring-color:color-mix(in oklab,var(--color-slate-600)30%,transparent)}}@media(hover:hover){.dark\:hover\:bg-amber-800\/40:where(.dark,.dark *):hover{background-color:#953d0066}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-amber-800\/40:where(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--color-amber-800)40%,transparent)}}.dark\:hover\:bg-slate-700:where(.dark,.dark *):hover{background-color:var(--color-slate-700)}.dark\:hover\:bg-slate-700\/50:where(.dark,.dark *):hover{background-color:#31415880}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-slate-700\/50:where(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--color-slate-700)50%,transparent)}}.dark\:hover\:bg-slate-800:where(.dark,.dark *):hover{background-color:var(--color-slate-800)}.dark\:hover\:bg-slate-800\/30:where(.dark,.dark *):hover{background-color:#1d293d4d}@supports (color:color-mix(in lab,red,red)){.dark\:hover\:bg-slate-800\/30:where(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--color-slate-800)30%,transparent)}}.dark\:hover\:text-primary-400:where(.dark,.dark *):hover{color:var(--color-primary-400)}.dark\:hover\:text-slate-300:where(.dark,.dark *):hover{color:var(--color-slate-300)}.dark\:hover\:text-white:where(.dark,.dark *):hover{color:var(--color-white)}}}body{font-family:"ui-sans-serif",sans-serif}code,.font-mono{font-family:Fira Code,monospace}h1,h2,h3,h4,h5,h6{font-family:Outfit,sans-serif}.nav-link{transition:all .15s}.nav-link[aria-current=page]{color:#6366f1;background:linear-gradient(135deg,#6366f11a,#818cf80f)}.dark .nav-link[aria-current=page]{color:#818cf8;background:linear-gradient(135deg,#6366f126,#818cf814)}.nav-link:hover:not([aria-current=page]){background-color:#f1f5f9}.dark .nav-link:hover:not([aria-current=page]){background-color:#1e293b}.tab-panel.hidden{display:none}details summary{cursor:pointer;list-style:none}details summary::-webkit-details-marker{display:none}details summary::marker{display:none}details[open] .chevron{transform:rotate(90deg)}.chevron{transition:transform .2s}.fade-in{animation:.35s ease-out fadeIn}@keyframes fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.stagger-in>*{opacity:0;animation:.4s ease-out forwards fadeIn}.stagger-in>:first-child{animation-delay:0s}.stagger-in>:nth-child(2){animation-delay:50ms}.stagger-in>:nth-child(3){animation-delay:.1s}.stagger-in>:nth-child(4){animation-delay:.15s}.stagger-in>:nth-child(5){animation-delay:.2s}.stagger-in>:nth-child(6){animation-delay:.25s}.stagger-in>:nth-child(7){animation-delay:.3s}.stagger-in>:nth-child(8){animation-delay:.35s}.card{transition:border-color .2s,box-shadow .2s,transform .2s}.card:hover{border-color:#a5b4fc;transform:translateY(-2px);box-shadow:0 8px 25px -5px #6366f11a,0 0 0 1px #6366f10a}.dark .card:hover{border-color:#4338ca80;box-shadow:0 8px 25px -5px #6366f11f}.theme-btn[aria-pressed=true]{color:#6366f1;background-color:#fff;box-shadow:0 1px 3px #00000014}.dark .theme-btn[aria-pressed=true]{color:#818cf8;background-color:#334155}.spinner{border:3px solid #e2e8f0;border-top-color:#6366f1;border-radius:50%;width:40px;height:40px;animation:.8s cubic-bezier(.5,0,.5,1) infinite spin}@keyframes spin{to{transform:rotate(360deg)}}[hidden]{display:none!important}@media print{aside,header{display:none}main{margin-left:0}}.toast{z-index:50;transition:transform .35s cubic-bezier(.34,1.56,.64,1);position:fixed;top:1rem;right:1rem;transform:translate(120%)}.toast.show{transform:translate(0)}.toast-success{background:linear-gradient(135deg,#22c55e,#16a34a)}.toast-error{background:linear-gradient(135deg,#ef4444,#dc2626)}.spin{animation:.8s cubic-bezier(.5,0,.5,1) infinite spin}.bg-grid{background-image:radial-gradient(circle at 1px 1px,#94a3b812 1px,#0000 0);background-size:20px 20px}.dark .bg-grid{background-image:radial-gradient(circle at 1px 1px,#47556926 1px,#0000 0)}.item-card{transition:background-color .15s}.item-card:hover{background-color:#f8fafc}.dark .item-card:hover{background-color:#1e293b80}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}</style>
</head>
<body class="min-h-screen bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100">
    <div id="root"></div>
    <script>
        window.__ARCH_CONFIG__ = {
            archJsonUrl: "<?= $archJsonUrl ?>",
            archJsonUpdateUrl: "<?= $archJsonUpdateUrl ?>"
        };
    </script>
</body>
</html>
